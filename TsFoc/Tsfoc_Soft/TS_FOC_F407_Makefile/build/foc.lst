ARM GAS  /tmp/cc86BncK.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"foc.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./underlying/src/foc.c"
  20              		.global	__aeabi_f2d
  21              		.global	__aeabi_d2f
  22              		.section	.text._normalizeRadian,"ax",%progbits
  23              		.align	1
  24              		.global	_normalizeRadian
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  29              	_normalizeRadian:
  30              	.LVL0:
  31              	.LFB242:
   1:./underlying/src/foc.c **** #include "ts_foc.h"
   2:./underlying/src/foc.c **** 
   3:./underlying/src/foc.c **** // å½’ä¸€åŒ–è§’åº¦åˆ° [0,2PI]
   4:./underlying/src/foc.c **** float _normalizeRadian(float angle)
   5:./underlying/src/foc.c **** {
  32              		.loc 1 5 1 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              		.loc 1 5 1 is_stmt 0 view .LVU1
  37 0000 08B5     		push	{r3, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 8
  40              		.cfi_offset 3, -8
  41              		.cfi_offset 14, -4
  42 0002 10EE100A 		vmov	r0, s0
   6:./underlying/src/foc.c ****   float a = fmod(angle, 2*PI);   //å–ä½™è¿ç®—å¯ä»¥ç”¨äºŽå½’ä¸€åŒ–ï¼Œåˆ—å‡ºç‰¹æ®Šå€¼ä¾‹å­ç®—ä¾¿ç
  43              		.loc 1 6 3 is_stmt 1 view .LVU2
  44              		.loc 1 6 13 is_stmt 0 view .LVU3
  45 0006 FFF7FEFF 		bl	__aeabi_f2d
  46              	.LVL1:
  47              		.loc 1 6 13 view .LVU4
  48 000a 9FED0B1B 		vldr.64	d1, .L5
  49 000e 41EC100B 		vmov	d0, r0, r1
  50 0012 FFF7FEFF 		bl	fmod
  51              	.LVL2:
  52 0016 51EC100B 		vmov	r0, r1, d0
ARM GAS  /tmp/cc86BncK.s 			page 2


  53              		.loc 1 6 9 discriminator 1 view .LVU5
  54 001a FFF7FEFF 		bl	__aeabi_d2f
  55              	.LVL3:
  56 001e 00EE100A 		vmov	s0, r0
  57              	.LVL4:
   7:./underlying/src/foc.c ****   return a >= 0 ? a : (a + 2*PI);  
  58              		.loc 1 7 3 is_stmt 1 view .LVU6
  59              		.loc 1 7 21 is_stmt 0 view .LVU7
  60 0022 B5EEC00A 		vcmpe.f32	s0, #0
  61 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  62 002a 00DB     		blt	.L4
  63              	.L1:
   8:./underlying/src/foc.c ****   //ä¸‰ç›®è¿ç®—ç¬¦ã€‚æ ¼å¼ï¼šcondition ? expr1 : expr2 
   9:./underlying/src/foc.c ****   //å…¶ä¸­ï¼Œcondition æ˜¯è¦æ±‚å€¼çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æžœæ¡ä»¶æˆç«‹ï¼Œåˆ™è¿”å›ž expr1 çš„å€¼
  10:./underlying/src/foc.c ****   //fmod å‡½æ•°çš„ä½™æ•°çš„ç¬¦å·ä¸Žé™¤æ•°ç›¸åŒã€‚å› æ­¤ï¼Œå½“ angle çš„å€¼ä¸ºè´Ÿæ•°æ—¶ï¼Œä½™æ•°çš
  11:./underlying/src/foc.c ****   //ä¾‹å¦‚ï¼Œå½“ angle çš„å€¼ä¸º -PI/2ï¼Œ_2PI çš„å€¼ä¸º 2PI æ—¶ï¼Œfmod(angle, _2PI) å°†è¿”å›žä¸€ä¸ª
  12:./underlying/src/foc.c **** }
  64              		.loc 1 12 1 view .LVU8
  65 002c 08BD     		pop	{r3, pc}
  66              	.L4:
   7:./underlying/src/foc.c ****   return a >= 0 ? a : (a + 2*PI);  
  67              		.loc 1 7 21 discriminator 2 view .LVU9
  68 002e DFED047A 		vldr.32	s15, .L5+8
  69 0032 30EE270A 		vadd.f32	s0, s0, s15
   7:./underlying/src/foc.c ****   return a >= 0 ? a : (a + 2*PI);  
  70              		.loc 1 7 21 view .LVU10
  71 0036 F9E7     		b	.L1
  72              	.L6:
  73              		.align	3
  74              	.L5:
  75 0038 00000060 		.word	1610612736
  76 003c FB211940 		.word	1075388923
  77 0040 DB0FC940 		.word	1086918619
  78              		.cfi_endproc
  79              	.LFE242:
  81              		.section	.text._normalizeAngle,"ax",%progbits
  82              		.align	1
  83              		.global	_normalizeAngle
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  88              	_normalizeAngle:
  89              	.LVL5:
  90              	.LFB243:
  13:./underlying/src/foc.c **** 
  14:./underlying/src/foc.c **** // å½’ä¸€åŒ–è§’åº¦åˆ° [0, 360] åº¦
  15:./underlying/src/foc.c **** float _normalizeAngle(float angle) {
  91              		.loc 1 15 36 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		.loc 1 15 36 is_stmt 0 view .LVU12
  96 0000 08B5     		push	{r3, lr}
  97              	.LCFI1:
  98              		.cfi_def_cfa_offset 8
  99              		.cfi_offset 3, -8
 100              		.cfi_offset 14, -4
ARM GAS  /tmp/cc86BncK.s 			page 3


 101 0002 10EE100A 		vmov	r0, s0
  16:./underlying/src/foc.c ****     float a = fmod(angle, 360.0);   // å–ä½™è¿ç®—å¯ä»¥ç”¨äºŽå½’ä¸€åŒ–
 102              		.loc 1 16 5 is_stmt 1 view .LVU13
 103              		.loc 1 16 15 is_stmt 0 view .LVU14
 104 0006 FFF7FEFF 		bl	__aeabi_f2d
 105              	.LVL6:
 106              		.loc 1 16 15 view .LVU15
 107 000a 9FED0B1B 		vldr.64	d1, .L11
 108 000e 41EC100B 		vmov	d0, r0, r1
 109 0012 FFF7FEFF 		bl	fmod
 110              	.LVL7:
 111 0016 51EC100B 		vmov	r0, r1, d0
 112              		.loc 1 16 11 discriminator 1 view .LVU16
 113 001a FFF7FEFF 		bl	__aeabi_d2f
 114              	.LVL8:
 115 001e 00EE100A 		vmov	s0, r0
 116              	.LVL9:
  17:./underlying/src/foc.c ****     return a >= 0 ? a : (a + 360.0);  
 117              		.loc 1 17 5 is_stmt 1 view .LVU17
 118              		.loc 1 17 23 is_stmt 0 view .LVU18
 119 0022 B5EEC00A 		vcmpe.f32	s0, #0
 120 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 121 002a 00DB     		blt	.L10
 122              	.L7:
  18:./underlying/src/foc.c **** }
 123              		.loc 1 18 1 view .LVU19
 124 002c 08BD     		pop	{r3, pc}
 125              	.L10:
  17:./underlying/src/foc.c ****     return a >= 0 ? a : (a + 360.0);  
 126              		.loc 1 17 23 discriminator 2 view .LVU20
 127 002e DFED047A 		vldr.32	s15, .L11+8
 128 0032 30EE270A 		vadd.f32	s0, s0, s15
  17:./underlying/src/foc.c ****     return a >= 0 ? a : (a + 360.0);  
 129              		.loc 1 17 23 view .LVU21
 130 0036 F9E7     		b	.L7
 131              	.L12:
 132              		.align	3
 133              	.L11:
 134 0038 00000000 		.word	0
 135 003c 00807640 		.word	1081507840
 136 0040 0000B443 		.word	1135869952
 137              		.cfi_endproc
 138              	.LFE243:
 140              		.section	.text.Get_filter_Velocity,"ax",%progbits
 141              		.align	1
 142              		.global	Get_filter_Velocity
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 147              	Get_filter_Velocity:
 148              	.LVL10:
 149              	.LFB245:
  19:./underlying/src/foc.c **** 
  20:./underlying/src/foc.c **** 
  21:./underlying/src/foc.c **** /// @brief è®¡ç®—ç”µæœº0ç”µè§’åº¦
  22:./underlying/src/foc.c **** /// @param motor 
  23:./underlying/src/foc.c **** int aligns_Motor_Zero_Angle(Motor* motor)
ARM GAS  /tmp/cc86BncK.s 			page 4


  24:./underlying/src/foc.c **** {
  25:./underlying/src/foc.c ****   setTorque(motor,3, _3PI_2);
  26:./underlying/src/foc.c ****   HAL_Delay(2000);  
  27:./underlying/src/foc.c ****   Read_AS5600_Angle(motor->As5600_Sensor);
  28:./underlying/src/foc.c ****   motor->zero_electric_angle = _electricalAngle(motor);
  29:./underlying/src/foc.c ****   setTorque(motor,0, _3PI_2);
  30:./underlying/src/foc.c ****   printf("%då·ç”µæœºé›¶ç”µè§’åº¦:%.2f\r\n",motor->Motor_ID,motor->zero_electric_angle);
  31:./underlying/src/foc.c ****   return 0;
  32:./underlying/src/foc.c **** }
  33:./underlying/src/foc.c **** 
  34:./underlying/src/foc.c **** /// @brief èŽ·å–ç”µæœºé€Ÿåº¦(å¸¦æœ‰æ»¤æ³¢)
  35:./underlying/src/foc.c **** /// @param motor 
  36:./underlying/src/foc.c **** /// @return 
  37:./underlying/src/foc.c **** float Get_filter_Velocity(Motor* motor)
  38:./underlying/src/foc.c **** {
 150              		.loc 1 38 1 is_stmt 1 view -0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 0
 153              		@ frame_needed = 0, uses_anonymous_args = 0
 154              		.loc 1 38 1 is_stmt 0 view .LVU23
 155 0000 10B5     		push	{r4, lr}
 156              	.LCFI2:
 157              		.cfi_def_cfa_offset 8
 158              		.cfi_offset 4, -8
 159              		.cfi_offset 14, -4
 160 0002 0446     		mov	r4, r0
  39:./underlying/src/foc.c ****   //èŽ·å–é€Ÿåº¦æ•°æ®å¹¶æ»¤æ³¢
  40:./underlying/src/foc.c ****   float vel_M0_ori=Get_AS5600_Velocity(motor->As5600_Sensor);
 161              		.loc 1 40 3 is_stmt 1 view .LVU24
 162              		.loc 1 40 20 is_stmt 0 view .LVU25
 163 0004 806A     		ldr	r0, [r0, #40]
 164              	.LVL11:
 165              		.loc 1 40 20 view .LVU26
 166 0006 FFF7FEFF 		bl	Get_AS5600_Velocity
 167              	.LVL12:
  41:./underlying/src/foc.c ****   float vel_M0_flit=Lowpass_Filter_calc(motor->Lowpass_Filter_Vel,motor->DIR*vel_M0_ori);
 168              		.loc 1 41 3 is_stmt 1 view .LVU27
 169              		.loc 1 41 21 is_stmt 0 view .LVU28
 170 000a D4ED027A 		vldr.32	s15, [r4, #8]	@ int
 171 000e F8EEE77A 		vcvt.f32.s32	s15, s15
 172 0012 27EE800A 		vmul.f32	s0, s15, s0
 173              	.LVL13:
 174              		.loc 1 41 21 view .LVU29
 175 0016 A06B     		ldr	r0, [r4, #56]
 176 0018 FFF7FEFF 		bl	Lowpass_Filter_calc
 177              	.LVL14:
  42:./underlying/src/foc.c ****   // motor->As5600_Sensor->Velocity = vel_M0_flit;
  43:./underlying/src/foc.c ****   return vel_M0_flit;   //è€ƒè™‘æ–¹å‘
 178              		.loc 1 43 3 is_stmt 1 view .LVU30
  44:./underlying/src/foc.c **** }
 179              		.loc 1 44 1 is_stmt 0 view .LVU31
 180 001c 10BD     		pop	{r4, pc}
 181              		.loc 1 44 1 view .LVU32
 182              		.cfi_endproc
 183              	.LFE245:
 185              		.section	.text.cal_Iq_Id,"ax",%progbits
 186              		.align	1
ARM GAS  /tmp/cc86BncK.s 			page 5


 187              		.global	cal_Iq_Id
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 192              	cal_Iq_Id:
 193              	.LVL15:
 194              	.LFB246:
  45:./underlying/src/foc.c **** 
  46:./underlying/src/foc.c **** /// @brief é€šè¿‡Ia,Ib,Icè®¡ç®—Iq,Id(ç›®å‰ä»…è¾“å‡ºIq)
  47:./underlying/src/foc.c **** /// @param Sensor 
  48:./underlying/src/foc.c **** /// @param angle_el 
  49:./underlying/src/foc.c **** /// @return 
  50:./underlying/src/foc.c **** float cal_Iq_Id(Inlinecurrent_Typedef *Sensor, float angle_el)
  51:./underlying/src/foc.c **** {
 195              		.loc 1 51 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              		.loc 1 51 1 is_stmt 0 view .LVU34
 200 0000 08B5     		push	{r3, lr}
 201              	.LCFI3:
 202              		.cfi_def_cfa_offset 8
 203              		.cfi_offset 3, -8
 204              		.cfi_offset 14, -4
 205 0002 2DED068B 		vpush.64	{d8, d9, d10}
 206              	.LCFI4:
 207              		.cfi_def_cfa_offset 32
 208              		.cfi_offset 80, -32
 209              		.cfi_offset 81, -28
 210              		.cfi_offset 82, -24
 211              		.cfi_offset 83, -20
 212              		.cfi_offset 84, -16
 213              		.cfi_offset 85, -12
 214 0006 0346     		mov	r3, r0
 215 0008 10EE100A 		vmov	r0, s0
 216              	.LVL16:
  52:./underlying/src/foc.c ****   float I_alpha = Sensor->I_a;
 217              		.loc 1 52 3 is_stmt 1 view .LVU35
 218              		.loc 1 52 9 is_stmt 0 view .LVU36
 219 000c D3ED038A 		vldr.32	s17, [r3, #12]
 220              	.LVL17:
  53:./underlying/src/foc.c ****   float I_beta = _1_SQRT3 * Sensor->I_a + _2_SQRT3 * Sensor->I_b;
 221              		.loc 1 53 3 is_stmt 1 view .LVU37
 222              		.loc 1 53 35 is_stmt 0 view .LVU38
 223 0010 93ED038A 		vldr.32	s16, [r3, #12]
 224              		.loc 1 53 27 view .LVU39
 225 0014 DFED187A 		vldr.32	s15, .L17
 226 0018 28EE278A 		vmul.f32	s16, s16, s15
 227              		.loc 1 53 60 view .LVU40
 228 001c D3ED047A 		vldr.32	s15, [r3, #16]
 229              		.loc 1 53 52 view .LVU41
 230 0020 9FED167A 		vldr.32	s14, .L17+4
 231 0024 67EE877A 		vmul.f32	s15, s15, s14
 232              		.loc 1 53 9 view .LVU42
 233 0028 38EE278A 		vadd.f32	s16, s16, s15
 234              	.LVL18:
  54:./underlying/src/foc.c **** 
ARM GAS  /tmp/cc86BncK.s 			page 6


  55:./underlying/src/foc.c ****   float ct = cos(angle_el);
 235              		.loc 1 55 3 is_stmt 1 view .LVU43
 236              		.loc 1 55 14 is_stmt 0 view .LVU44
 237 002c FFF7FEFF 		bl	__aeabi_f2d
 238              	.LVL19:
 239              		.loc 1 55 14 view .LVU45
 240 0030 41EC190B 		vmov	d9, r0, r1
 241 0034 B0EE490A 		vmov.f32	s0, s18
 242 0038 F0EE690A 		vmov.f32	s1, s19
 243 003c FFF7FEFF 		bl	cos
 244              	.LVL20:
 245 0040 51EC100B 		vmov	r0, r1, d0
 246              		.loc 1 55 9 discriminator 1 view .LVU46
 247 0044 FFF7FEFF 		bl	__aeabi_d2f
 248              	.LVL21:
 249 0048 0AEE100A 		vmov	s20, r0
 250              	.LVL22:
  56:./underlying/src/foc.c ****   float st = sin(angle_el);
 251              		.loc 1 56 3 is_stmt 1 view .LVU47
 252              		.loc 1 56 14 is_stmt 0 view .LVU48
 253 004c B0EE490A 		vmov.f32	s0, s18
 254 0050 F0EE690A 		vmov.f32	s1, s19
 255 0054 FFF7FEFF 		bl	sin
 256              	.LVL23:
 257              		.loc 1 56 14 view .LVU49
 258 0058 51EC100B 		vmov	r0, r1, d0
 259              		.loc 1 56 9 discriminator 1 view .LVU50
 260 005c FFF7FEFF 		bl	__aeabi_d2f
 261              	.LVL24:
 262 0060 07EE900A 		vmov	s15, r0
 263              	.LVL25:
  57:./underlying/src/foc.c ****   float I_q = I_beta * ct - I_alpha * st;
 264              		.loc 1 57 3 is_stmt 1 view .LVU51
 265              		.loc 1 57 22 is_stmt 0 view .LVU52
 266 0064 28EE0A8A 		vmul.f32	s16, s16, s20
 267              	.LVL26:
 268              		.loc 1 57 37 view .LVU53
 269 0068 28EEA70A 		vmul.f32	s0, s17, s15
 270              	.LVL27:
  58:./underlying/src/foc.c **** 	
  59:./underlying/src/foc.c ****   return I_q;
 271              		.loc 1 59 3 is_stmt 1 view .LVU54
  60:./underlying/src/foc.c **** }
 272              		.loc 1 60 1 is_stmt 0 view .LVU55
 273 006c 38EE400A 		vsub.f32	s0, s16, s0
 274              	.LVL28:
 275              		.loc 1 60 1 view .LVU56
 276 0070 BDEC068B 		vldm	sp!, {d8-d10}
 277              	.LCFI5:
 278              		.cfi_restore 84
 279              		.cfi_restore 85
 280              		.cfi_restore 82
 281              		.cfi_restore 83
 282              		.cfi_restore 80
 283              		.cfi_restore 81
 284              		.cfi_def_cfa_offset 8
 285              	.LVL29:
ARM GAS  /tmp/cc86BncK.s 			page 7


 286              		.loc 1 60 1 view .LVU57
 287 0074 08BD     		pop	{r3, pc}
 288              	.L18:
 289 0076 00BF     		.align	2
 290              	.L17:
 291 0078 3ACD133F 		.word	1058262330
 292 007c 3ACD933F 		.word	1066650938
 293              		.cfi_endproc
 294              	.LFE246:
 296              		.section	.text._electricalAngle,"ax",%progbits
 297              		.align	1
 298              		.global	_electricalAngle
 299              		.syntax unified
 300              		.thumb
 301              		.thumb_func
 303              	_electricalAngle:
 304              	.LVL30:
 305              	.LFB255:
  61:./underlying/src/foc.c **** 
  62:./underlying/src/foc.c **** /// @brief èŽ·å–ç”µæœºæ€»ç”µæµ(å¸¦æ»¤æ³¢)
  63:./underlying/src/foc.c **** /// @param motor 
  64:./underlying/src/foc.c **** /// @return 
  65:./underlying/src/foc.c **** float Get_Current(Motor* motor)
  66:./underlying/src/foc.c **** {
  67:./underlying/src/foc.c ****   float I_q_M0_ori=cal_Iq_Id(motor->Inlinecurrent,_electricalAngle(motor));
  68:./underlying/src/foc.c ****   float I_q_M0_flit=Lowpass_Filter_calc(motor->Lowpass_Filter_Curr, I_q_M0_ori);
  69:./underlying/src/foc.c ****   motor->Inlinecurrent->I_Q = I_q_M0_flit;
  70:./underlying/src/foc.c ****   return I_q_M0_flit;
  71:./underlying/src/foc.c **** }
  72:./underlying/src/foc.c **** 
  73:./underlying/src/foc.c **** 
  74:./underlying/src/foc.c **** /// @brief è§’åº¦,é€Ÿåº¦çŽ¯(ç”µåŽ‹)
  75:./underlying/src/foc.c **** /// @param motor 
  76:./underlying/src/foc.c **** /// @param target 
  77:./underlying/src/foc.c **** void Set_Velocity_Angle(Motor* motor, float target)
  78:./underlying/src/foc.c **** {
  79:./underlying/src/foc.c ****  setTorque(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As
  80:./underlying/src/foc.c **** }
  81:./underlying/src/foc.c **** 
  82:./underlying/src/foc.c **** /// @brief é€Ÿåº¦çŽ¯(ç”µåŽ‹)
  83:./underlying/src/foc.c **** /// @param motor 
  84:./underlying/src/foc.c **** /// @param target 
  85:./underlying/src/foc.c **** void Set_Velocity(Motor* motor, float target)
  86:./underlying/src/foc.c **** {
  87:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Vel,(target-Get_filter_Velocity(motor))*180/PI),_electricalAn
  88:./underlying/src/foc.c **** }
  89:./underlying/src/foc.c **** 
  90:./underlying/src/foc.c **** /// @brief åŠ›ä½(ç”µåŽ‹)
  91:./underlying/src/foc.c **** /// @param motor 
  92:./underlying/src/foc.c **** /// @param target 
  93:./underlying/src/foc.c **** void Set_Force_Angle(Motor* motor, float target)
  94:./underlying/src/foc.c **** {
  95:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As5600_Sensor))*180/PI),_
  96:./underlying/src/foc.c **** }
  97:./underlying/src/foc.c **** 
  98:./underlying/src/foc.c **** /// @brief åŠ›çŸ©(ç”µæµ)
  99:./underlying/src/foc.c **** /// @param motor 
ARM GAS  /tmp/cc86BncK.s 			page 8


 100:./underlying/src/foc.c **** /// @param Target 
 101:./underlying/src/foc.c **** void setTorque_Curr(Motor* motor, float Target)
 102:./underlying/src/foc.c **** {
 103:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Curr,Target-Get_Current(motor)),_electricalAngle(motor));
 104:./underlying/src/foc.c **** }
 105:./underlying/src/foc.c **** 
 106:./underlying/src/foc.c **** /// @brief åŠ›ä½é—­çŽ¯(ç”µæµ)
 107:./underlying/src/foc.c **** /// @param motor 
 108:./underlying/src/foc.c **** /// @param Target 
 109:./underlying/src/foc.c **** void set_Force_Angle_Curr(Motor* motor, float Target)      //åŠ›ä½é—­çŽ¯
 110:./underlying/src/foc.c **** {
 111:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Ang, (Target-Get_AS5600_Angle(motor->As5600_Sensor))*180
 112:./underlying/src/foc.c **** }
 113:./underlying/src/foc.c **** 
 114:./underlying/src/foc.c **** /// @brief é€Ÿåº¦é—­çŽ¯(ç”µæµ)
 115:./underlying/src/foc.c **** /// @param motor 
 116:./underlying/src/foc.c **** /// @param Target 
 117:./underlying/src/foc.c **** void set_Velocity_Curr(Motor* motor, float Target)          //é€Ÿåº¦é—­çŽ¯
 118:./underlying/src/foc.c **** {
 119:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,(Target-Get_filter_Velocity(motor))*180/PI)); 
 120:./underlying/src/foc.c **** }
 121:./underlying/src/foc.c **** 
 122:./underlying/src/foc.c **** /// @brief è§’åº¦-é€Ÿåº¦-åŠ› ä½ç½®é—­çŽ¯
 123:./underlying/src/foc.c **** /// @param motor 
 124:./underlying/src/foc.c **** /// @param Target 
 125:./underlying/src/foc.c **** void set_Velocity_Angle_Curr(Motor* motor, float Target)   //è§’åº¦-é€Ÿåº¦-åŠ› ä½ç½®é—­çŽ¯
 126:./underlying/src/foc.c **** {
 127:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(Target-Get_AS5600_Angle(mot
 128:./underlying/src/foc.c **** }
 129:./underlying/src/foc.c **** 
 130:./underlying/src/foc.c **** 
 131:./underlying/src/foc.c **** 
 132:./underlying/src/foc.c **** 
 133:./underlying/src/foc.c **** /// @brief èŽ·å–ç”µè§’åº¦
 134:./underlying/src/foc.c **** /// @return float
 135:./underlying/src/foc.c **** float _electricalAngle(Motor* motor)
 136:./underlying/src/foc.c **** {
 306              		.loc 1 136 1 is_stmt 1 view -0
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 0
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		.loc 1 136 1 is_stmt 0 view .LVU59
 311 0000 08B5     		push	{r3, lr}
 312              	.LCFI6:
 313              		.cfi_def_cfa_offset 8
 314              		.cfi_offset 3, -8
 315              		.cfi_offset 14, -4
 137:./underlying/src/foc.c ****     // return  _normalizeAngle((float)(motor->DIR *  motor->PP) * motor->As5600_Sensor->Angle-motor
 138:./underlying/src/foc.c ****     return  _normalizeRadian((float)(motor->DIR *  motor->PP) * motor->As5600_Sensor->Angle-motor->
 316              		.loc 1 138 5 is_stmt 1 view .LVU60
 317              		.loc 1 138 43 is_stmt 0 view .LVU61
 318 0002 8368     		ldr	r3, [r0, #8]
 319              		.loc 1 138 57 view .LVU62
 320 0004 4268     		ldr	r2, [r0, #4]
 321              		.loc 1 138 49 view .LVU63
 322 0006 02FB03F3 		mul	r3, r2, r3
 323 000a 07EE903A 		vmov	s15, r3	@ int
ARM GAS  /tmp/cc86BncK.s 			page 9


 324              		.loc 1 138 30 view .LVU64
 325 000e F8EEE77A 		vcvt.f32.s32	s15, s15
 326              		.loc 1 138 70 view .LVU65
 327 0012 836A     		ldr	r3, [r0, #40]
 328              		.loc 1 138 85 view .LVU66
 329 0014 93ED037A 		vldr.32	s14, [r3, #12]
 330              		.loc 1 138 63 view .LVU67
 331 0018 67EE877A 		vmul.f32	s15, s15, s14
 332              		.loc 1 138 98 view .LVU68
 333 001c 90ED040A 		vldr.32	s0, [r0, #16]
 334              		.loc 1 138 13 view .LVU69
 335 0020 37EEC00A 		vsub.f32	s0, s15, s0
 336 0024 FFF7FEFF 		bl	_normalizeRadian
 337              	.LVL31:
 139:./underlying/src/foc.c **** }
 338              		.loc 1 139 1 view .LVU70
 339 0028 08BD     		pop	{r3, pc}
 340              		.cfi_endproc
 341              	.LFE255:
 343              		.section	.text.Get_Current,"ax",%progbits
 344              		.align	1
 345              		.global	Get_Current
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 350              	Get_Current:
 351              	.LVL32:
 352              	.LFB247:
  66:./underlying/src/foc.c ****   float I_q_M0_ori=cal_Iq_Id(motor->Inlinecurrent,_electricalAngle(motor));
 353              		.loc 1 66 1 is_stmt 1 view -0
 354              		.cfi_startproc
 355              		@ args = 0, pretend = 0, frame = 0
 356              		@ frame_needed = 0, uses_anonymous_args = 0
  66:./underlying/src/foc.c ****   float I_q_M0_ori=cal_Iq_Id(motor->Inlinecurrent,_electricalAngle(motor));
 357              		.loc 1 66 1 is_stmt 0 view .LVU72
 358 0000 38B5     		push	{r3, r4, r5, lr}
 359              	.LCFI7:
 360              		.cfi_def_cfa_offset 16
 361              		.cfi_offset 3, -16
 362              		.cfi_offset 4, -12
 363              		.cfi_offset 5, -8
 364              		.cfi_offset 14, -4
 365 0002 0446     		mov	r4, r0
  67:./underlying/src/foc.c ****   float I_q_M0_flit=Lowpass_Filter_calc(motor->Lowpass_Filter_Curr, I_q_M0_ori);
 366              		.loc 1 67 3 is_stmt 1 view .LVU73
  67:./underlying/src/foc.c ****   float I_q_M0_flit=Lowpass_Filter_calc(motor->Lowpass_Filter_Curr, I_q_M0_ori);
 367              		.loc 1 67 20 is_stmt 0 view .LVU74
 368 0004 056C     		ldr	r5, [r0, #64]
 369 0006 FFF7FEFF 		bl	_electricalAngle
 370              	.LVL33:
  67:./underlying/src/foc.c ****   float I_q_M0_flit=Lowpass_Filter_calc(motor->Lowpass_Filter_Curr, I_q_M0_ori);
 371              		.loc 1 67 20 discriminator 1 view .LVU75
 372 000a 2846     		mov	r0, r5
 373 000c FFF7FEFF 		bl	cal_Iq_Id
 374              	.LVL34:
  68:./underlying/src/foc.c ****   motor->Inlinecurrent->I_Q = I_q_M0_flit;
 375              		.loc 1 68 3 is_stmt 1 view .LVU76
ARM GAS  /tmp/cc86BncK.s 			page 10


  68:./underlying/src/foc.c ****   motor->Inlinecurrent->I_Q = I_q_M0_flit;
 376              		.loc 1 68 21 is_stmt 0 view .LVU77
 377 0010 E06B     		ldr	r0, [r4, #60]
 378 0012 FFF7FEFF 		bl	Lowpass_Filter_calc
 379              	.LVL35:
  69:./underlying/src/foc.c ****   return I_q_M0_flit;
 380              		.loc 1 69 3 is_stmt 1 view .LVU78
  69:./underlying/src/foc.c ****   return I_q_M0_flit;
 381              		.loc 1 69 8 is_stmt 0 view .LVU79
 382 0016 226C     		ldr	r2, [r4, #64]
  69:./underlying/src/foc.c ****   return I_q_M0_flit;
 383              		.loc 1 69 29 view .LVU80
 384 0018 82ED0C0A 		vstr.32	s0, [r2, #48]
  70:./underlying/src/foc.c **** }
 385              		.loc 1 70 3 is_stmt 1 view .LVU81
  71:./underlying/src/foc.c **** 
 386              		.loc 1 71 1 is_stmt 0 view .LVU82
 387 001c 38BD     		pop	{r3, r4, r5, pc}
  71:./underlying/src/foc.c **** 
 388              		.loc 1 71 1 view .LVU83
 389              		.cfi_endproc
 390              	.LFE247:
 392              		.section	.text.setPwm,"ax",%progbits
 393              		.align	1
 394              		.global	setPwm
 395              		.syntax unified
 396              		.thumb
 397              		.thumb_func
 399              	setPwm:
 400              	.LVL36:
 401              	.LFB256:
 140:./underlying/src/foc.c **** 
 141:./underlying/src/foc.c **** 
 142:./underlying/src/foc.c **** /// @brief è®¾ç½®PWMåˆ°æŽ§åˆ¶å™¨è¾“å‡º
 143:./underlying/src/foc.c **** /// @param motor ç”µæœºå¯¹è±¡
 144:./underlying/src/foc.c **** /// @param Ua 
 145:./underlying/src/foc.c **** /// @param Ub 
 146:./underlying/src/foc.c **** /// @param Uc 
 147:./underlying/src/foc.c **** void setPwm(Motor* motor, float Ua, float Ub, float Uc) 
 148:./underlying/src/foc.c **** {
 402              		.loc 1 148 1 is_stmt 1 view -0
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 0
 405              		@ frame_needed = 0, uses_anonymous_args = 0
 406              		.loc 1 148 1 is_stmt 0 view .LVU85
 407 0000 10B5     		push	{r4, lr}
 408              	.LCFI8:
 409              		.cfi_def_cfa_offset 8
 410              		.cfi_offset 4, -8
 411              		.cfi_offset 14, -4
 412 0002 2DED048B 		vpush.64	{d8, d9}
 413              	.LCFI9:
 414              		.cfi_def_cfa_offset 24
 415              		.cfi_offset 80, -24
 416              		.cfi_offset 81, -20
 417              		.cfi_offset 82, -16
 418              		.cfi_offset 83, -12
ARM GAS  /tmp/cc86BncK.s 			page 11


 419 0006 0446     		mov	r4, r0
 149:./underlying/src/foc.c ****   // é™åˆ¶ä¸Šé™
 150:./underlying/src/foc.c ****   Ua = _constrain(Ua, 0.0f, motor->voltage_power_supply);
 420              		.loc 1 150 3 is_stmt 1 view .LVU86
 421              		.loc 1 150 8 is_stmt 0 view .LVU87
 422 0008 B5EEC00A 		vcmpe.f32	s0, #0
 423 000c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 424 0010 09D4     		bmi	.L33
 425              		.loc 1 150 8 discriminator 2 view .LVU88
 426 0012 D0ED035A 		vldr.32	s11, [r0, #12]
 427 0016 F4EEC05A 		vcmpe.f32	s11, s0
 428 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 429 001e 04D4     		bmi	.L24
 430              		.loc 1 150 8 discriminator 5 view .LVU89
 431 0020 F0EE405A 		vmov.f32	s11, s0
 432 0024 01E0     		b	.L24
 433              	.L33:
 434              		.loc 1 150 8 discriminator 1 view .LVU90
 435 0026 DFED3E5A 		vldr.32	s11, .L43
 436              	.L24:
 437              	.LVL37:
 151:./underlying/src/foc.c ****   Ub = _constrain(Ub, 0.0f, motor->voltage_power_supply);
 438              		.loc 1 151 3 is_stmt 1 view .LVU91
 439              		.loc 1 151 8 is_stmt 0 view .LVU92
 440 002a F5EEC00A 		vcmpe.f32	s1, #0
 441 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 442 0032 09D4     		bmi	.L34
 443              		.loc 1 151 8 discriminator 2 view .LVU93
 444 0034 94ED036A 		vldr.32	s12, [r4, #12]
 445 0038 B4EEE06A 		vcmpe.f32	s12, s1
 446 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 447 0040 04D4     		bmi	.L25
 448              		.loc 1 151 8 discriminator 5 view .LVU94
 449 0042 B0EE606A 		vmov.f32	s12, s1
 450 0046 01E0     		b	.L25
 451              	.L34:
 452              		.loc 1 151 8 discriminator 1 view .LVU95
 453 0048 9FED356A 		vldr.32	s12, .L43
 454              	.L25:
 455              	.LVL38:
 152:./underlying/src/foc.c ****   Uc = _constrain(Uc, 0.0f, motor->voltage_power_supply);
 456              		.loc 1 152 3 is_stmt 1 view .LVU96
 457              		.loc 1 152 8 is_stmt 0 view .LVU97
 458 004c B5EEC01A 		vcmpe.f32	s2, #0
 459 0050 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 460 0054 09D4     		bmi	.L35
 461              		.loc 1 152 8 discriminator 2 view .LVU98
 462 0056 D4ED036A 		vldr.32	s13, [r4, #12]
 463 005a F4EEC16A 		vcmpe.f32	s13, s2
 464 005e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 465 0062 04D4     		bmi	.L26
 466              		.loc 1 152 8 discriminator 5 view .LVU99
 467 0064 F0EE416A 		vmov.f32	s13, s2
 468 0068 01E0     		b	.L26
 469              	.L35:
 470              		.loc 1 152 8 discriminator 1 view .LVU100
 471 006a DFED2D6A 		vldr.32	s13, .L43
ARM GAS  /tmp/cc86BncK.s 			page 12


 472              	.L26:
 473              	.LVL39:
 153:./underlying/src/foc.c ****   // è®¡ç®—å ç©ºæ¯”
 154:./underlying/src/foc.c ****   // é™åˆ¶å ç©ºæ¯”ä»Ž0åˆ°1
 155:./underlying/src/foc.c ****   float dc_a = _constrain(Ua / motor->voltage_power_supply, 0.0f , 1.0f );
 474              		.loc 1 155 3 is_stmt 1 view .LVU101
 475              		.loc 1 155 16 is_stmt 0 view .LVU102
 476 006e 94ED037A 		vldr.32	s14, [r4, #12]
 477 0072 C5EE877A 		vdiv.f32	s15, s11, s14
 478 0076 F5EEC07A 		vcmpe.f32	s15, #0
 479 007a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 480 007e 09D4     		bmi	.L36
 481              		.loc 1 155 16 discriminator 2 view .LVU103
 482 0080 F7EE005A 		vmov.f32	s11, #1.0e+0
 483              	.LVL40:
 484              		.loc 1 155 16 discriminator 2 view .LVU104
 485 0084 F4EEE57A 		vcmpe.f32	s15, s11
 486 0088 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 487 008c 04DD     		ble	.L27
 488              		.loc 1 155 16 discriminator 4 view .LVU105
 489 008e F0EE657A 		vmov.f32	s15, s11
 490 0092 01E0     		b	.L27
 491              	.LVL41:
 492              	.L36:
 493              		.loc 1 155 16 discriminator 1 view .LVU106
 494 0094 DFED227A 		vldr.32	s15, .L43
 495              	.LVL42:
 496              	.L27:
 156:./underlying/src/foc.c ****   float dc_b = _constrain(Ub / motor->voltage_power_supply, 0.0f , 1.0f );
 497              		.loc 1 156 3 is_stmt 1 view .LVU107
 498              		.loc 1 156 16 is_stmt 0 view .LVU108
 499 0098 C6EE078A 		vdiv.f32	s17, s12, s14
 500 009c F5EEC08A 		vcmpe.f32	s17, #0
 501 00a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 502 00a4 09D4     		bmi	.L37
 503              		.loc 1 156 16 discriminator 2 view .LVU109
 504 00a6 B7EE006A 		vmov.f32	s12, #1.0e+0
 505              	.LVL43:
 506              		.loc 1 156 16 discriminator 2 view .LVU110
 507 00aa F4EEC68A 		vcmpe.f32	s17, s12
 508 00ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 509 00b2 04DD     		ble	.L29
 510              		.loc 1 156 16 discriminator 4 view .LVU111
 511 00b4 F0EE468A 		vmov.f32	s17, s12
 512 00b8 01E0     		b	.L29
 513              	.LVL44:
 514              	.L37:
 515              		.loc 1 156 16 discriminator 1 view .LVU112
 516 00ba DFED198A 		vldr.32	s17, .L43
 517              	.LVL45:
 518              	.L29:
 157:./underlying/src/foc.c ****   float dc_c = _constrain(Uc / motor->voltage_power_supply, 0.0f , 1.0f );
 519              		.loc 1 157 3 is_stmt 1 view .LVU113
 520              		.loc 1 157 16 is_stmt 0 view .LVU114
 521 00be 86EE878A 		vdiv.f32	s16, s13, s14
 522 00c2 B5EEC08A 		vcmpe.f32	s16, #0
 523 00c6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  /tmp/cc86BncK.s 			page 13


 524 00ca 09D4     		bmi	.L38
 525              		.loc 1 157 16 discriminator 2 view .LVU115
 526 00cc B7EE007A 		vmov.f32	s14, #1.0e+0
 527 00d0 B4EEC78A 		vcmpe.f32	s16, s14
 528 00d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 529 00d8 04DD     		ble	.L31
 530              		.loc 1 157 16 discriminator 4 view .LVU116
 531 00da B0EE478A 		vmov.f32	s16, s14
 532 00de 01E0     		b	.L31
 533              	.L38:
 534              		.loc 1 157 16 discriminator 1 view .LVU117
 535 00e0 9FED0F8A 		vldr.32	s16, .L43
 536              	.L31:
 537              	.LVL46:
 158:./underlying/src/foc.c **** 
 159:./underlying/src/foc.c ****   //å†™å…¥PWM
 160:./underlying/src/foc.c ****   motor->Motor_Set_Compare1(dc_a*2800);
 538              		.loc 1 160 3 is_stmt 1 view .LVU118
 539              		.loc 1 160 8 is_stmt 0 view .LVU119
 540 00e4 A36C     		ldr	r3, [r4, #72]
 541              		.loc 1 160 33 view .LVU120
 542 00e6 9FED0F9A 		vldr.32	s18, .L43+4
 543 00ea 67EE897A 		vmul.f32	s15, s15, s18
 544              	.LVL47:
 545              		.loc 1 160 3 view .LVU121
 546 00ee FCEEE77A 		vcvt.u32.f32	s15, s15
 547 00f2 17EE900A 		vmov	r0, s15	@ int
 548              	.LVL48:
 549              		.loc 1 160 3 view .LVU122
 550 00f6 9847     		blx	r3
 551              	.LVL49:
 161:./underlying/src/foc.c ****   motor->Motor_Set_Compare2(dc_b*2800);
 552              		.loc 1 161 3 is_stmt 1 view .LVU123
 553              		.loc 1 161 8 is_stmt 0 view .LVU124
 554 00f8 E36C     		ldr	r3, [r4, #76]
 555              		.loc 1 161 33 view .LVU125
 556 00fa 68EE898A 		vmul.f32	s17, s17, s18
 557              	.LVL50:
 558              		.loc 1 161 3 view .LVU126
 559 00fe FCEEE87A 		vcvt.u32.f32	s15, s17
 560 0102 17EE900A 		vmov	r0, s15	@ int
 561 0106 9847     		blx	r3
 562              	.LVL51:
 162:./underlying/src/foc.c ****   motor->Motor_Set_Compare3(dc_c*2800);
 563              		.loc 1 162 3 is_stmt 1 view .LVU127
 564              		.loc 1 162 8 is_stmt 0 view .LVU128
 565 0108 236D     		ldr	r3, [r4, #80]
 566              		.loc 1 162 33 view .LVU129
 567 010a 28EE098A 		vmul.f32	s16, s16, s18
 568              	.LVL52:
 569              		.loc 1 162 3 view .LVU130
 570 010e FCEEC87A 		vcvt.u32.f32	s15, s16
 571 0112 17EE900A 		vmov	r0, s15	@ int
 572 0116 9847     		blx	r3
 573              	.LVL53:
 163:./underlying/src/foc.c **** }
 574              		.loc 1 163 1 view .LVU131
ARM GAS  /tmp/cc86BncK.s 			page 14


 575 0118 BDEC048B 		vldm	sp!, {d8-d9}
 576              	.LCFI10:
 577              		.cfi_restore 82
 578              		.cfi_restore 83
 579              		.cfi_restore 80
 580              		.cfi_restore 81
 581              		.cfi_def_cfa_offset 8
 582 011c 10BD     		pop	{r4, pc}
 583              	.LVL54:
 584              	.L44:
 585              		.loc 1 163 1 view .LVU132
 586 011e 00BF     		.align	2
 587              	.L43:
 588 0120 00000000 		.word	0
 589 0124 00002F45 		.word	1160708096
 590              		.cfi_endproc
 591              	.LFE256:
 593              		.global	__aeabi_dmul
 594              		.global	__aeabi_dsub
 595              		.global	__aeabi_dadd
 596              		.section	.text.setTorque,"ax",%progbits
 597              		.align	1
 598              		.global	setTorque
 599              		.syntax unified
 600              		.thumb
 601              		.thumb_func
 603              	setTorque:
 604              	.LVL55:
 605              	.LFB257:
 164:./underlying/src/foc.c **** 
 165:./underlying/src/foc.c **** /// @brief è®¾ç½®åŠ›çŸ©
 166:./underlying/src/foc.c **** /// @param Uq éœ€æ±‚åŠ›çŸ©
 167:./underlying/src/foc.c **** /// @param angle_el 
 168:./underlying/src/foc.c **** void setTorque(Motor* motor,float Uq,float angle_el)
 169:./underlying/src/foc.c **** {
 606              		.loc 1 169 1 is_stmt 1 view -0
 607              		.cfi_startproc
 608              		@ args = 0, pretend = 0, frame = 0
 609              		@ frame_needed = 0, uses_anonymous_args = 0
 610              		.loc 1 169 1 is_stmt 0 view .LVU134
 611 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 612              	.LCFI11:
 613              		.cfi_def_cfa_offset 40
 614              		.cfi_offset 3, -40
 615              		.cfi_offset 4, -36
 616              		.cfi_offset 5, -32
 617              		.cfi_offset 6, -28
 618              		.cfi_offset 7, -24
 619              		.cfi_offset 8, -20
 620              		.cfi_offset 9, -16
 621              		.cfi_offset 10, -12
 622              		.cfi_offset 11, -8
 623              		.cfi_offset 14, -4
 624 0004 2DED048B 		vpush.64	{d8, d9}
 625              	.LCFI12:
 626              		.cfi_def_cfa_offset 56
 627              		.cfi_offset 80, -56
ARM GAS  /tmp/cc86BncK.s 			page 15


 628              		.cfi_offset 81, -52
 629              		.cfi_offset 82, -48
 630              		.cfi_offset 83, -44
 631 0008 8246     		mov	r10, r0
 632 000a F0EE407A 		vmov.f32	s15, s0
 633 000e B0EE600A 		vmov.f32	s0, s1
 634              	.LVL56:
 170:./underlying/src/foc.c **** 
 171:./underlying/src/foc.c ****   Uq=_constrain(Uq,-(motor->voltage_power_supply)/2,(motor->voltage_power_supply)/2);
 635              		.loc 1 171 3 is_stmt 1 view .LVU135
 636              		.loc 1 171 6 is_stmt 0 view .LVU136
 637 0012 90ED038A 		vldr.32	s16, [r0, #12]
 638 0016 B6EE007A 		vmov.f32	s14, #5.0e-1
 639 001a 28EE478A 		vnmul.f32	s16, s16, s14
 640 001e B4EEE78A 		vcmpe.f32	s16, s15
 641 0022 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 642 0026 08DC     		bgt	.L46
 643 0028 B1EE488A 		vneg.f32	s16, s16
 644              		.loc 1 171 6 discriminator 2 view .LVU137
 645 002c F4EEC87A 		vcmpe.f32	s15, s16
 646 0030 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 647 0034 01DC     		bgt	.L46
 648              		.loc 1 171 6 discriminator 5 view .LVU138
 649 0036 B0EE678A 		vmov.f32	s16, s15
 650              	.L46:
 651              	.LVL57:
 172:./underlying/src/foc.c **** 
 173:./underlying/src/foc.c ****   angle_el = _normalizeAngle(angle_el);
 652              		.loc 1 173 3 is_stmt 1 view .LVU139
 653              		.loc 1 173 14 is_stmt 0 view .LVU140
 654 003a FFF7FEFF 		bl	_normalizeAngle
 655              	.LVL58:
 656              		.loc 1 173 14 view .LVU141
 657 003e 10EE106A 		vmov	r6, s0
 658              	.LVL59:
 174:./underlying/src/foc.c ****   // å¸•å…‹é€†å˜æ¢
 175:./underlying/src/foc.c ****   motor->Ualpha =  -Uq*sin(angle_el);
 659              		.loc 1 175 3 is_stmt 1 view .LVU142
 660              		.loc 1 175 20 is_stmt 0 view .LVU143
 661 0042 F1EE487A 		vneg.f32	s15, s16
 662 0046 17EE900A 		vmov	r0, s15
 663 004a FFF7FEFF 		bl	__aeabi_f2d
 664              	.LVL60:
 665 004e 0446     		mov	r4, r0
 666 0050 0D46     		mov	r5, r1
 667              		.loc 1 175 24 view .LVU144
 668 0052 3046     		mov	r0, r6	@ float
 669 0054 FFF7FEFF 		bl	__aeabi_f2d
 670              	.LVL61:
 671 0058 41EC190B 		vmov	d9, r0, r1
 672 005c B0EE490A 		vmov.f32	s0, s18
 673 0060 F0EE690A 		vmov.f32	s1, s19
 674 0064 FFF7FEFF 		bl	sin
 675              	.LVL62:
 676 0068 53EC102B 		vmov	r2, r3, d0
 677              		.loc 1 175 23 discriminator 1 view .LVU145
 678 006c 2046     		mov	r0, r4
ARM GAS  /tmp/cc86BncK.s 			page 16


 679 006e 2946     		mov	r1, r5
 680 0070 FFF7FEFF 		bl	__aeabi_dmul
 681              	.LVL63:
 682 0074 FFF7FEFF 		bl	__aeabi_d2f
 683              	.LVL64:
 684 0078 8346     		mov	fp, r0	@ float
 685              		.loc 1 175 17 discriminator 1 view .LVU146
 686 007a CAF81400 		str	r0, [r10, #20]	@ float
 176:./underlying/src/foc.c ****   motor->Ubeta =   Uq*cos(angle_el);
 687              		.loc 1 176 3 is_stmt 1 view .LVU147
 688              		.loc 1 176 23 is_stmt 0 view .LVU148
 689 007e B0EE490A 		vmov.f32	s0, s18
 690 0082 F0EE690A 		vmov.f32	s1, s19
 691 0086 FFF7FEFF 		bl	cos
 692              	.LVL65:
 693 008a 55EC104B 		vmov	r4, r5, d0
 694              		.loc 1 176 22 view .LVU149
 695 008e 18EE100A 		vmov	r0, s16
 696 0092 FFF7FEFF 		bl	__aeabi_f2d
 697              	.LVL66:
 698              		.loc 1 176 22 discriminator 1 view .LVU150
 699 0096 2246     		mov	r2, r4
 700 0098 2B46     		mov	r3, r5
 701 009a FFF7FEFF 		bl	__aeabi_dmul
 702              	.LVL67:
 703 009e FFF7FEFF 		bl	__aeabi_d2f
 704              	.LVL68:
 705              		.loc 1 176 16 discriminator 1 view .LVU151
 706 00a2 CAF81800 		str	r0, [r10, #24]	@ float
 177:./underlying/src/foc.c **** 
 178:./underlying/src/foc.c ****   // å…‹æ‹‰å…‹é€†å˜æ¢
 179:./underlying/src/foc.c ****   motor->Ua = motor->Ualpha + motor->voltage_power_supply/2;
 707              		.loc 1 179 3 is_stmt 1 view .LVU152
 708              		.loc 1 179 36 is_stmt 0 view .LVU153
 709 00a6 9AED038A 		vldr.32	s16, [r10, #12]
 710              	.LVL69:
 711              		.loc 1 179 58 view .LVU154
 712 00aa F6EE007A 		vmov.f32	s15, #5.0e-1
 713 00ae 28EE278A 		vmul.f32	s16, s16, s15
 714              		.loc 1 179 29 view .LVU155
 715 00b2 07EE90BA 		vmov	s15, fp
 716 00b6 37EE889A 		vadd.f32	s18, s15, s16
 717              		.loc 1 179 13 view .LVU156
 718 00ba 8AED079A 		vstr.32	s18, [r10, #28]
 180:./underlying/src/foc.c ****   motor->Ub = (sqrt(3)*motor->Ubeta-motor->Ualpha)/2 + motor->voltage_power_supply/2;
 719              		.loc 1 180 3 is_stmt 1 view .LVU157
 720              		.loc 1 180 29 is_stmt 0 view .LVU158
 721 00be FFF7FEFF 		bl	__aeabi_f2d
 722              	.LVL70:
 723              		.loc 1 180 23 view .LVU159
 724 00c2 26A3     		adr	r3, .L48+4
 725 00c4 D3E90023 		ldrd	r2, [r3]
 726 00c8 FFF7FEFF 		bl	__aeabi_dmul
 727              	.LVL71:
 728 00cc 0646     		mov	r6, r0
 729              	.LVL72:
 730              		.loc 1 180 23 view .LVU160
ARM GAS  /tmp/cc86BncK.s 			page 17


 731 00ce 0F46     		mov	r7, r1
 732              		.loc 1 180 42 view .LVU161
 733 00d0 5846     		mov	r0, fp	@ float
 734 00d2 FFF7FEFF 		bl	__aeabi_f2d
 735              	.LVL73:
 736 00d6 0246     		mov	r2, r0
 737 00d8 0B46     		mov	r3, r1
 738              		.loc 1 180 36 view .LVU162
 739 00da 3046     		mov	r0, r6
 740 00dc 3946     		mov	r1, r7
 741 00de FFF7FEFF 		bl	__aeabi_dsub
 742              	.LVL74:
 743              		.loc 1 180 51 view .LVU163
 744 00e2 0022     		movs	r2, #0
 745 00e4 1C4B     		ldr	r3, .L48
 746 00e6 FFF7FEFF 		bl	__aeabi_dmul
 747              	.LVL75:
 748 00ea 8046     		mov	r8, r0
 749 00ec 8946     		mov	r9, r1
 750              		.loc 1 180 83 view .LVU164
 751 00ee 18EE100A 		vmov	r0, s16
 752 00f2 FFF7FEFF 		bl	__aeabi_f2d
 753              	.LVL76:
 754 00f6 0446     		mov	r4, r0
 755 00f8 0D46     		mov	r5, r1
 756              		.loc 1 180 54 view .LVU165
 757 00fa 0246     		mov	r2, r0
 758 00fc 0B46     		mov	r3, r1
 759 00fe 4046     		mov	r0, r8
 760 0100 4946     		mov	r1, r9
 761 0102 FFF7FEFF 		bl	__aeabi_dadd
 762              	.LVL77:
 763 0106 FFF7FEFF 		bl	__aeabi_d2f
 764              	.LVL78:
 765 010a 08EE100A 		vmov	s16, r0
 766              		.loc 1 180 13 view .LVU166
 767 010e CAF82000 		str	r0, [r10, #32]	@ float
 181:./underlying/src/foc.c ****   motor->Uc = (-motor->Ualpha-sqrt(3)*motor->Ubeta)/2 + motor->voltage_power_supply/2;
 768              		.loc 1 181 3 is_stmt 1 view .LVU167
 769              		.loc 1 181 16 is_stmt 0 view .LVU168
 770 0112 8BF00040 		eor	r0, fp, #-2147483648
 771 0116 FFF7FEFF 		bl	__aeabi_f2d
 772              	.LVL79:
 773              		.loc 1 181 30 view .LVU169
 774 011a 3246     		mov	r2, r6
 775 011c 3B46     		mov	r3, r7
 776 011e FFF7FEFF 		bl	__aeabi_dsub
 777              	.LVL80:
 778              		.loc 1 181 52 view .LVU170
 779 0122 0022     		movs	r2, #0
 780 0124 0C4B     		ldr	r3, .L48
 781 0126 FFF7FEFF 		bl	__aeabi_dmul
 782              	.LVL81:
 783 012a 0246     		mov	r2, r0
 784 012c 0B46     		mov	r3, r1
 785              		.loc 1 181 55 view .LVU171
 786 012e 2046     		mov	r0, r4
ARM GAS  /tmp/cc86BncK.s 			page 18


 787 0130 2946     		mov	r1, r5
 788 0132 FFF7FEFF 		bl	__aeabi_dadd
 789              	.LVL82:
 790 0136 FFF7FEFF 		bl	__aeabi_d2f
 791              	.LVL83:
 792 013a 01EE100A 		vmov	s2, r0
 793              		.loc 1 181 13 view .LVU172
 794 013e CAF82400 		str	r0, [r10, #36]	@ float
 182:./underlying/src/foc.c ****   setPwm(motor,motor->Ua,motor->Ub,motor->Uc);
 795              		.loc 1 182 3 is_stmt 1 view .LVU173
 796 0142 F0EE480A 		vmov.f32	s1, s16
 797 0146 B0EE490A 		vmov.f32	s0, s18
 798 014a 5046     		mov	r0, r10
 799 014c FFF7FEFF 		bl	setPwm
 800              	.LVL84:
 183:./underlying/src/foc.c **** }
 801              		.loc 1 183 1 is_stmt 0 view .LVU174
 802 0150 BDEC048B 		vldm	sp!, {d8-d9}
 803              	.LCFI13:
 804              		.cfi_restore 82
 805              		.cfi_restore 83
 806              		.cfi_restore 80
 807              		.cfi_restore 81
 808              		.cfi_def_cfa_offset 40
 809 0154 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 810              	.LVL85:
 811              	.L49:
 812              		.loc 1 183 1 view .LVU175
 813              		.align	3
 814              	.L48:
 815 0158 0000E03F 		.word	1071644672
 816 015c AA4C58E8 		.word	-396866390
 817 0160 7AB6FB3F 		.word	1073460858
 818              		.cfi_endproc
 819              	.LFE257:
 821              		.section	.rodata.aligns_Motor_Zero_Angle.str1.4,"aMS",%progbits,1
 822              		.align	2
 823              	.LC0:
 824 0000 2564E58F 		.ascii	"%d\345\217\267\347\224\265\346\234\272\351\233\266\347"
 824      B7E794B5 
 824      E69CBAE9 
 824      9BB6E7
 825 000f 94B5E8A7 		.ascii	"\224\265\350\247\222\345\272\246:%.2f\015\012\000"
 825      92E5BAA6 
 825      3A252E32 
 825      660D0A00 
 826              		.section	.text.aligns_Motor_Zero_Angle,"ax",%progbits
 827              		.align	1
 828              		.global	aligns_Motor_Zero_Angle
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 833              	aligns_Motor_Zero_Angle:
 834              	.LVL86:
 835              	.LFB244:
  24:./underlying/src/foc.c ****   setTorque(motor,3, _3PI_2);
 836              		.loc 1 24 1 is_stmt 1 view -0
ARM GAS  /tmp/cc86BncK.s 			page 19


 837              		.cfi_startproc
 838              		@ args = 0, pretend = 0, frame = 0
 839              		@ frame_needed = 0, uses_anonymous_args = 0
  24:./underlying/src/foc.c ****   setTorque(motor,3, _3PI_2);
 840              		.loc 1 24 1 is_stmt 0 view .LVU177
 841 0000 38B5     		push	{r3, r4, r5, lr}
 842              	.LCFI14:
 843              		.cfi_def_cfa_offset 16
 844              		.cfi_offset 3, -16
 845              		.cfi_offset 4, -12
 846              		.cfi_offset 5, -8
 847              		.cfi_offset 14, -4
 848 0002 2DED028B 		vpush.64	{d8}
 849              	.LCFI15:
 850              		.cfi_def_cfa_offset 24
 851              		.cfi_offset 80, -24
 852              		.cfi_offset 81, -20
 853 0006 0446     		mov	r4, r0
  25:./underlying/src/foc.c ****   HAL_Delay(2000);  
 854              		.loc 1 25 3 is_stmt 1 view .LVU178
 855 0008 9FED148A 		vldr.32	s16, .L52
 856 000c F0EE480A 		vmov.f32	s1, s16
 857 0010 B0EE080A 		vmov.f32	s0, #3.0e+0
 858 0014 FFF7FEFF 		bl	setTorque
 859              	.LVL87:
  26:./underlying/src/foc.c ****   Read_AS5600_Angle(motor->As5600_Sensor);
 860              		.loc 1 26 3 view .LVU179
 861 0018 4FF4FA60 		mov	r0, #2000
 862 001c FFF7FEFF 		bl	HAL_Delay
 863              	.LVL88:
  27:./underlying/src/foc.c ****   motor->zero_electric_angle = _electricalAngle(motor);
 864              		.loc 1 27 3 view .LVU180
 865 0020 A06A     		ldr	r0, [r4, #40]
 866 0022 FFF7FEFF 		bl	Read_AS5600_Angle
 867              	.LVL89:
  28:./underlying/src/foc.c ****   setTorque(motor,0, _3PI_2);
 868              		.loc 1 28 3 view .LVU181
  28:./underlying/src/foc.c ****   setTorque(motor,0, _3PI_2);
 869              		.loc 1 28 32 is_stmt 0 view .LVU182
 870 0026 2046     		mov	r0, r4
 871 0028 FFF7FEFF 		bl	_electricalAngle
 872              	.LVL90:
  28:./underlying/src/foc.c ****   setTorque(motor,0, _3PI_2);
 873              		.loc 1 28 30 discriminator 1 view .LVU183
 874 002c 84ED040A 		vstr.32	s0, [r4, #16]
  29:./underlying/src/foc.c ****   printf("%då·ç”µæœºé›¶ç”µè§’åº¦:%.2f\r\n",motor->Motor_ID,motor->zero_electric_angle);
 875              		.loc 1 29 3 is_stmt 1 view .LVU184
 876 0030 F0EE480A 		vmov.f32	s1, s16
 877 0034 9FED0A0A 		vldr.32	s0, .L52+4
 878 0038 2046     		mov	r0, r4
 879 003a FFF7FEFF 		bl	setTorque
 880              	.LVL91:
  30:./underlying/src/foc.c ****   return 0;
 881              		.loc 1 30 3 view .LVU185
  30:./underlying/src/foc.c ****   return 0;
 882              		.loc 1 30 50 is_stmt 0 view .LVU186
 883 003e 2578     		ldrb	r5, [r4]	@ zero_extendqisi2
ARM GAS  /tmp/cc86BncK.s 			page 20


  30:./underlying/src/foc.c ****   return 0;
 884              		.loc 1 30 3 view .LVU187
 885 0040 2069     		ldr	r0, [r4, #16]	@ float
 886 0042 FFF7FEFF 		bl	__aeabi_f2d
 887              	.LVL92:
 888 0046 0246     		mov	r2, r0
 889 0048 0B46     		mov	r3, r1
 890 004a 2946     		mov	r1, r5
 891 004c 0548     		ldr	r0, .L52+8
 892 004e FFF7FEFF 		bl	printf
 893              	.LVL93:
  31:./underlying/src/foc.c **** }
 894              		.loc 1 31 3 is_stmt 1 view .LVU188
  32:./underlying/src/foc.c **** 
 895              		.loc 1 32 1 is_stmt 0 view .LVU189
 896 0052 0020     		movs	r0, #0
 897 0054 BDEC028B 		vldm	sp!, {d8}
 898              	.LCFI16:
 899              		.cfi_restore 80
 900              		.cfi_restore 81
 901              		.cfi_def_cfa_offset 16
 902 0058 38BD     		pop	{r3, r4, r5, pc}
 903              	.LVL94:
 904              	.L53:
  32:./underlying/src/foc.c **** 
 905              		.loc 1 32 1 view .LVU190
 906 005a 00BF     		.align	2
 907              	.L52:
 908 005c E4CB9640 		.word	1083624420
 909 0060 00000000 		.word	0
 910 0064 00000000 		.word	.LC0
 911              		.cfi_endproc
 912              	.LFE244:
 914              		.section	.text.Set_Velocity_Angle,"ax",%progbits
 915              		.align	1
 916              		.global	Set_Velocity_Angle
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 921              	Set_Velocity_Angle:
 922              	.LVL95:
 923              	.LFB248:
  78:./underlying/src/foc.c ****  setTorque(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As
 924              		.loc 1 78 1 is_stmt 1 view -0
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 0
 927              		@ frame_needed = 0, uses_anonymous_args = 0
  78:./underlying/src/foc.c ****  setTorque(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As
 928              		.loc 1 78 1 is_stmt 0 view .LVU192
 929 0000 70B5     		push	{r4, r5, r6, lr}
 930              	.LCFI17:
 931              		.cfi_def_cfa_offset 16
 932              		.cfi_offset 4, -16
 933              		.cfi_offset 5, -12
 934              		.cfi_offset 6, -8
 935              		.cfi_offset 14, -4
 936 0002 2DED028B 		vpush.64	{d8}
ARM GAS  /tmp/cc86BncK.s 			page 21


 937              	.LCFI18:
 938              		.cfi_def_cfa_offset 24
 939              		.cfi_offset 80, -24
 940              		.cfi_offset 81, -20
 941 0006 0446     		mov	r4, r0
 942 0008 B0EE408A 		vmov.f32	s16, s0
  79:./underlying/src/foc.c **** }
 943              		.loc 1 79 2 is_stmt 1 view .LVU193
 944 000c C56A     		ldr	r5, [r0, #44]
 945 000e 066B     		ldr	r6, [r0, #48]
  79:./underlying/src/foc.c **** }
 946              		.loc 1 79 74 is_stmt 0 view .LVU194
 947 0010 806A     		ldr	r0, [r0, #40]
 948              	.LVL96:
  79:./underlying/src/foc.c **** }
 949              		.loc 1 79 74 view .LVU195
 950 0012 FFF7FEFF 		bl	Get_AS5600_Angle
 951              	.LVL97:
  79:./underlying/src/foc.c **** }
 952              		.loc 1 79 73 discriminator 1 view .LVU196
 953 0016 38EE408A 		vsub.f32	s16, s16, s0
 954              	.LVL98:
  79:./underlying/src/foc.c **** }
 955              		.loc 1 79 113 discriminator 1 view .LVU197
 956 001a DFED0E7A 		vldr.32	s15, .L56
 957 001e 28EE278A 		vmul.f32	s16, s16, s15
  79:./underlying/src/foc.c **** }
 958              		.loc 1 79 2 discriminator 1 view .LVU198
 959 0022 9FED0D0A 		vldr.32	s0, .L56+4
 960 0026 88EE000A 		vdiv.f32	s0, s16, s0
 961 002a 3046     		mov	r0, r6
 962 002c FFF7FEFF 		bl	Pid_clac
 963              	.LVL99:
  79:./underlying/src/foc.c **** }
 964              		.loc 1 79 2 discriminator 2 view .LVU199
 965 0030 2846     		mov	r0, r5
 966 0032 FFF7FEFF 		bl	Pid_clac
 967              	.LVL100:
 968 0036 B0EE408A 		vmov.f32	s16, s0
  79:./underlying/src/foc.c **** }
 969              		.loc 1 79 2 discriminator 3 view .LVU200
 970 003a 2046     		mov	r0, r4
 971 003c FFF7FEFF 		bl	_electricalAngle
 972              	.LVL101:
 973 0040 F0EE400A 		vmov.f32	s1, s0
  79:./underlying/src/foc.c **** }
 974              		.loc 1 79 2 discriminator 4 view .LVU201
 975 0044 B0EE480A 		vmov.f32	s0, s16
 976 0048 2046     		mov	r0, r4
 977 004a FFF7FEFF 		bl	setTorque
 978              	.LVL102:
  80:./underlying/src/foc.c **** 
 979              		.loc 1 80 1 view .LVU202
 980 004e BDEC028B 		vldm	sp!, {d8}
 981              	.LCFI19:
 982              		.cfi_restore 80
 983              		.cfi_restore 81
ARM GAS  /tmp/cc86BncK.s 			page 22


 984              		.cfi_def_cfa_offset 16
 985 0052 70BD     		pop	{r4, r5, r6, pc}
 986              	.LVL103:
 987              	.L57:
  80:./underlying/src/foc.c **** 
 988              		.loc 1 80 1 view .LVU203
 989              		.align	2
 990              	.L56:
 991 0054 00003443 		.word	1127481344
 992 0058 DB0F4940 		.word	1078530011
 993              		.cfi_endproc
 994              	.LFE248:
 996              		.section	.text.Set_Velocity,"ax",%progbits
 997              		.align	1
 998              		.global	Set_Velocity
 999              		.syntax unified
 1000              		.thumb
 1001              		.thumb_func
 1003              	Set_Velocity:
 1004              	.LVL104:
 1005              	.LFB249:
  86:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Vel,(target-Get_filter_Velocity(motor))*180/PI),_electricalAn
 1006              		.loc 1 86 1 is_stmt 1 view -0
 1007              		.cfi_startproc
 1008              		@ args = 0, pretend = 0, frame = 0
 1009              		@ frame_needed = 0, uses_anonymous_args = 0
  86:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Vel,(target-Get_filter_Velocity(motor))*180/PI),_electricalAn
 1010              		.loc 1 86 1 is_stmt 0 view .LVU205
 1011 0000 38B5     		push	{r3, r4, r5, lr}
 1012              	.LCFI20:
 1013              		.cfi_def_cfa_offset 16
 1014              		.cfi_offset 3, -16
 1015              		.cfi_offset 4, -12
 1016              		.cfi_offset 5, -8
 1017              		.cfi_offset 14, -4
 1018 0002 2DED028B 		vpush.64	{d8}
 1019              	.LCFI21:
 1020              		.cfi_def_cfa_offset 24
 1021              		.cfi_offset 80, -24
 1022              		.cfi_offset 81, -20
 1023 0006 0446     		mov	r4, r0
 1024 0008 B0EE408A 		vmov.f32	s16, s0
  87:./underlying/src/foc.c **** }
 1025              		.loc 1 87 3 is_stmt 1 view .LVU206
 1026 000c C56A     		ldr	r5, [r0, #44]
  87:./underlying/src/foc.c **** }
 1027              		.loc 1 87 51 is_stmt 0 view .LVU207
 1028 000e FFF7FEFF 		bl	Get_filter_Velocity
 1029              	.LVL105:
  87:./underlying/src/foc.c **** }
 1030              		.loc 1 87 50 discriminator 1 view .LVU208
 1031 0012 38EE408A 		vsub.f32	s16, s16, s0
 1032              	.LVL106:
  87:./underlying/src/foc.c **** }
 1033              		.loc 1 87 78 discriminator 1 view .LVU209
 1034 0016 DFED0D7A 		vldr.32	s15, .L60
 1035 001a 28EE278A 		vmul.f32	s16, s16, s15
ARM GAS  /tmp/cc86BncK.s 			page 23


  87:./underlying/src/foc.c **** }
 1036              		.loc 1 87 3 discriminator 1 view .LVU210
 1037 001e 9FED0C0A 		vldr.32	s0, .L60+4
 1038 0022 88EE000A 		vdiv.f32	s0, s16, s0
 1039 0026 2846     		mov	r0, r5
 1040 0028 FFF7FEFF 		bl	Pid_clac
 1041              	.LVL107:
 1042 002c B0EE408A 		vmov.f32	s16, s0
  87:./underlying/src/foc.c **** }
 1043              		.loc 1 87 3 discriminator 2 view .LVU211
 1044 0030 2046     		mov	r0, r4
 1045 0032 FFF7FEFF 		bl	_electricalAngle
 1046              	.LVL108:
 1047 0036 F0EE400A 		vmov.f32	s1, s0
  87:./underlying/src/foc.c **** }
 1048              		.loc 1 87 3 discriminator 3 view .LVU212
 1049 003a B0EE480A 		vmov.f32	s0, s16
 1050 003e 2046     		mov	r0, r4
 1051 0040 FFF7FEFF 		bl	setTorque
 1052              	.LVL109:
  88:./underlying/src/foc.c **** 
 1053              		.loc 1 88 1 view .LVU213
 1054 0044 BDEC028B 		vldm	sp!, {d8}
 1055              	.LCFI22:
 1056              		.cfi_restore 80
 1057              		.cfi_restore 81
 1058              		.cfi_def_cfa_offset 16
 1059 0048 38BD     		pop	{r3, r4, r5, pc}
 1060              	.LVL110:
 1061              	.L61:
  88:./underlying/src/foc.c **** 
 1062              		.loc 1 88 1 view .LVU214
 1063 004a 00BF     		.align	2
 1064              	.L60:
 1065 004c 00003443 		.word	1127481344
 1066 0050 DB0F4940 		.word	1078530011
 1067              		.cfi_endproc
 1068              	.LFE249:
 1070              		.section	.text.Set_Force_Angle,"ax",%progbits
 1071              		.align	1
 1072              		.global	Set_Force_Angle
 1073              		.syntax unified
 1074              		.thumb
 1075              		.thumb_func
 1077              	Set_Force_Angle:
 1078              	.LVL111:
 1079              	.LFB250:
  94:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As5600_Sensor))*180/PI),_
 1080              		.loc 1 94 1 is_stmt 1 view -0
 1081              		.cfi_startproc
 1082              		@ args = 0, pretend = 0, frame = 0
 1083              		@ frame_needed = 0, uses_anonymous_args = 0
  94:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Ang,(target-Get_AS5600_Angle(motor->As5600_Sensor))*180/PI),_
 1084              		.loc 1 94 1 is_stmt 0 view .LVU216
 1085 0000 38B5     		push	{r3, r4, r5, lr}
 1086              	.LCFI23:
 1087              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cc86BncK.s 			page 24


 1088              		.cfi_offset 3, -16
 1089              		.cfi_offset 4, -12
 1090              		.cfi_offset 5, -8
 1091              		.cfi_offset 14, -4
 1092 0002 2DED028B 		vpush.64	{d8}
 1093              	.LCFI24:
 1094              		.cfi_def_cfa_offset 24
 1095              		.cfi_offset 80, -24
 1096              		.cfi_offset 81, -20
 1097 0006 0446     		mov	r4, r0
 1098 0008 B0EE408A 		vmov.f32	s16, s0
  95:./underlying/src/foc.c **** }
 1099              		.loc 1 95 3 is_stmt 1 view .LVU217
 1100 000c 056B     		ldr	r5, [r0, #48]
  95:./underlying/src/foc.c **** }
 1101              		.loc 1 95 51 is_stmt 0 view .LVU218
 1102 000e 806A     		ldr	r0, [r0, #40]
 1103              	.LVL112:
  95:./underlying/src/foc.c **** }
 1104              		.loc 1 95 51 view .LVU219
 1105 0010 FFF7FEFF 		bl	Get_AS5600_Angle
 1106              	.LVL113:
  95:./underlying/src/foc.c **** }
 1107              		.loc 1 95 50 discriminator 1 view .LVU220
 1108 0014 38EE408A 		vsub.f32	s16, s16, s0
 1109              	.LVL114:
  95:./underlying/src/foc.c **** }
 1110              		.loc 1 95 90 discriminator 1 view .LVU221
 1111 0018 DFED0C7A 		vldr.32	s15, .L64
 1112 001c 28EE278A 		vmul.f32	s16, s16, s15
  95:./underlying/src/foc.c **** }
 1113              		.loc 1 95 3 discriminator 1 view .LVU222
 1114 0020 9FED0B0A 		vldr.32	s0, .L64+4
 1115 0024 88EE000A 		vdiv.f32	s0, s16, s0
 1116 0028 2846     		mov	r0, r5
 1117 002a FFF7FEFF 		bl	Pid_clac
 1118              	.LVL115:
 1119 002e B0EE408A 		vmov.f32	s16, s0
  95:./underlying/src/foc.c **** }
 1120              		.loc 1 95 3 discriminator 2 view .LVU223
 1121 0032 2046     		mov	r0, r4
 1122 0034 FFF7FEFF 		bl	_electricalAngle
 1123              	.LVL116:
 1124 0038 F0EE400A 		vmov.f32	s1, s0
  95:./underlying/src/foc.c **** }
 1125              		.loc 1 95 3 discriminator 3 view .LVU224
 1126 003c B0EE480A 		vmov.f32	s0, s16
 1127 0040 2046     		mov	r0, r4
 1128 0042 FFF7FEFF 		bl	setTorque
 1129              	.LVL117:
  96:./underlying/src/foc.c **** 
 1130              		.loc 1 96 1 view .LVU225
 1131 0046 BDEC028B 		vldm	sp!, {d8}
 1132              	.LCFI25:
 1133              		.cfi_restore 80
 1134              		.cfi_restore 81
 1135              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cc86BncK.s 			page 25


 1136 004a 38BD     		pop	{r3, r4, r5, pc}
 1137              	.LVL118:
 1138              	.L65:
  96:./underlying/src/foc.c **** 
 1139              		.loc 1 96 1 view .LVU226
 1140              		.align	2
 1141              	.L64:
 1142 004c 00003443 		.word	1127481344
 1143 0050 DB0F4940 		.word	1078530011
 1144              		.cfi_endproc
 1145              	.LFE250:
 1147              		.section	.text.setTorque_Curr,"ax",%progbits
 1148              		.align	1
 1149              		.global	setTorque_Curr
 1150              		.syntax unified
 1151              		.thumb
 1152              		.thumb_func
 1154              	setTorque_Curr:
 1155              	.LVL119:
 1156              	.LFB251:
 102:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Curr,Target-Get_Current(motor)),_electricalAngle(motor));
 1157              		.loc 1 102 1 is_stmt 1 view -0
 1158              		.cfi_startproc
 1159              		@ args = 0, pretend = 0, frame = 0
 1160              		@ frame_needed = 0, uses_anonymous_args = 0
 102:./underlying/src/foc.c ****   setTorque(motor,Pid_clac(motor->Pid_Curr,Target-Get_Current(motor)),_electricalAngle(motor));
 1161              		.loc 1 102 1 is_stmt 0 view .LVU228
 1162 0000 38B5     		push	{r3, r4, r5, lr}
 1163              	.LCFI26:
 1164              		.cfi_def_cfa_offset 16
 1165              		.cfi_offset 3, -16
 1166              		.cfi_offset 4, -12
 1167              		.cfi_offset 5, -8
 1168              		.cfi_offset 14, -4
 1169 0002 2DED028B 		vpush.64	{d8}
 1170              	.LCFI27:
 1171              		.cfi_def_cfa_offset 24
 1172              		.cfi_offset 80, -24
 1173              		.cfi_offset 81, -20
 1174 0006 0446     		mov	r4, r0
 1175 0008 B0EE408A 		vmov.f32	s16, s0
 103:./underlying/src/foc.c **** }
 1176              		.loc 1 103 3 is_stmt 1 view .LVU229
 1177 000c 456B     		ldr	r5, [r0, #52]
 103:./underlying/src/foc.c **** }
 1178              		.loc 1 103 51 is_stmt 0 view .LVU230
 1179 000e FFF7FEFF 		bl	Get_Current
 1180              	.LVL120:
 103:./underlying/src/foc.c **** }
 1181              		.loc 1 103 3 discriminator 1 view .LVU231
 1182 0012 38EE400A 		vsub.f32	s0, s16, s0
 1183 0016 2846     		mov	r0, r5
 1184 0018 FFF7FEFF 		bl	Pid_clac
 1185              	.LVL121:
 1186 001c B0EE408A 		vmov.f32	s16, s0
 1187              	.LVL122:
 103:./underlying/src/foc.c **** }
ARM GAS  /tmp/cc86BncK.s 			page 26


 1188              		.loc 1 103 3 discriminator 2 view .LVU232
 1189 0020 2046     		mov	r0, r4
 1190 0022 FFF7FEFF 		bl	_electricalAngle
 1191              	.LVL123:
 1192 0026 F0EE400A 		vmov.f32	s1, s0
 103:./underlying/src/foc.c **** }
 1193              		.loc 1 103 3 discriminator 3 view .LVU233
 1194 002a B0EE480A 		vmov.f32	s0, s16
 1195 002e 2046     		mov	r0, r4
 1196 0030 FFF7FEFF 		bl	setTorque
 1197              	.LVL124:
 104:./underlying/src/foc.c **** 
 1198              		.loc 1 104 1 view .LVU234
 1199 0034 BDEC028B 		vldm	sp!, {d8}
 1200              	.LCFI28:
 1201              		.cfi_restore 80
 1202              		.cfi_restore 81
 1203              		.cfi_def_cfa_offset 16
 1204 0038 38BD     		pop	{r3, r4, r5, pc}
 104:./underlying/src/foc.c **** 
 1205              		.loc 1 104 1 view .LVU235
 1206              		.cfi_endproc
 1207              	.LFE251:
 1209              		.section	.text.set_Force_Angle_Curr,"ax",%progbits
 1210              		.align	1
 1211              		.global	set_Force_Angle_Curr
 1212              		.syntax unified
 1213              		.thumb
 1214              		.thumb_func
 1216              	set_Force_Angle_Curr:
 1217              	.LVL125:
 1218              	.LFB252:
 110:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Ang, (Target-Get_AS5600_Angle(motor->As5600_Sensor))*180
 1219              		.loc 1 110 1 is_stmt 1 view -0
 1220              		.cfi_startproc
 1221              		@ args = 0, pretend = 0, frame = 0
 1222              		@ frame_needed = 0, uses_anonymous_args = 0
 110:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Ang, (Target-Get_AS5600_Angle(motor->As5600_Sensor))*180
 1223              		.loc 1 110 1 is_stmt 0 view .LVU237
 1224 0000 38B5     		push	{r3, r4, r5, lr}
 1225              	.LCFI29:
 1226              		.cfi_def_cfa_offset 16
 1227              		.cfi_offset 3, -16
 1228              		.cfi_offset 4, -12
 1229              		.cfi_offset 5, -8
 1230              		.cfi_offset 14, -4
 1231 0002 2DED028B 		vpush.64	{d8}
 1232              	.LCFI30:
 1233              		.cfi_def_cfa_offset 24
 1234              		.cfi_offset 80, -24
 1235              		.cfi_offset 81, -20
 1236 0006 0446     		mov	r4, r0
 1237 0008 B0EE408A 		vmov.f32	s16, s0
 111:./underlying/src/foc.c **** }
 1238              		.loc 1 111 3 is_stmt 1 view .LVU238
 1239 000c 056B     		ldr	r5, [r0, #48]
 111:./underlying/src/foc.c **** }
ARM GAS  /tmp/cc86BncK.s 			page 27


 1240              		.loc 1 111 57 is_stmt 0 view .LVU239
 1241 000e 806A     		ldr	r0, [r0, #40]
 1242              	.LVL126:
 111:./underlying/src/foc.c **** }
 1243              		.loc 1 111 57 view .LVU240
 1244 0010 FFF7FEFF 		bl	Get_AS5600_Angle
 1245              	.LVL127:
 111:./underlying/src/foc.c **** }
 1246              		.loc 1 111 56 discriminator 1 view .LVU241
 1247 0014 38EE408A 		vsub.f32	s16, s16, s0
 1248              	.LVL128:
 111:./underlying/src/foc.c **** }
 1249              		.loc 1 111 96 discriminator 1 view .LVU242
 1250 0018 DFED087A 		vldr.32	s15, .L70
 1251 001c 28EE278A 		vmul.f32	s16, s16, s15
 111:./underlying/src/foc.c **** }
 1252              		.loc 1 111 3 discriminator 1 view .LVU243
 1253 0020 9FED070A 		vldr.32	s0, .L70+4
 1254 0024 88EE000A 		vdiv.f32	s0, s16, s0
 1255 0028 2846     		mov	r0, r5
 1256 002a FFF7FEFF 		bl	Pid_clac
 1257              	.LVL129:
 111:./underlying/src/foc.c **** }
 1258              		.loc 1 111 3 discriminator 2 view .LVU244
 1259 002e 2046     		mov	r0, r4
 1260 0030 FFF7FEFF 		bl	setTorque_Curr
 1261              	.LVL130:
 112:./underlying/src/foc.c **** 
 1262              		.loc 1 112 1 view .LVU245
 1263 0034 BDEC028B 		vldm	sp!, {d8}
 1264              	.LCFI31:
 1265              		.cfi_restore 80
 1266              		.cfi_restore 81
 1267              		.cfi_def_cfa_offset 16
 1268 0038 38BD     		pop	{r3, r4, r5, pc}
 1269              	.LVL131:
 1270              	.L71:
 112:./underlying/src/foc.c **** 
 1271              		.loc 1 112 1 view .LVU246
 1272 003a 00BF     		.align	2
 1273              	.L70:
 1274 003c 00003443 		.word	1127481344
 1275 0040 DB0F4940 		.word	1078530011
 1276              		.cfi_endproc
 1277              	.LFE252:
 1279              		.section	.text.set_Velocity_Curr,"ax",%progbits
 1280              		.align	1
 1281              		.global	set_Velocity_Curr
 1282              		.syntax unified
 1283              		.thumb
 1284              		.thumb_func
 1286              	set_Velocity_Curr:
 1287              	.LVL132:
 1288              	.LFB253:
 118:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,(Target-Get_filter_Velocity(motor))*180/PI)); 
 1289              		.loc 1 118 1 is_stmt 1 view -0
 1290              		.cfi_startproc
ARM GAS  /tmp/cc86BncK.s 			page 28


 1291              		@ args = 0, pretend = 0, frame = 0
 1292              		@ frame_needed = 0, uses_anonymous_args = 0
 118:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,(Target-Get_filter_Velocity(motor))*180/PI)); 
 1293              		.loc 1 118 1 is_stmt 0 view .LVU248
 1294 0000 38B5     		push	{r3, r4, r5, lr}
 1295              	.LCFI32:
 1296              		.cfi_def_cfa_offset 16
 1297              		.cfi_offset 3, -16
 1298              		.cfi_offset 4, -12
 1299              		.cfi_offset 5, -8
 1300              		.cfi_offset 14, -4
 1301 0002 2DED028B 		vpush.64	{d8}
 1302              	.LCFI33:
 1303              		.cfi_def_cfa_offset 24
 1304              		.cfi_offset 80, -24
 1305              		.cfi_offset 81, -20
 1306 0006 0446     		mov	r4, r0
 1307 0008 B0EE408A 		vmov.f32	s16, s0
 119:./underlying/src/foc.c **** }
 1308              		.loc 1 119 3 is_stmt 1 view .LVU249
 1309 000c C56A     		ldr	r5, [r0, #44]
 119:./underlying/src/foc.c **** }
 1310              		.loc 1 119 56 is_stmt 0 view .LVU250
 1311 000e FFF7FEFF 		bl	Get_filter_Velocity
 1312              	.LVL133:
 119:./underlying/src/foc.c **** }
 1313              		.loc 1 119 55 discriminator 1 view .LVU251
 1314 0012 38EE408A 		vsub.f32	s16, s16, s0
 1315              	.LVL134:
 119:./underlying/src/foc.c **** }
 1316              		.loc 1 119 83 discriminator 1 view .LVU252
 1317 0016 DFED087A 		vldr.32	s15, .L74
 1318 001a 28EE278A 		vmul.f32	s16, s16, s15
 119:./underlying/src/foc.c **** }
 1319              		.loc 1 119 3 discriminator 1 view .LVU253
 1320 001e 9FED070A 		vldr.32	s0, .L74+4
 1321 0022 88EE000A 		vdiv.f32	s0, s16, s0
 1322 0026 2846     		mov	r0, r5
 1323 0028 FFF7FEFF 		bl	Pid_clac
 1324              	.LVL135:
 119:./underlying/src/foc.c **** }
 1325              		.loc 1 119 3 discriminator 2 view .LVU254
 1326 002c 2046     		mov	r0, r4
 1327 002e FFF7FEFF 		bl	setTorque_Curr
 1328              	.LVL136:
 120:./underlying/src/foc.c **** 
 1329              		.loc 1 120 1 view .LVU255
 1330 0032 BDEC028B 		vldm	sp!, {d8}
 1331              	.LCFI34:
 1332              		.cfi_restore 80
 1333              		.cfi_restore 81
 1334              		.cfi_def_cfa_offset 16
 1335 0036 38BD     		pop	{r3, r4, r5, pc}
 1336              	.LVL137:
 1337              	.L75:
 120:./underlying/src/foc.c **** 
 1338              		.loc 1 120 1 view .LVU256
ARM GAS  /tmp/cc86BncK.s 			page 29


 1339              		.align	2
 1340              	.L74:
 1341 0038 00003443 		.word	1127481344
 1342 003c DB0F4940 		.word	1078530011
 1343              		.cfi_endproc
 1344              	.LFE253:
 1346              		.section	.text.set_Velocity_Angle_Curr,"ax",%progbits
 1347              		.align	1
 1348              		.global	set_Velocity_Angle_Curr
 1349              		.syntax unified
 1350              		.thumb
 1351              		.thumb_func
 1353              	set_Velocity_Angle_Curr:
 1354              	.LVL138:
 1355              	.LFB254:
 126:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(Target-Get_AS5600_Angle(mot
 1356              		.loc 1 126 1 is_stmt 1 view -0
 1357              		.cfi_startproc
 1358              		@ args = 0, pretend = 0, frame = 0
 1359              		@ frame_needed = 0, uses_anonymous_args = 0
 126:./underlying/src/foc.c ****   setTorque_Curr(motor,Pid_clac(motor->Pid_Vel,Pid_clac(motor->Pid_Ang,(Target-Get_AS5600_Angle(mot
 1360              		.loc 1 126 1 is_stmt 0 view .LVU258
 1361 0000 70B5     		push	{r4, r5, r6, lr}
 1362              	.LCFI35:
 1363              		.cfi_def_cfa_offset 16
 1364              		.cfi_offset 4, -16
 1365              		.cfi_offset 5, -12
 1366              		.cfi_offset 6, -8
 1367              		.cfi_offset 14, -4
 1368 0002 2DED028B 		vpush.64	{d8}
 1369              	.LCFI36:
 1370              		.cfi_def_cfa_offset 24
 1371              		.cfi_offset 80, -24
 1372              		.cfi_offset 81, -20
 1373 0006 0446     		mov	r4, r0
 1374 0008 B0EE408A 		vmov.f32	s16, s0
 127:./underlying/src/foc.c **** }
 1375              		.loc 1 127 3 is_stmt 1 view .LVU259
 1376 000c C56A     		ldr	r5, [r0, #44]
 127:./underlying/src/foc.c **** }
 1377              		.loc 1 127 48 is_stmt 0 view .LVU260
 1378 000e 066B     		ldr	r6, [r0, #48]
 127:./underlying/src/foc.c **** }
 1379              		.loc 1 127 80 view .LVU261
 1380 0010 806A     		ldr	r0, [r0, #40]
 1381              	.LVL139:
 127:./underlying/src/foc.c **** }
 1382              		.loc 1 127 80 view .LVU262
 1383 0012 FFF7FEFF 		bl	Get_AS5600_Angle
 1384              	.LVL140:
 127:./underlying/src/foc.c **** }
 1385              		.loc 1 127 79 discriminator 1 view .LVU263
 1386 0016 38EE408A 		vsub.f32	s16, s16, s0
 1387              	.LVL141:
 127:./underlying/src/foc.c **** }
 1388              		.loc 1 127 119 discriminator 1 view .LVU264
 1389 001a DFED0D7A 		vldr.32	s15, .L78
ARM GAS  /tmp/cc86BncK.s 			page 30


 1390 001e 28EE278A 		vmul.f32	s16, s16, s15
 127:./underlying/src/foc.c **** }
 1391              		.loc 1 127 48 discriminator 1 view .LVU265
 1392 0022 9FED0C0A 		vldr.32	s0, .L78+4
 1393 0026 88EE000A 		vdiv.f32	s0, s16, s0
 1394 002a 3046     		mov	r0, r6
 1395 002c FFF7FEFF 		bl	Pid_clac
 1396              	.LVL142:
 1397 0030 B0EE408A 		vmov.f32	s16, s0
 127:./underlying/src/foc.c **** }
 1398              		.loc 1 127 128 discriminator 2 view .LVU266
 1399 0034 2046     		mov	r0, r4
 1400 0036 FFF7FEFF 		bl	Get_filter_Velocity
 1401              	.LVL143:
 127:./underlying/src/foc.c **** }
 1402              		.loc 1 127 3 discriminator 3 view .LVU267
 1403 003a 38EE400A 		vsub.f32	s0, s16, s0
 1404 003e 2846     		mov	r0, r5
 1405 0040 FFF7FEFF 		bl	Pid_clac
 1406              	.LVL144:
 127:./underlying/src/foc.c **** }
 1407              		.loc 1 127 3 discriminator 4 view .LVU268
 1408 0044 2046     		mov	r0, r4
 1409 0046 FFF7FEFF 		bl	setTorque_Curr
 1410              	.LVL145:
 128:./underlying/src/foc.c **** 
 1411              		.loc 1 128 1 view .LVU269
 1412 004a BDEC028B 		vldm	sp!, {d8}
 1413              	.LCFI37:
 1414              		.cfi_restore 80
 1415              		.cfi_restore 81
 1416              		.cfi_def_cfa_offset 16
 1417 004e 70BD     		pop	{r4, r5, r6, pc}
 1418              	.LVL146:
 1419              	.L79:
 128:./underlying/src/foc.c **** 
 1420              		.loc 1 128 1 view .LVU270
 1421              		.align	2
 1422              	.L78:
 1423 0050 00003443 		.word	1127481344
 1424 0054 DB0F4940 		.word	1078530011
 1425              		.cfi_endproc
 1426              	.LFE254:
 1428              		.section	.text.Motor1_Set_Compare1,"ax",%progbits
 1429              		.align	1
 1430              		.weak	Motor1_Set_Compare1
 1431              		.syntax unified
 1432              		.thumb
 1433              		.thumb_func
 1435              	Motor1_Set_Compare1:
 1436              	.LVL147:
 1437              	.LFB258:
 184:./underlying/src/foc.c **** 
 185:./underlying/src/foc.c **** 
 186:./underlying/src/foc.c **** 
 187:./underlying/src/foc.c **** 
 188:./underlying/src/foc.c **** 
ARM GAS  /tmp/cc86BncK.s 			page 31


 189:./underlying/src/foc.c **** 
 190:./underlying/src/foc.c **** 
 191:./underlying/src/foc.c **** 
 192:./underlying/src/foc.c **** 
 193:./underlying/src/foc.c **** 
 194:./underlying/src/foc.c **** 
 195:./underlying/src/foc.c **** 
 196:./underlying/src/foc.c **** 
 197:./underlying/src/foc.c **** 
 198:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº1é€šé“1pwmè¾“å‡ºå ç©ºæ¯”
 199:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 200:./underlying/src/foc.c **** void __attribute__((weak)) Motor1_Set_Compare1(uint32_t compare) 
 201:./underlying/src/foc.c **** {
 1438              		.loc 1 201 1 is_stmt 1 view -0
 1439              		.cfi_startproc
 1440              		@ args = 0, pretend = 0, frame = 0
 1441              		@ frame_needed = 0, uses_anonymous_args = 0
 1442              		@ link register save eliminated.
 202:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_4, compare);
 1443              		.loc 1 202 5 view .LVU272
 1444 0000 014B     		ldr	r3, .L81
 1445 0002 1B68     		ldr	r3, [r3]
 1446 0004 1864     		str	r0, [r3, #64]
 203:./underlying/src/foc.c **** }
 1447              		.loc 1 203 1 is_stmt 0 view .LVU273
 1448 0006 7047     		bx	lr
 1449              	.L82:
 1450              		.align	2
 1451              	.L81:
 1452 0008 00000000 		.word	htim4
 1453              		.cfi_endproc
 1454              	.LFE258:
 1456              		.section	.text.Motor1_Set_Compare2,"ax",%progbits
 1457              		.align	1
 1458              		.weak	Motor1_Set_Compare2
 1459              		.syntax unified
 1460              		.thumb
 1461              		.thumb_func
 1463              	Motor1_Set_Compare2:
 1464              	.LVL148:
 1465              	.LFB259:
 204:./underlying/src/foc.c **** 
 205:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº1é€šé“2pwmè¾“å‡ºå ç©ºæ¯”
 206:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 207:./underlying/src/foc.c **** void __attribute__((weak)) Motor1_Set_Compare2(uint32_t compare) 
 208:./underlying/src/foc.c **** {
 1466              		.loc 1 208 1 is_stmt 1 view -0
 1467              		.cfi_startproc
 1468              		@ args = 0, pretend = 0, frame = 0
 1469              		@ frame_needed = 0, uses_anonymous_args = 0
 1470              		@ link register save eliminated.
 209:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim8, TIM_CHANNEL_1, compare);
 1471              		.loc 1 209 5 view .LVU275
 1472 0000 014B     		ldr	r3, .L84
 1473 0002 1B68     		ldr	r3, [r3]
 1474 0004 5863     		str	r0, [r3, #52]
 210:./underlying/src/foc.c **** }
ARM GAS  /tmp/cc86BncK.s 			page 32


 1475              		.loc 1 210 1 is_stmt 0 view .LVU276
 1476 0006 7047     		bx	lr
 1477              	.L85:
 1478              		.align	2
 1479              	.L84:
 1480 0008 00000000 		.word	htim8
 1481              		.cfi_endproc
 1482              	.LFE259:
 1484              		.section	.text.Motor1_Set_Compare3,"ax",%progbits
 1485              		.align	1
 1486              		.weak	Motor1_Set_Compare3
 1487              		.syntax unified
 1488              		.thumb
 1489              		.thumb_func
 1491              	Motor1_Set_Compare3:
 1492              	.LVL149:
 1493              	.LFB260:
 211:./underlying/src/foc.c **** 
 212:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº1é€šé“3pwmè¾“å‡ºå ç©ºæ¯”
 213:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 214:./underlying/src/foc.c **** void __attribute__((weak)) Motor1_Set_Compare3(uint32_t compare) 
 215:./underlying/src/foc.c **** {
 1494              		.loc 1 215 1 is_stmt 1 view -0
 1495              		.cfi_startproc
 1496              		@ args = 0, pretend = 0, frame = 0
 1497              		@ frame_needed = 0, uses_anonymous_args = 0
 1498              		@ link register save eliminated.
 216:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim8, TIM_CHANNEL_2, compare);
 1499              		.loc 1 216 5 view .LVU278
 1500 0000 014B     		ldr	r3, .L87
 1501 0002 1B68     		ldr	r3, [r3]
 1502 0004 9863     		str	r0, [r3, #56]
 217:./underlying/src/foc.c **** }
 1503              		.loc 1 217 1 is_stmt 0 view .LVU279
 1504 0006 7047     		bx	lr
 1505              	.L88:
 1506              		.align	2
 1507              	.L87:
 1508 0008 00000000 		.word	htim8
 1509              		.cfi_endproc
 1510              	.LFE260:
 1512              		.section	.text.Motor2_Set_Compare1,"ax",%progbits
 1513              		.align	1
 1514              		.weak	Motor2_Set_Compare1
 1515              		.syntax unified
 1516              		.thumb
 1517              		.thumb_func
 1519              	Motor2_Set_Compare1:
 1520              	.LVL150:
 1521              	.LFB261:
 218:./underlying/src/foc.c **** 
 219:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº2é€šé“1pwmè¾“å‡ºå ç©ºæ¯”
 220:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 221:./underlying/src/foc.c **** void __attribute__((weak)) Motor2_Set_Compare1(uint32_t compare) 
 222:./underlying/src/foc.c **** {
 1522              		.loc 1 222 1 is_stmt 1 view -0
 1523              		.cfi_startproc
ARM GAS  /tmp/cc86BncK.s 			page 33


 1524              		@ args = 0, pretend = 0, frame = 0
 1525              		@ frame_needed = 0, uses_anonymous_args = 0
 1526              		@ link register save eliminated.
 223:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_3, compare);
 1527              		.loc 1 223 5 view .LVU281
 1528 0000 014B     		ldr	r3, .L90
 1529 0002 1B68     		ldr	r3, [r3]
 1530 0004 D863     		str	r0, [r3, #60]
 224:./underlying/src/foc.c **** }
 1531              		.loc 1 224 1 is_stmt 0 view .LVU282
 1532 0006 7047     		bx	lr
 1533              	.L91:
 1534              		.align	2
 1535              	.L90:
 1536 0008 00000000 		.word	htim4
 1537              		.cfi_endproc
 1538              	.LFE261:
 1540              		.section	.text.Motor2_Set_Compare2,"ax",%progbits
 1541              		.align	1
 1542              		.weak	Motor2_Set_Compare2
 1543              		.syntax unified
 1544              		.thumb
 1545              		.thumb_func
 1547              	Motor2_Set_Compare2:
 1548              	.LVL151:
 1549              	.LFB262:
 225:./underlying/src/foc.c **** 
 226:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº2é€šé“2pwmè¾“å‡ºå ç©ºæ¯”
 227:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 228:./underlying/src/foc.c **** void __attribute__((weak)) Motor2_Set_Compare2(uint32_t compare) 
 229:./underlying/src/foc.c **** {
 1550              		.loc 1 229 1 is_stmt 1 view -0
 1551              		.cfi_startproc
 1552              		@ args = 0, pretend = 0, frame = 0
 1553              		@ frame_needed = 0, uses_anonymous_args = 0
 1554              		@ link register save eliminated.
 230:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_2, compare);
 1555              		.loc 1 230 5 view .LVU284
 1556 0000 014B     		ldr	r3, .L93
 1557 0002 1B68     		ldr	r3, [r3]
 1558 0004 9863     		str	r0, [r3, #56]
 231:./underlying/src/foc.c **** }
 1559              		.loc 1 231 1 is_stmt 0 view .LVU285
 1560 0006 7047     		bx	lr
 1561              	.L94:
 1562              		.align	2
 1563              	.L93:
 1564 0008 00000000 		.word	htim4
 1565              		.cfi_endproc
 1566              	.LFE262:
 1568              		.section	.text.Motor2_Set_Compare3,"ax",%progbits
 1569              		.align	1
 1570              		.weak	Motor2_Set_Compare3
 1571              		.syntax unified
 1572              		.thumb
 1573              		.thumb_func
 1575              	Motor2_Set_Compare3:
ARM GAS  /tmp/cc86BncK.s 			page 34


 1576              	.LVL152:
 1577              	.LFB263:
 232:./underlying/src/foc.c **** 
 233:./underlying/src/foc.c **** /// @brief è®¾ç½®ç”µæœº2é€šé“3pwmè¾“å‡ºå ç©ºæ¯”
 234:./underlying/src/foc.c **** /// @param compare å ç©ºæ¯”å€¼
 235:./underlying/src/foc.c **** void __attribute__((weak)) Motor2_Set_Compare3(uint32_t compare) 
 236:./underlying/src/foc.c **** {
 1578              		.loc 1 236 1 is_stmt 1 view -0
 1579              		.cfi_startproc
 1580              		@ args = 0, pretend = 0, frame = 0
 1581              		@ frame_needed = 0, uses_anonymous_args = 0
 1582              		@ link register save eliminated.
 237:./underlying/src/foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_1, compare);
 1583              		.loc 1 237 5 view .LVU287
 1584 0000 014B     		ldr	r3, .L96
 1585 0002 1B68     		ldr	r3, [r3]
 1586 0004 5863     		str	r0, [r3, #52]
 238:./underlying/src/foc.c **** }
 1587              		.loc 1 238 1 is_stmt 0 view .LVU288
 1588 0006 7047     		bx	lr
 1589              	.L97:
 1590              		.align	2
 1591              	.L96:
 1592 0008 00000000 		.word	htim4
 1593              		.cfi_endproc
 1594              	.LFE263:
 1596              		.text
 1597              	.Letext0:
 1598              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 1599              		.file 3 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1600              		.file 4 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1601              		.file 5 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1602              		.file 6 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 1603              		.file 7 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1604              		.file 8 "./underlying/inc/as5600.h"
 1605              		.file 9 "./underlying/inc/pid.h"
 1606              		.file 10 "./underlying/inc/lowpass_filter.h"
 1607              		.file 11 "./underlying/inc/inlinecurrent.h"
 1608              		.file 12 "./Core/Inc/tim.h"
 1609              		.file 13 "./underlying/inc/ts_foc.h"
 1610              		.file 14 "/usr/include/newlib/math.h"
 1611              		.file 15 "/usr/include/newlib/stdio.h"
 1612              		.file 16 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cc86BncK.s 			page 35


DEFINED SYMBOLS
                            *ABS*:00000000 foc.c
     /tmp/cc86BncK.s:23     .text._normalizeRadian:00000000 $t
     /tmp/cc86BncK.s:29     .text._normalizeRadian:00000000 _normalizeRadian
     /tmp/cc86BncK.s:75     .text._normalizeRadian:00000038 $d
     /tmp/cc86BncK.s:82     .text._normalizeAngle:00000000 $t
     /tmp/cc86BncK.s:88     .text._normalizeAngle:00000000 _normalizeAngle
     /tmp/cc86BncK.s:134    .text._normalizeAngle:00000038 $d
     /tmp/cc86BncK.s:141    .text.Get_filter_Velocity:00000000 $t
     /tmp/cc86BncK.s:147    .text.Get_filter_Velocity:00000000 Get_filter_Velocity
     /tmp/cc86BncK.s:186    .text.cal_Iq_Id:00000000 $t
     /tmp/cc86BncK.s:192    .text.cal_Iq_Id:00000000 cal_Iq_Id
     /tmp/cc86BncK.s:291    .text.cal_Iq_Id:00000078 $d
     /tmp/cc86BncK.s:297    .text._electricalAngle:00000000 $t
     /tmp/cc86BncK.s:303    .text._electricalAngle:00000000 _electricalAngle
     /tmp/cc86BncK.s:344    .text.Get_Current:00000000 $t
     /tmp/cc86BncK.s:350    .text.Get_Current:00000000 Get_Current
     /tmp/cc86BncK.s:393    .text.setPwm:00000000 $t
     /tmp/cc86BncK.s:399    .text.setPwm:00000000 setPwm
     /tmp/cc86BncK.s:588    .text.setPwm:00000120 $d
     /tmp/cc86BncK.s:597    .text.setTorque:00000000 $t
     /tmp/cc86BncK.s:603    .text.setTorque:00000000 setTorque
     /tmp/cc86BncK.s:815    .text.setTorque:00000158 $d
     /tmp/cc86BncK.s:822    .rodata.aligns_Motor_Zero_Angle.str1.4:00000000 $d
     /tmp/cc86BncK.s:827    .text.aligns_Motor_Zero_Angle:00000000 $t
     /tmp/cc86BncK.s:833    .text.aligns_Motor_Zero_Angle:00000000 aligns_Motor_Zero_Angle
     /tmp/cc86BncK.s:908    .text.aligns_Motor_Zero_Angle:0000005c $d
     /tmp/cc86BncK.s:915    .text.Set_Velocity_Angle:00000000 $t
     /tmp/cc86BncK.s:921    .text.Set_Velocity_Angle:00000000 Set_Velocity_Angle
     /tmp/cc86BncK.s:991    .text.Set_Velocity_Angle:00000054 $d
     /tmp/cc86BncK.s:997    .text.Set_Velocity:00000000 $t
     /tmp/cc86BncK.s:1003   .text.Set_Velocity:00000000 Set_Velocity
     /tmp/cc86BncK.s:1065   .text.Set_Velocity:0000004c $d
     /tmp/cc86BncK.s:1071   .text.Set_Force_Angle:00000000 $t
     /tmp/cc86BncK.s:1077   .text.Set_Force_Angle:00000000 Set_Force_Angle
     /tmp/cc86BncK.s:1142   .text.Set_Force_Angle:0000004c $d
     /tmp/cc86BncK.s:1148   .text.setTorque_Curr:00000000 $t
     /tmp/cc86BncK.s:1154   .text.setTorque_Curr:00000000 setTorque_Curr
     /tmp/cc86BncK.s:1210   .text.set_Force_Angle_Curr:00000000 $t
     /tmp/cc86BncK.s:1216   .text.set_Force_Angle_Curr:00000000 set_Force_Angle_Curr
     /tmp/cc86BncK.s:1274   .text.set_Force_Angle_Curr:0000003c $d
     /tmp/cc86BncK.s:1280   .text.set_Velocity_Curr:00000000 $t
     /tmp/cc86BncK.s:1286   .text.set_Velocity_Curr:00000000 set_Velocity_Curr
     /tmp/cc86BncK.s:1341   .text.set_Velocity_Curr:00000038 $d
     /tmp/cc86BncK.s:1347   .text.set_Velocity_Angle_Curr:00000000 $t
     /tmp/cc86BncK.s:1353   .text.set_Velocity_Angle_Curr:00000000 set_Velocity_Angle_Curr
     /tmp/cc86BncK.s:1423   .text.set_Velocity_Angle_Curr:00000050 $d
     /tmp/cc86BncK.s:1429   .text.Motor1_Set_Compare1:00000000 $t
     /tmp/cc86BncK.s:1435   .text.Motor1_Set_Compare1:00000000 Motor1_Set_Compare1
     /tmp/cc86BncK.s:1452   .text.Motor1_Set_Compare1:00000008 $d
     /tmp/cc86BncK.s:1457   .text.Motor1_Set_Compare2:00000000 $t
     /tmp/cc86BncK.s:1463   .text.Motor1_Set_Compare2:00000000 Motor1_Set_Compare2
     /tmp/cc86BncK.s:1480   .text.Motor1_Set_Compare2:00000008 $d
     /tmp/cc86BncK.s:1485   .text.Motor1_Set_Compare3:00000000 $t
     /tmp/cc86BncK.s:1491   .text.Motor1_Set_Compare3:00000000 Motor1_Set_Compare3
     /tmp/cc86BncK.s:1508   .text.Motor1_Set_Compare3:00000008 $d
     /tmp/cc86BncK.s:1513   .text.Motor2_Set_Compare1:00000000 $t
ARM GAS  /tmp/cc86BncK.s 			page 36


     /tmp/cc86BncK.s:1519   .text.Motor2_Set_Compare1:00000000 Motor2_Set_Compare1
     /tmp/cc86BncK.s:1536   .text.Motor2_Set_Compare1:00000008 $d
     /tmp/cc86BncK.s:1541   .text.Motor2_Set_Compare2:00000000 $t
     /tmp/cc86BncK.s:1547   .text.Motor2_Set_Compare2:00000000 Motor2_Set_Compare2
     /tmp/cc86BncK.s:1564   .text.Motor2_Set_Compare2:00000008 $d
     /tmp/cc86BncK.s:1569   .text.Motor2_Set_Compare3:00000000 $t
     /tmp/cc86BncK.s:1575   .text.Motor2_Set_Compare3:00000000 Motor2_Set_Compare3
     /tmp/cc86BncK.s:1592   .text.Motor2_Set_Compare3:00000008 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_d2f
fmod
Get_AS5600_Velocity
Lowpass_Filter_calc
cos
sin
__aeabi_dmul
__aeabi_dsub
__aeabi_dadd
HAL_Delay
Read_AS5600_Angle
printf
Get_AS5600_Angle
Pid_clac
htim4
htim8
