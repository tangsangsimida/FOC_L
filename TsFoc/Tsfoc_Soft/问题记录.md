# FOC开发过程中所遇到的关于软件和硬件上的坑

## 软件：

1. 结构体指针中包含结构体指针在申请内存的时候需要分别将所有结构体指针以及所包含的所有指针分别申请内存
2. stm32单片机的堆栈大小是通过cubeMX生成的时候自定义的，大量的结构体指针可能会导致堆区空间不足导致内存申请失败









## 硬件

1. 径向磁铁安装必须与编码器芯片对正，否则会出现精度丢失的情况，非常严重













# 当前为解决问题列表:

1. 低速正常，速度快一点之后就开始抖动，再快就死机了

   可能造成原因:

   角度传感器是模拟IIC速率可能不够

   
