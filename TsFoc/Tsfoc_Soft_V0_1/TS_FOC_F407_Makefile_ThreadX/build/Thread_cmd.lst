ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Thread_cmd.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.Get_Cmd.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 7365745F 		.ascii	"set_angle:\000"
  22      616E676C 
  22      653A00
  23 000b 00       		.align	2
  24              	.LC1:
  25 000c 7365745F 		.ascii	"set_torque:\000"
  25      746F7271 
  25      75653A00 
  26              		.section	.text.Get_Cmd,"ax",%progbits
  27              		.align	1
  28              		.global	Get_Cmd
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	Get_Cmd:
  34              	.LVL0:
  35              	.LFB250:
  36              		.file 1 "./app/Threads/Thread_cmd/Thread_cmd.c"
   1:./app/Threads/Thread_cmd/Thread_cmd.c **** /**
   2:./app/Threads/Thread_cmd/Thread_cmd.c ****   ******************************************************************************
   3:./app/Threads/Thread_cmd/Thread_cmd.c ****   * @file           : Thread_template.c
   4:./app/Threads/Thread_cmd/Thread_cmd.c ****   * @brief          : 降低代码耦合
   5:./app/Threads/Thread_cmd/Thread_cmd.c ****   ******************************************************************************
   6:./app/Threads/Thread_cmd/Thread_cmd.c ****   * @author			  : Dennis_Re_Yoonjiho
   7:./app/Threads/Thread_cmd/Thread_cmd.c ****   * @attention		:
   8:./app/Threads/Thread_cmd/Thread_cmd.c ****   *	
   9:./app/Threads/Thread_cmd/Thread_cmd.c ****   * 						   	Copyright (c) 2021 Dennis_Re_Yoonjiho
  10:./app/Threads/Thread_cmd/Thread_cmd.c ****   ******************************************************************************
  11:./app/Threads/Thread_cmd/Thread_cmd.c ****   */
  12:./app/Threads/Thread_cmd/Thread_cmd.c **** #include "Thread_cmd.h"
  13:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  14:./app/Threads/Thread_cmd/Thread_cmd.c **** TX_THREAD Thread_Cmd;						//实例化线程句柄,线程相关信息
  15:./app/Threads/Thread_cmd/Thread_cmd.c **** Thread_Cmd_parama Thread_Cmd_parama1;	//实例化入口函数的参数
  16:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  17:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  18:./app/Threads/Thread_cmd/Thread_cmd.c **** 
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 2


  19:./app/Threads/Thread_cmd/Thread_cmd.c **** struct UART_RECEIVE_IDLE_DataStructure
  20:./app/Threads/Thread_cmd/Thread_cmd.c **** {
  21:./app/Threads/Thread_cmd/Thread_cmd.c **** 	volatile uint8_t rxlen; 
  22:./app/Threads/Thread_cmd/Thread_cmd.c **** 	volatile uint8_t rxok; 
  23:./app/Threads/Thread_cmd/Thread_cmd.c **** 	uint8_t rxbuf[UART_RECEIVE_IDLE_RX_MAXLEN]; 
  24:./app/Threads/Thread_cmd/Thread_cmd.c **** } Uart_Receive_Data ={ 0, 1 };
  25:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  26:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  27:./app/Threads/Thread_cmd/Thread_cmd.c **** int8_t Get_Cmd(UART_HandleTypeDef *huart, ULONG THREAD_CMD)
  28:./app/Threads/Thread_cmd/Thread_cmd.c **** {
  37              		.loc 1 28 1 view -0
  38              		.cfi_startproc
  39              		@ args = 0, pretend = 0, frame = 256
  40              		@ frame_needed = 0, uses_anonymous_args = 0
  29:./app/Threads/Thread_cmd/Thread_cmd.c ****     Thread_Cmd_parama * Thread_Cmd = (Thread_Cmd_parama *)THREAD_CMD;
  41              		.loc 1 29 5 view .LVU1
  30:./app/Threads/Thread_cmd/Thread_cmd.c **** 	int8_t nret = 0;
  42              		.loc 1 30 2 view .LVU2
  31:./app/Threads/Thread_cmd/Thread_cmd.c **** 	if (Uart_Receive_Data.rxok == 0)
  43              		.loc 1 31 2 view .LVU3
  44              		.loc 1 31 23 is_stmt 0 view .LVU4
  45 0000 2C4B     		ldr	r3, .L10
  46 0002 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  47              		.loc 1 31 5 view .LVU5
  48 0004 002B     		cmp	r3, #0
  49 0006 51D0     		beq	.L5
  28:./app/Threads/Thread_cmd/Thread_cmd.c ****     Thread_Cmd_parama * Thread_Cmd = (Thread_Cmd_parama *)THREAD_CMD;
  50              		.loc 1 28 1 view .LVU6
  51 0008 F0B5     		push	{r4, r5, r6, r7, lr}
  52              	.LCFI0:
  53              		.cfi_def_cfa_offset 20
  54              		.cfi_offset 4, -20
  55              		.cfi_offset 5, -16
  56              		.cfi_offset 6, -12
  57              		.cfi_offset 7, -8
  58              		.cfi_offset 14, -4
  59 000a C1B0     		sub	sp, sp, #260
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 280
  62 000c 0646     		mov	r6, r0
  63 000e 0C46     		mov	r4, r1
  32:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
  33:./app/Threads/Thread_cmd/Thread_cmd.c **** 		nret = -1;
  34:./app/Threads/Thread_cmd/Thread_cmd.c **** 	}
  35:./app/Threads/Thread_cmd/Thread_cmd.c **** 	else
  36:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
  37:./app/Threads/Thread_cmd/Thread_cmd.c **** 		if (nret == 0)
  64              		.loc 1 37 3 is_stmt 1 view .LVU7
  65              	.LBB2:
  38:./app/Threads/Thread_cmd/Thread_cmd.c **** 		{
  39:./app/Threads/Thread_cmd/Thread_cmd.c ****             //数据接收成功，清洗数据
  40:./app/Threads/Thread_cmd/Thread_cmd.c ****             char command[UART_RECEIVE_IDLE_RX_MAXLEN] = {0};
  66              		.loc 1 40 13 view .LVU8
  67              		.loc 1 40 18 is_stmt 0 view .LVU9
  68 0010 0021     		movs	r1, #0
  69              	.LVL1:
  70              		.loc 1 40 18 view .LVU10
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 3


  71 0012 0091     		str	r1, [sp]
  72 0014 FC22     		movs	r2, #252
  73 0016 01A8     		add	r0, sp, #4
  74              	.LVL2:
  75              		.loc 1 40 18 view .LVU11
  76 0018 FFF7FEFF 		bl	memset
  77              	.LVL3:
  41:./app/Threads/Thread_cmd/Thread_cmd.c ****             memcpy(command, Uart_Receive_Data.rxbuf, Uart_Receive_Data.rxlen);
  78              		.loc 1 41 13 is_stmt 1 view .LVU12
  79              		.loc 1 41 71 is_stmt 0 view .LVU13
  80 001c 2549     		ldr	r1, .L10
  81 001e 11F8022B 		ldrb	r2, [r1], #2	@ zero_extendqisi2
  82              		.loc 1 41 13 view .LVU14
  83 0022 6846     		mov	r0, sp
  84 0024 FFF7FEFF 		bl	memcpy
  85              	.LVL4:
  42:./app/Threads/Thread_cmd/Thread_cmd.c ****             char *angle_str = NULL;
  86              		.loc 1 42 13 is_stmt 1 view .LVU15
  43:./app/Threads/Thread_cmd/Thread_cmd.c **** 			char *torque_str = NULL;
  87              		.loc 1 43 4 view .LVU16
  44:./app/Threads/Thread_cmd/Thread_cmd.c ****             char *angle_num = NULL;
  88              		.loc 1 44 13 view .LVU17
  45:./app/Threads/Thread_cmd/Thread_cmd.c ****             char *torque_num = NULL;
  89              		.loc 1 45 13 view .LVU18
  46:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  47:./app/Threads/Thread_cmd/Thread_cmd.c ****             angle_str = strstr(command, "set_angle:"); // 找到 "set_angle:" 的位置
  90              		.loc 1 47 13 view .LVU19
  91              		.loc 1 47 25 is_stmt 0 view .LVU20
  92 0028 2349     		ldr	r1, .L10+4
  93 002a 6846     		mov	r0, sp
  94 002c FFF7FEFF 		bl	strstr
  95              	.LVL5:
  48:./app/Threads/Thread_cmd/Thread_cmd.c ****             if (angle_str != NULL) {
  96              		.loc 1 48 13 is_stmt 1 view .LVU21
  97              		.loc 1 48 16 is_stmt 0 view .LVU22
  98 0030 0246     		mov	r2, r0
  99 0032 68B1     		cbz	r0, .L3
 100              	.LBB3:
  49:./app/Threads/Thread_cmd/Thread_cmd.c ****                 strcpy(Thread_Cmd->Cmd_Name_last, "set_angle:"); // 保存命令名称
 101              		.loc 1 49 17 is_stmt 1 view .LVU23
 102 0034 204B     		ldr	r3, .L10+4
 103 0036 03CB     		ldmia	r3!, {r0, r1}
 104              	.LVL6:
 105              		.loc 1 49 17 is_stmt 0 view .LVU24
 106 0038 2060     		str	r0, [r4]	@ unaligned
 107 003a 6160     		str	r1, [r4, #4]	@ unaligned
 108 003c 1988     		ldrh	r1, [r3]	@ unaligned
 109 003e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 110 0040 2181     		strh	r1, [r4, #8]	@ unaligned
 111 0042 A372     		strb	r3, [r4, #10]
  50:./app/Threads/Thread_cmd/Thread_cmd.c ****                 angle_num = angle_str + strlen("set_angle:"); // 指向角度值的起始位置
 112              		.loc 1 50 17 is_stmt 1 view .LVU25
 113              	.LVL7:
  51:./app/Threads/Thread_cmd/Thread_cmd.c ****                 double angle = atof(angle_num); // 将字符串转换为浮点数
 114              		.loc 1 51 17 view .LVU26
 115              		.loc 1 51 32 is_stmt 0 view .LVU27
 116 0044 02F10A00 		add	r0, r2, #10
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 4


 117              	.LVL8:
 118              		.loc 1 51 32 view .LVU28
 119 0048 FFF7FEFF 		bl	atof
 120              	.LVL9:
  52:./app/Threads/Thread_cmd/Thread_cmd.c ****                 Thread_Cmd->Cmd_Param_last = angle; // 保存角度值
 121              		.loc 1 52 17 is_stmt 1 view .LVU29
 122              		.loc 1 52 44 is_stmt 0 view .LVU30
 123 004c 84ED080B 		vstr.64	d0, [r4, #32]
 124              	.LVL10:
 125              	.L3:
 126              		.loc 1 52 44 view .LVU31
 127              	.LBE3:
  53:./app/Threads/Thread_cmd/Thread_cmd.c ****             }
  54:./app/Threads/Thread_cmd/Thread_cmd.c **** 			torque_str = strstr(command, "set_torque:"); // 找到 "set_torque:" 的位置
 128              		.loc 1 54 4 is_stmt 1 view .LVU32
 129              		.loc 1 54 17 is_stmt 0 view .LVU33
 130 0050 1A49     		ldr	r1, .L10+8
 131 0052 6846     		mov	r0, sp
 132 0054 FFF7FEFF 		bl	strstr
 133              	.LVL11:
  55:./app/Threads/Thread_cmd/Thread_cmd.c ****             if (torque_str != NULL) {
 134              		.loc 1 55 13 is_stmt 1 view .LVU34
 135              		.loc 1 55 16 is_stmt 0 view .LVU35
 136 0058 0546     		mov	r5, r0
 137 005a 50B1     		cbz	r0, .L4
 138              	.LBB4:
  56:./app/Threads/Thread_cmd/Thread_cmd.c ****                 strcpy(Thread_Cmd->Cmd_Name_last, "set_torque:"); // 保存命令名称
 139              		.loc 1 56 17 is_stmt 1 view .LVU36
 140 005c 174B     		ldr	r3, .L10+8
 141 005e 07CB     		ldmia	r3!, {r0, r1, r2}
 142              	.LVL12:
 143              		.loc 1 56 17 is_stmt 0 view .LVU37
 144 0060 2060     		str	r0, [r4]	@ unaligned
 145 0062 6160     		str	r1, [r4, #4]	@ unaligned
 146 0064 A260     		str	r2, [r4, #8]	@ unaligned
  57:./app/Threads/Thread_cmd/Thread_cmd.c ****                 torque_num = torque_str + strlen("set_torque:"); // 指向力矩值的起始位置
 147              		.loc 1 57 17 is_stmt 1 view .LVU38
 148              	.LVL13:
  58:./app/Threads/Thread_cmd/Thread_cmd.c ****                 double torque = atof(torque_num); // 将字符串转换为浮点数
 149              		.loc 1 58 17 view .LVU39
 150              		.loc 1 58 33 is_stmt 0 view .LVU40
 151 0066 05F10B00 		add	r0, r5, #11
 152              	.LVL14:
 153              		.loc 1 58 33 view .LVU41
 154 006a FFF7FEFF 		bl	atof
 155              	.LVL15:
  59:./app/Threads/Thread_cmd/Thread_cmd.c ****                 Thread_Cmd->Cmd_Param_last = torque; // 保存力矩值
 156              		.loc 1 59 17 is_stmt 1 view .LVU42
 157              		.loc 1 59 44 is_stmt 0 view .LVU43
 158 006e 84ED080B 		vstr.64	d0, [r4, #32]
 159              	.LVL16:
 160              	.L4:
 161              		.loc 1 59 44 view .LVU44
 162              	.LBE4:
  60:./app/Threads/Thread_cmd/Thread_cmd.c ****             }
  61:./app/Threads/Thread_cmd/Thread_cmd.c ****             //这个地方不要直接打印参数,建议到线程中去处理
  62:./app/Threads/Thread_cmd/Thread_cmd.c ****             memset(command, 0, UART_RECEIVE_IDLE_RX_MAXLEN); // 清空接收缓存
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 5


 163              		.loc 1 62 13 is_stmt 1 view .LVU45
 164 0072 4FF48077 		mov	r7, #256
 165 0076 3A46     		mov	r2, r7
 166 0078 0021     		movs	r1, #0
 167 007a 6846     		mov	r0, sp
 168 007c FFF7FEFF 		bl	memset
 169              	.LVL17:
 170              	.LBE2:
  63:./app/Threads/Thread_cmd/Thread_cmd.c **** 		}
  64:./app/Threads/Thread_cmd/Thread_cmd.c **** 		Uart_Receive_Data.rxok = 0;
 171              		.loc 1 64 3 view .LVU46
 172              		.loc 1 64 26 is_stmt 0 view .LVU47
 173 0080 0C4D     		ldr	r5, .L10
 174              	.LVL18:
 175              		.loc 1 64 26 view .LVU48
 176 0082 0024     		movs	r4, #0
 177              	.LVL19:
 178              		.loc 1 64 26 view .LVU49
 179 0084 6C70     		strb	r4, [r5, #1]
  65:./app/Threads/Thread_cmd/Thread_cmd.c **** 		__HAL_UART_ENABLE_IT(huart, UART_IT_IDLE);
 180              		.loc 1 65 3 is_stmt 1 view .LVU50
 181 0086 3268     		ldr	r2, [r6]
 182 0088 D368     		ldr	r3, [r2, #12]
 183 008a 43F01003 		orr	r3, r3, #16
 184 008e D360     		str	r3, [r2, #12]
  66:./app/Threads/Thread_cmd/Thread_cmd.c **** 		memset(Uart_Receive_Data.rxbuf, 0, UART_RECEIVE_IDLE_RX_MAXLEN);
 185              		.loc 1 66 3 view .LVU51
 186 0090 0235     		adds	r5, r5, #2
 187 0092 3A46     		mov	r2, r7
 188 0094 2146     		mov	r1, r4
 189 0096 2846     		mov	r0, r5
 190 0098 FFF7FEFF 		bl	memset
 191              	.LVL20:
  67:./app/Threads/Thread_cmd/Thread_cmd.c **** 		HAL_UART_Receive_DMA(huart, Uart_Receive_Data.rxbuf, UART_RECEIVE_IDLE_RX_MAXLEN);
 192              		.loc 1 67 3 view .LVU52
 193 009c 3A46     		mov	r2, r7
 194 009e 2946     		mov	r1, r5
 195 00a0 3046     		mov	r0, r6
 196 00a2 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 197              	.LVL21:
  30:./app/Threads/Thread_cmd/Thread_cmd.c **** 	if (Uart_Receive_Data.rxok == 0)
 198              		.loc 1 30 9 is_stmt 0 view .LVU53
 199 00a6 2046     		mov	r0, r4
 200              	.LVL22:
  68:./app/Threads/Thread_cmd/Thread_cmd.c **** 	}
  69:./app/Threads/Thread_cmd/Thread_cmd.c ****     // printf("Get_Cmd_nret: %d\r\n",nret);
  70:./app/Threads/Thread_cmd/Thread_cmd.c **** 	return nret;
 201              		.loc 1 70 2 is_stmt 1 view .LVU54
  71:./app/Threads/Thread_cmd/Thread_cmd.c **** }
 202              		.loc 1 71 1 is_stmt 0 view .LVU55
 203 00a8 41B0     		add	sp, sp, #260
 204              	.LCFI2:
 205              		.cfi_def_cfa_offset 20
 206              		@ sp needed
 207 00aa F0BD     		pop	{r4, r5, r6, r7, pc}
 208              	.LVL23:
 209              	.L5:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 6


 210              	.LCFI3:
 211              		.cfi_def_cfa_offset 0
 212              		.cfi_restore 4
 213              		.cfi_restore 5
 214              		.cfi_restore 6
 215              		.cfi_restore 7
 216              		.cfi_restore 14
  33:./app/Threads/Thread_cmd/Thread_cmd.c **** 	}
 217              		.loc 1 33 8 view .LVU56
 218 00ac 4FF0FF30 		mov	r0, #-1
 219              	.LVL24:
  70:./app/Threads/Thread_cmd/Thread_cmd.c **** }
 220              		.loc 1 70 2 is_stmt 1 view .LVU57
 221              		.loc 1 71 1 is_stmt 0 view .LVU58
 222 00b0 7047     		bx	lr
 223              	.L11:
 224 00b2 00BF     		.align	2
 225              	.L10:
 226 00b4 00000000 		.word	.LANCHOR0
 227 00b8 00000000 		.word	.LC0
 228 00bc 0C000000 		.word	.LC1
 229              		.cfi_endproc
 230              	.LFE250:
 232              		.section	.text.BSP_UART_IDLE_CallBack,"ax",%progbits
 233              		.align	1
 234              		.global	BSP_UART_IDLE_CallBack
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 239              	BSP_UART_IDLE_CallBack:
 240              	.LVL25:
 241              	.LFB251:
  72:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  73:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  74:./app/Threads/Thread_cmd/Thread_cmd.c **** void BSP_UART_IDLE_CallBack(UART_HandleTypeDef *huart)
  75:./app/Threads/Thread_cmd/Thread_cmd.c **** {
 242              		.loc 1 75 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 8
 245              		@ frame_needed = 0, uses_anonymous_args = 0
  76:./app/Threads/Thread_cmd/Thread_cmd.c **** 	if ((__HAL_UART_GET_FLAG(huart, UART_FLAG_IDLE) != RESET))
 246              		.loc 1 76 2 view .LVU60
 247              		.loc 1 76 7 is_stmt 0 view .LVU61
 248 0000 0368     		ldr	r3, [r0]
 249 0002 1B68     		ldr	r3, [r3]
 250              		.loc 1 76 5 view .LVU62
 251 0004 13F0100F 		tst	r3, #16
 252 0008 00D1     		bne	.L18
 253 000a 7047     		bx	lr
 254              	.L18:
  75:./app/Threads/Thread_cmd/Thread_cmd.c **** 	if ((__HAL_UART_GET_FLAG(huart, UART_FLAG_IDLE) != RESET))
 255              		.loc 1 75 1 view .LVU63
 256 000c 10B5     		push	{r4, lr}
 257              	.LCFI4:
 258              		.cfi_def_cfa_offset 8
 259              		.cfi_offset 4, -8
 260              		.cfi_offset 14, -4
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 7


 261 000e 82B0     		sub	sp, sp, #8
 262              	.LCFI5:
 263              		.cfi_def_cfa_offset 16
 264 0010 0446     		mov	r4, r0
  77:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
  78:./app/Threads/Thread_cmd/Thread_cmd.c **** 		HAL_UART_DMAStop(huart);
 265              		.loc 1 78 3 is_stmt 1 view .LVU64
 266 0012 FFF7FEFF 		bl	HAL_UART_DMAStop
 267              	.LVL26:
  79:./app/Threads/Thread_cmd/Thread_cmd.c **** 		__HAL_UART_CLEAR_IDLEFLAG(huart);
 268              		.loc 1 79 3 view .LVU65
 269              	.LBB5:
 270              		.loc 1 79 3 view .LVU66
 271 0016 0023     		movs	r3, #0
 272 0018 0193     		str	r3, [sp, #4]
 273              		.loc 1 79 3 view .LVU67
 274 001a 2368     		ldr	r3, [r4]
 275 001c 1A68     		ldr	r2, [r3]
 276 001e 0192     		str	r2, [sp, #4]
 277              		.loc 1 79 3 view .LVU68
 278 0020 5B68     		ldr	r3, [r3, #4]
 279 0022 0193     		str	r3, [sp, #4]
 280              		.loc 1 79 3 view .LVU69
 281 0024 019B     		ldr	r3, [sp, #4]
 282              	.LBE5:
 283              		.loc 1 79 3 view .LVU70
  80:./app/Threads/Thread_cmd/Thread_cmd.c **** 		Uart_Receive_Data.rxlen = UART_RECEIVE_IDLE_RX_MAXLEN - __HAL_DMA_GET_COUNTER(huart->hdmarx);
 284              		.loc 1 80 3 view .LVU71
 285              		.loc 1 80 59 is_stmt 0 view .LVU72
 286 0026 E36B     		ldr	r3, [r4, #60]
 287 0028 1B68     		ldr	r3, [r3]
 288 002a 5B68     		ldr	r3, [r3, #4]
 289              		.loc 1 80 57 view .LVU73
 290 002c 5B42     		rsbs	r3, r3, #0
 291 002e DBB2     		uxtb	r3, r3
 292              		.loc 1 80 27 view .LVU74
 293 0030 024A     		ldr	r2, .L19
 294 0032 1370     		strb	r3, [r2]
  81:./app/Threads/Thread_cmd/Thread_cmd.c **** 		Uart_Receive_Data.rxok = 1;
 295              		.loc 1 81 3 is_stmt 1 view .LVU75
 296              		.loc 1 81 26 is_stmt 0 view .LVU76
 297 0034 0123     		movs	r3, #1
 298 0036 5370     		strb	r3, [r2, #1]
  82:./app/Threads/Thread_cmd/Thread_cmd.c **** 	}
  83:./app/Threads/Thread_cmd/Thread_cmd.c **** }
 299              		.loc 1 83 1 view .LVU77
 300 0038 02B0     		add	sp, sp, #8
 301              	.LCFI6:
 302              		.cfi_def_cfa_offset 8
 303              		@ sp needed
 304 003a 10BD     		pop	{r4, pc}
 305              	.LVL27:
 306              	.L20:
 307              		.loc 1 83 1 view .LVU78
 308              		.align	2
 309              	.L19:
 310 003c 00000000 		.word	.LANCHOR0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 8


 311              		.cfi_endproc
 312              	.LFE251:
 314              		.section	.rodata.Thread_Cmd_Entry.str1.4,"aMS",%progbits,1
 315              		.align	2
 316              	.LC2:
 317 0000 436D645F 		.ascii	"Cmd_Name_last: %s\015\012\000"
 317      4E616D65 
 317      5F6C6173 
 317      743A2025 
 317      730D0A00 
 318              		.align	2
 319              	.LC3:
 320 0014 436D645F 		.ascii	"Cmd_Param_last: %lf\015\012\000"
 320      50617261 
 320      6D5F6C61 
 320      73743A20 
 320      256C660D 
 321              		.section	.text.Thread_Cmd_Entry,"ax",%progbits
 322              		.align	1
 323              		.global	Thread_Cmd_Entry
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	Thread_Cmd_Entry:
 329              	.LVL28:
 330              	.LFB252:
  84:./app/Threads/Thread_cmd/Thread_cmd.c **** 
  85:./app/Threads/Thread_cmd/Thread_cmd.c **** /*******************************************************************************
  86:./app/Threads/Thread_cmd/Thread_cmd.c **** * Function Name  : Thread_Cmd_Entry
  87:./app/Threads/Thread_cmd/Thread_cmd.c **** * Description    : Thread_Cmd_Entry线程
  88:./app/Threads/Thread_cmd/Thread_cmd.c **** * Input          : ULONG thread_input
  89:./app/Threads/Thread_cmd/Thread_cmd.c **** * Output         : None
  90:./app/Threads/Thread_cmd/Thread_cmd.c **** * Return         : None
  91:./app/Threads/Thread_cmd/Thread_cmd.c **** * Note			 : 快速创建线程demo
  92:./app/Threads/Thread_cmd/Thread_cmd.c **** *******************************************************************************/
  93:./app/Threads/Thread_cmd/Thread_cmd.c **** void Thread_Cmd_Entry(ULONG thread_input)
  94:./app/Threads/Thread_cmd/Thread_cmd.c **** {
 331              		.loc 1 94 1 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 335              		.loc 1 94 1 is_stmt 0 view .LVU80
 336 0000 10B5     		push	{r4, lr}
 337              	.LCFI7:
 338              		.cfi_def_cfa_offset 8
 339              		.cfi_offset 4, -8
 340              		.cfi_offset 14, -4
 341 0002 0446     		mov	r4, r0
  95:./app/Threads/Thread_cmd/Thread_cmd.c ****     Thread_Cmd_parama * thread_param = (Thread_Cmd_parama *)thread_input;
 342              		.loc 1 95 5 is_stmt 1 view .LVU81
 343              	.LVL29:
 344              		.loc 1 95 5 is_stmt 0 view .LVU82
 345 0004 0BE0     		b	.L23
 346              	.LVL30:
 347              	.L25:
  96:./app/Threads/Thread_cmd/Thread_cmd.c **** 	while(1)
  97:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 9


  98:./app/Threads/Thread_cmd/Thread_cmd.c ****         if (Get_Cmd(&DEBUG_UART, thread_input) == 0)   //接收到数据
  99:./app/Threads/Thread_cmd/Thread_cmd.c ****         {
 100:./app/Threads/Thread_cmd/Thread_cmd.c ****             //处理数据
 101:./app/Threads/Thread_cmd/Thread_cmd.c ****             printf("Cmd_Name_last: %s\r\n", thread_param->Cmd_Name_last);
 348              		.loc 1 101 13 is_stmt 1 view .LVU83
 349 0006 2146     		mov	r1, r4
 350 0008 0848     		ldr	r0, .L26
 351 000a FFF7FEFF 		bl	printf
 352              	.LVL31:
 102:./app/Threads/Thread_cmd/Thread_cmd.c ****             printf("Cmd_Param_last: %lf\r\n", thread_param->Cmd_Param_last);
 353              		.loc 1 102 13 view .LVU84
 354 000e D4E90823 		ldrd	r2, [r4, #32]
 355 0012 0748     		ldr	r0, .L26+4
 356 0014 FFF7FEFF 		bl	printf
 357              	.LVL32:
 358              	.L22:
 103:./app/Threads/Thread_cmd/Thread_cmd.c ****         }
 104:./app/Threads/Thread_cmd/Thread_cmd.c ****         else
 105:./app/Threads/Thread_cmd/Thread_cmd.c ****         {
 106:./app/Threads/Thread_cmd/Thread_cmd.c ****             //处理接收错误
 107:./app/Threads/Thread_cmd/Thread_cmd.c ****         }
 359              		.loc 1 107 9 view .LVU85
 108:./app/Threads/Thread_cmd/Thread_cmd.c ****         
 109:./app/Threads/Thread_cmd/Thread_cmd.c ****     tx_thread_sleep(2);
 360              		.loc 1 109 5 view .LVU86
 361 0018 0220     		movs	r0, #2
 362 001a FFF7FEFF 		bl	_tx_thread_sleep
 363              	.LVL33:
  96:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
 364              		.loc 1 96 7 view .LVU87
 365              	.L23:
  96:./app/Threads/Thread_cmd/Thread_cmd.c **** 	{
 366              		.loc 1 96 2 view .LVU88
  98:./app/Threads/Thread_cmd/Thread_cmd.c ****         {
 367              		.loc 1 98 9 view .LVU89
  98:./app/Threads/Thread_cmd/Thread_cmd.c ****         {
 368              		.loc 1 98 13 is_stmt 0 view .LVU90
 369 001e 2146     		mov	r1, r4
 370 0020 0448     		ldr	r0, .L26+8
 371 0022 FFF7FEFF 		bl	Get_Cmd
 372              	.LVL34:
  98:./app/Threads/Thread_cmd/Thread_cmd.c ****         {
 373              		.loc 1 98 12 view .LVU91
 374 0026 0028     		cmp	r0, #0
 375 0028 EDD0     		beq	.L25
 376 002a F5E7     		b	.L22
 377              	.L27:
 378              		.align	2
 379              	.L26:
 380 002c 00000000 		.word	.LC2
 381 0030 14000000 		.word	.LC3
 382 0034 00000000 		.word	huart1
 383              		.cfi_endproc
 384              	.LFE252:
 386              		.global	Uart_Receive_Data
 387              		.global	Thread_Cmd_parama1
 388              		.global	Thread_Cmd
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 10


 389              		.section	.bss.Thread_Cmd,"aw",%nobits
 390              		.align	2
 393              	Thread_Cmd:
 394 0000 00000000 		.space	176
 394      00000000 
 394      00000000 
 394      00000000 
 394      00000000 
 395              		.section	.bss.Thread_Cmd_parama1,"aw",%nobits
 396              		.align	3
 399              	Thread_Cmd_parama1:
 400 0000 00000000 		.space	40
 400      00000000 
 400      00000000 
 400      00000000 
 400      00000000 
 401              		.section	.data.Uart_Receive_Data,"aw"
 402              		.align	2
 403              		.set	.LANCHOR0,. + 0
 406              	Uart_Receive_Data:
 407 0000 00       		.byte	0
 408 0001 01       		.byte	1
 409 0002 00000000 		.space	256
 409      00000000 
 409      00000000 
 409      00000000 
 409      00000000 
 410              		.text
 411              	.Letext0:
 412              		.file 2 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 413              		.file 3 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 414              		.file 4 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 415              		.file 5 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 416              		.file 6 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 417              		.file 7 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 418              		.file 8 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 419              		.file 9 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 420              		.file 10 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 421              		.file 11 "./app/Threads/Thread_cmd/Thread_cmd.h"
 422              		.file 12 "./Core/Inc/usart.h"
 423              		.file 13 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\stdio.h"
 424              		.file 14 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\stdlib.h"
 425              		.file 15 "<built-in>"
 426              		.file 16 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\string.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 Thread_cmd.c
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:20     .rodata.Get_Cmd.str1.4:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:27     .text.Get_Cmd:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:33     .text.Get_Cmd:00000000 Get_Cmd
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:226    .text.Get_Cmd:000000b4 $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:233    .text.BSP_UART_IDLE_CallBack:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:239    .text.BSP_UART_IDLE_CallBack:00000000 BSP_UART_IDLE_CallBack
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:310    .text.BSP_UART_IDLE_CallBack:0000003c $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:315    .rodata.Thread_Cmd_Entry.str1.4:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:322    .text.Thread_Cmd_Entry:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:328    .text.Thread_Cmd_Entry:00000000 Thread_Cmd_Entry
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:380    .text.Thread_Cmd_Entry:0000002c $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:406    .data.Uart_Receive_Data:00000000 Uart_Receive_Data
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:399    .bss.Thread_Cmd_parama1:00000000 Thread_Cmd_parama1
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:393    .bss.Thread_Cmd:00000000 Thread_Cmd
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:390    .bss.Thread_Cmd:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:396    .bss.Thread_Cmd_parama1:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccGDaymU.s:402    .data.Uart_Receive_Data:00000000 $d

UNDEFINED SYMBOLS
memset
memcpy
strstr
atof
HAL_UART_Receive_DMA
HAL_UART_DMAStop
printf
_tx_thread_sleep
huart1
