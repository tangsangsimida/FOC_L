ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ts_foc.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_f2d
  20              		.global	__aeabi_d2f
  21              		.section	.text._normalizeRadian,"ax",%progbits
  22              		.align	1
  23              		.global	_normalizeRadian
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	_normalizeRadian:
  29              	.LVL0:
  30              	.LFB242:
  31              		.file 1 "./app/algorithm/src/ts_foc.c"
   1:./app/algorithm/src/ts_foc.c **** #include "ts_foc.h"
   2:./app/algorithm/src/ts_foc.c **** 
   3:./app/algorithm/src/ts_foc.c **** 
   4:./app/algorithm/src/ts_foc.c **** // ÂΩí‰∏ÄÂåñËßíÂ∫¶Âà∞ [0,2PI]
   5:./app/algorithm/src/ts_foc.c **** float _normalizeRadian(float angle)
   6:./app/algorithm/src/ts_foc.c **** {
  32              		.loc 1 6 1 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              		.loc 1 6 1 is_stmt 0 view .LVU1
  37 0000 08B5     		push	{r3, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 8
  40              		.cfi_offset 3, -8
  41              		.cfi_offset 14, -4
  42 0002 10EE100A 		vmov	r0, s0
   7:./app/algorithm/src/ts_foc.c ****   float a = fmod(angle, 2*PI);   //Âèñ‰ΩôËøêÁÆóÂèØ‰ª•Áî®‰∫éÂΩí‰∏ÄÂåñÔºåÂàóÂá∫ÁâπÊÆäÂÄº‰æãÂ≠êÁÆó‰æøÁ
  43              		.loc 1 7 3 is_stmt 1 view .LVU2
  44              		.loc 1 7 13 is_stmt 0 view .LVU3
  45 0006 FFF7FEFF 		bl	__aeabi_f2d
  46              	.LVL1:
  47              		.loc 1 7 13 view .LVU4
  48 000a 9FED0B1B 		vldr.64	d1, .L5
  49 000e 41EC100B 		vmov	d0, r0, r1
  50 0012 FFF7FEFF 		bl	fmod
  51              	.LVL2:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 2


  52 0016 51EC100B 		vmov	r0, r1, d0
  53              		.loc 1 7 9 view .LVU5
  54 001a FFF7FEFF 		bl	__aeabi_d2f
  55              	.LVL3:
  56 001e 00EE100A 		vmov	s0, r0
  57              	.LVL4:
   8:./app/algorithm/src/ts_foc.c ****   return a >= 0 ? a : (a + 2*PI);  
  58              		.loc 1 8 3 is_stmt 1 view .LVU6
  59              		.loc 1 8 21 is_stmt 0 view .LVU7
  60 0022 B5EEC00A 		vcmpe.f32	s0, #0
  61 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  62 002a 00DB     		blt	.L4
  63              	.L1:
   9:./app/algorithm/src/ts_foc.c ****   //‰∏âÁõÆËøêÁÆóÁ¨¶„ÄÇÊ†ºÂºèÔºöcondition ? expr1 : expr2 
  10:./app/algorithm/src/ts_foc.c ****   //ÂÖ∂‰∏≠Ôºåcondition ÊòØË¶ÅÊ±ÇÂÄºÁöÑÊù°‰ª∂Ë°®ËææÂºèÔºåÂ¶ÇÊûúÊù°‰ª∂ÊàêÁ´ãÔºåÂàôËøîÂõû expr1 ÁöÑÂÄº
  11:./app/algorithm/src/ts_foc.c ****   //fmod ÂáΩÊï∞ÁöÑ‰ΩôÊï∞ÁöÑÁ¨¶Âè∑‰∏éÈô§Êï∞Áõ∏Âêå„ÄÇÂõ†Ê≠§ÔºåÂΩì angle ÁöÑÂÄº‰∏∫Ë¥üÊï∞Êó∂Ôºå‰ΩôÊï∞Áö
  12:./app/algorithm/src/ts_foc.c ****   //‰æãÂ¶ÇÔºåÂΩì angle ÁöÑÂÄº‰∏∫ -PI/2Ôºå_2PI ÁöÑÂÄº‰∏∫ 2PI Êó∂Ôºåfmod(angle, _2PI) Â∞ÜËøîÂõû‰∏Ä‰∏™
  13:./app/algorithm/src/ts_foc.c **** }
  64              		.loc 1 13 1 view .LVU8
  65 002c 08BD     		pop	{r3, pc}
  66              	.L4:
   8:./app/algorithm/src/ts_foc.c ****   return a >= 0 ? a : (a + 2*PI);  
  67              		.loc 1 8 21 discriminator 2 view .LVU9
  68 002e DFED047A 		vldr.32	s15, .L5+8
  69 0032 30EE270A 		vadd.f32	s0, s0, s15
  70 0036 F9E7     		b	.L1
  71              	.L6:
  72              		.align	3
  73              	.L5:
  74 0038 00000060 		.word	1610612736
  75 003c FB211940 		.word	1075388923
  76 0040 DB0FC940 		.word	1086918619
  77              		.cfi_endproc
  78              	.LFE242:
  80              		.section	.text._normalizeAngle,"ax",%progbits
  81              		.align	1
  82              		.global	_normalizeAngle
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  87              	_normalizeAngle:
  88              	.LVL5:
  89              	.LFB243:
  14:./app/algorithm/src/ts_foc.c **** 
  15:./app/algorithm/src/ts_foc.c **** 
  16:./app/algorithm/src/ts_foc.c **** 
  17:./app/algorithm/src/ts_foc.c **** // ÂΩí‰∏ÄÂåñËßíÂ∫¶Âà∞ [0, 360] Â∫¶
  18:./app/algorithm/src/ts_foc.c **** float _normalizeAngle(float angle) {
  90              		.loc 1 18 36 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 0
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  94              		.loc 1 18 36 is_stmt 0 view .LVU11
  95 0000 08B5     		push	{r3, lr}
  96              	.LCFI1:
  97              		.cfi_def_cfa_offset 8
  98              		.cfi_offset 3, -8
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 3


  99              		.cfi_offset 14, -4
 100 0002 10EE100A 		vmov	r0, s0
  19:./app/algorithm/src/ts_foc.c ****     float a = fmod(angle, 360.0);   // Âèñ‰ΩôËøêÁÆóÂèØ‰ª•Áî®‰∫éÂΩí‰∏ÄÂåñ
 101              		.loc 1 19 5 is_stmt 1 view .LVU12
 102              		.loc 1 19 15 is_stmt 0 view .LVU13
 103 0006 FFF7FEFF 		bl	__aeabi_f2d
 104              	.LVL6:
 105              		.loc 1 19 15 view .LVU14
 106 000a 9FED0B1B 		vldr.64	d1, .L11
 107 000e 41EC100B 		vmov	d0, r0, r1
 108 0012 FFF7FEFF 		bl	fmod
 109              	.LVL7:
 110 0016 51EC100B 		vmov	r0, r1, d0
 111              		.loc 1 19 11 view .LVU15
 112 001a FFF7FEFF 		bl	__aeabi_d2f
 113              	.LVL8:
 114 001e 00EE100A 		vmov	s0, r0
 115              	.LVL9:
  20:./app/algorithm/src/ts_foc.c ****     return a >= 0 ? a : (a + 360.0);  
 116              		.loc 1 20 5 is_stmt 1 view .LVU16
 117              		.loc 1 20 23 is_stmt 0 view .LVU17
 118 0022 B5EEC00A 		vcmpe.f32	s0, #0
 119 0026 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 120 002a 00DB     		blt	.L10
 121              	.L7:
  21:./app/algorithm/src/ts_foc.c **** }
 122              		.loc 1 21 1 view .LVU18
 123 002c 08BD     		pop	{r3, pc}
 124              	.L10:
  20:./app/algorithm/src/ts_foc.c ****     return a >= 0 ? a : (a + 360.0);  
 125              		.loc 1 20 23 discriminator 2 view .LVU19
 126 002e DFED047A 		vldr.32	s15, .L11+8
 127 0032 30EE270A 		vadd.f32	s0, s0, s15
 128 0036 F9E7     		b	.L7
 129              	.L12:
 130              		.align	3
 131              	.L11:
 132 0038 00000000 		.word	0
 133 003c 00807640 		.word	1081507840
 134 0040 0000B443 		.word	1135869952
 135              		.cfi_endproc
 136              	.LFE243:
 138              		.section	.text._electricalAngle,"ax",%progbits
 139              		.align	1
 140              		.global	_electricalAngle
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	_electricalAngle:
 146              	.LVL10:
 147              	.LFB244:
  22:./app/algorithm/src/ts_foc.c **** 
  23:./app/algorithm/src/ts_foc.c **** 
  24:./app/algorithm/src/ts_foc.c **** 
  25:./app/algorithm/src/ts_foc.c **** /// @brief Ëé∑ÂèñÁîµËßíÂ∫¶
  26:./app/algorithm/src/ts_foc.c **** /// @return float
  27:./app/algorithm/src/ts_foc.c **** float _electricalAngle(Motor* motor)
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 4


  28:./app/algorithm/src/ts_foc.c **** {
 148              		.loc 1 28 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		.loc 1 28 1 is_stmt 0 view .LVU21
 153 0000 08B5     		push	{r3, lr}
 154              	.LCFI2:
 155              		.cfi_def_cfa_offset 8
 156              		.cfi_offset 3, -8
 157              		.cfi_offset 14, -4
  29:./app/algorithm/src/ts_foc.c ****     // return  _normalizeAngle((float)(motor->DIR *  motor->PP) * motor->As5600_Sensor->Angle-motor
  30:./app/algorithm/src/ts_foc.c ****     return  _normalizeRadian((float)(motor->DIR *  motor->PP) * motor->As5600_Sensor->Angle-motor->
 158              		.loc 1 30 5 is_stmt 1 view .LVU22
 159              		.loc 1 30 43 is_stmt 0 view .LVU23
 160 0002 8368     		ldr	r3, [r0, #8]
 161              		.loc 1 30 57 view .LVU24
 162 0004 4268     		ldr	r2, [r0, #4]
 163              		.loc 1 30 49 view .LVU25
 164 0006 02FB03F3 		mul	r3, r2, r3
 165 000a 07EE903A 		vmov	s15, r3	@ int
 166              		.loc 1 30 30 view .LVU26
 167 000e F8EEE77A 		vcvt.f32.s32	s15, s15
 168              		.loc 1 30 70 view .LVU27
 169 0012 836A     		ldr	r3, [r0, #40]
 170              		.loc 1 30 85 view .LVU28
 171 0014 93ED010A 		vldr.32	s0, [r3, #4]
 172              		.loc 1 30 63 view .LVU29
 173 0018 67EE807A 		vmul.f32	s15, s15, s0
 174              		.loc 1 30 98 view .LVU30
 175 001c 90ED040A 		vldr.32	s0, [r0, #16]	@ int
 176              		.loc 1 30 13 view .LVU31
 177 0020 B8EEC00A 		vcvt.f32.s32	s0, s0
 178 0024 37EEC00A 		vsub.f32	s0, s15, s0
 179 0028 FFF7FEFF 		bl	_normalizeRadian
 180              	.LVL11:
  31:./app/algorithm/src/ts_foc.c **** }
 181              		.loc 1 31 1 view .LVU32
 182 002c 08BD     		pop	{r3, pc}
 183              		.cfi_endproc
 184              	.LFE244:
 186              		.section	.text.setPwm,"ax",%progbits
 187              		.align	1
 188              		.global	setPwm
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
 193              	setPwm:
 194              	.LVL12:
 195              	.LFB245:
  32:./app/algorithm/src/ts_foc.c **** 
  33:./app/algorithm/src/ts_foc.c **** 
  34:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆPWMÂà∞ÊéßÂà∂Âô®ËæìÂá∫
  35:./app/algorithm/src/ts_foc.c **** /// @param motor ÁîµÊú∫ÂØπË±°
  36:./app/algorithm/src/ts_foc.c **** /// @param Ua 
  37:./app/algorithm/src/ts_foc.c **** /// @param Ub 
  38:./app/algorithm/src/ts_foc.c **** /// @param Uc 
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 5


  39:./app/algorithm/src/ts_foc.c **** void setPwm(Motor* motor, float Ua, float Ub, float Uc) 
  40:./app/algorithm/src/ts_foc.c **** {
 196              		.loc 1 40 1 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200              		.loc 1 40 1 is_stmt 0 view .LVU34
 201 0000 10B5     		push	{r4, lr}
 202              	.LCFI3:
 203              		.cfi_def_cfa_offset 8
 204              		.cfi_offset 4, -8
 205              		.cfi_offset 14, -4
 206 0002 2DED048B 		vpush.64	{d8, d9}
 207              	.LCFI4:
 208              		.cfi_def_cfa_offset 24
 209              		.cfi_offset 80, -24
 210              		.cfi_offset 81, -20
 211              		.cfi_offset 82, -16
 212              		.cfi_offset 83, -12
 213 0006 0446     		mov	r4, r0
  41:./app/algorithm/src/ts_foc.c ****   // ÈôêÂà∂‰∏äÈôê
  42:./app/algorithm/src/ts_foc.c ****   Ua = _constrain(Ua, 0.0f, motor->voltage_power_supply);
 214              		.loc 1 42 3 is_stmt 1 view .LVU35
 215              		.loc 1 42 8 is_stmt 0 view .LVU36
 216 0008 B5EEC00A 		vcmpe.f32	s0, #0
 217 000c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 218 0010 09D4     		bmi	.L25
 219              		.loc 1 42 8 discriminator 2 view .LVU37
 220 0012 D0ED035A 		vldr.32	s11, [r0, #12]
 221 0016 F4EEC05A 		vcmpe.f32	s11, s0
 222 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 223 001e 04D4     		bmi	.L16
 224              		.loc 1 42 8 view .LVU38
 225 0020 F0EE405A 		vmov.f32	s11, s0
 226 0024 01E0     		b	.L16
 227              	.L25:
 228              		.loc 1 42 8 view .LVU39
 229 0026 DFED3E5A 		vldr.32	s11, .L35
 230              	.L16:
 231              	.LVL13:
  43:./app/algorithm/src/ts_foc.c ****   Ub = _constrain(Ub, 0.0f, motor->voltage_power_supply);
 232              		.loc 1 43 3 is_stmt 1 discriminator 8 view .LVU40
 233              		.loc 1 43 8 is_stmt 0 discriminator 8 view .LVU41
 234 002a F5EEC00A 		vcmpe.f32	s1, #0
 235 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 236 0032 09D4     		bmi	.L26
 237              		.loc 1 43 8 discriminator 2 view .LVU42
 238 0034 94ED036A 		vldr.32	s12, [r4, #12]
 239 0038 B4EEE06A 		vcmpe.f32	s12, s1
 240 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 241 0040 04D4     		bmi	.L17
 242              		.loc 1 43 8 view .LVU43
 243 0042 B0EE606A 		vmov.f32	s12, s1
 244 0046 01E0     		b	.L17
 245              	.L26:
 246              		.loc 1 43 8 view .LVU44
 247 0048 9FED356A 		vldr.32	s12, .L35
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 6


 248              	.L17:
 249              	.LVL14:
  44:./app/algorithm/src/ts_foc.c ****   Uc = _constrain(Uc, 0.0f, motor->voltage_power_supply);
 250              		.loc 1 44 3 is_stmt 1 discriminator 8 view .LVU45
 251              		.loc 1 44 8 is_stmt 0 discriminator 8 view .LVU46
 252 004c B5EEC01A 		vcmpe.f32	s2, #0
 253 0050 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 254 0054 09D4     		bmi	.L27
 255              		.loc 1 44 8 discriminator 2 view .LVU47
 256 0056 D4ED036A 		vldr.32	s13, [r4, #12]
 257 005a F4EEC16A 		vcmpe.f32	s13, s2
 258 005e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 259 0062 04D4     		bmi	.L18
 260              		.loc 1 44 8 view .LVU48
 261 0064 F0EE416A 		vmov.f32	s13, s2
 262 0068 01E0     		b	.L18
 263              	.L27:
 264              		.loc 1 44 8 view .LVU49
 265 006a DFED2D6A 		vldr.32	s13, .L35
 266              	.L18:
 267              	.LVL15:
  45:./app/algorithm/src/ts_foc.c ****   // ËÆ°ÁÆóÂç†Á©∫ÊØî
  46:./app/algorithm/src/ts_foc.c ****   // ÈôêÂà∂Âç†Á©∫ÊØî‰ªé0Âà∞1
  47:./app/algorithm/src/ts_foc.c ****   float dc_a = _constrain(Ua / motor->voltage_power_supply, 0.0f , 1.0f );
 268              		.loc 1 47 3 is_stmt 1 discriminator 8 view .LVU50
 269              		.loc 1 47 16 is_stmt 0 discriminator 8 view .LVU51
 270 006e 94ED037A 		vldr.32	s14, [r4, #12]
 271 0072 C5EE877A 		vdiv.f32	s15, s11, s14
 272 0076 F5EEC07A 		vcmpe.f32	s15, #0
 273 007a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 274 007e 09D4     		bmi	.L28
 275              		.loc 1 47 16 discriminator 2 view .LVU52
 276 0080 F7EE005A 		vmov.f32	s11, #1.0e+0
 277              	.LVL16:
 278              		.loc 1 47 16 discriminator 2 view .LVU53
 279 0084 F4EEE57A 		vcmpe.f32	s15, s11
 280 0088 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 281 008c 04DD     		ble	.L19
 282              		.loc 1 47 16 view .LVU54
 283 008e F0EE657A 		vmov.f32	s15, s11
 284 0092 01E0     		b	.L19
 285              	.LVL17:
 286              	.L28:
 287              		.loc 1 47 16 view .LVU55
 288 0094 DFED227A 		vldr.32	s15, .L35
 289              	.LVL18:
 290              	.L19:
  48:./app/algorithm/src/ts_foc.c ****   float dc_b = _constrain(Ub / motor->voltage_power_supply, 0.0f , 1.0f );
 291              		.loc 1 48 3 is_stmt 1 discriminator 8 view .LVU56
 292              		.loc 1 48 16 is_stmt 0 discriminator 8 view .LVU57
 293 0098 C6EE078A 		vdiv.f32	s17, s12, s14
 294 009c F5EEC08A 		vcmpe.f32	s17, #0
 295 00a0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 296 00a4 09D4     		bmi	.L29
 297              		.loc 1 48 16 discriminator 2 view .LVU58
 298 00a6 B7EE006A 		vmov.f32	s12, #1.0e+0
 299              	.LVL19:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 7


 300              		.loc 1 48 16 discriminator 2 view .LVU59
 301 00aa F4EEC68A 		vcmpe.f32	s17, s12
 302 00ae F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 303 00b2 04DD     		ble	.L21
 304              		.loc 1 48 16 view .LVU60
 305 00b4 F0EE468A 		vmov.f32	s17, s12
 306 00b8 01E0     		b	.L21
 307              	.LVL20:
 308              	.L29:
 309              		.loc 1 48 16 view .LVU61
 310 00ba DFED198A 		vldr.32	s17, .L35
 311              	.LVL21:
 312              	.L21:
  49:./app/algorithm/src/ts_foc.c ****   float dc_c = _constrain(Uc / motor->voltage_power_supply, 0.0f , 1.0f );
 313              		.loc 1 49 3 is_stmt 1 discriminator 8 view .LVU62
 314              		.loc 1 49 16 is_stmt 0 discriminator 8 view .LVU63
 315 00be 86EE878A 		vdiv.f32	s16, s13, s14
 316 00c2 B5EEC08A 		vcmpe.f32	s16, #0
 317 00c6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 318 00ca 09D4     		bmi	.L30
 319              		.loc 1 49 16 discriminator 2 view .LVU64
 320 00cc B7EE007A 		vmov.f32	s14, #1.0e+0
 321 00d0 B4EEC78A 		vcmpe.f32	s16, s14
 322 00d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 323 00d8 04DD     		ble	.L23
 324              		.loc 1 49 16 view .LVU65
 325 00da B0EE478A 		vmov.f32	s16, s14
 326 00de 01E0     		b	.L23
 327              	.L30:
 328 00e0 9FED0F8A 		vldr.32	s16, .L35
 329              	.L23:
 330              	.LVL22:
  50:./app/algorithm/src/ts_foc.c **** 
  51:./app/algorithm/src/ts_foc.c ****   //ÂÜôÂÖ•PWM
  52:./app/algorithm/src/ts_foc.c ****   motor->Motor_Set_Compare1(dc_a*3300);
 331              		.loc 1 52 3 is_stmt 1 discriminator 8 view .LVU66
 332              		.loc 1 52 8 is_stmt 0 discriminator 8 view .LVU67
 333 00e4 636C     		ldr	r3, [r4, #68]
 334              		.loc 1 52 33 discriminator 8 view .LVU68
 335 00e6 9FED0F9A 		vldr.32	s18, .L35+4
 336 00ea 67EE897A 		vmul.f32	s15, s15, s18
 337              	.LVL23:
 338              		.loc 1 52 3 discriminator 8 view .LVU69
 339 00ee FCEEE77A 		vcvt.u32.f32	s15, s15
 340 00f2 17EE900A 		vmov	r0, s15	@ int
 341              	.LVL24:
 342              		.loc 1 52 3 discriminator 8 view .LVU70
 343 00f6 9847     		blx	r3
 344              	.LVL25:
  53:./app/algorithm/src/ts_foc.c ****   motor->Motor_Set_Compare2(dc_b*3300);
 345              		.loc 1 53 3 is_stmt 1 discriminator 8 view .LVU71
 346              		.loc 1 53 8 is_stmt 0 discriminator 8 view .LVU72
 347 00f8 A36C     		ldr	r3, [r4, #72]
 348              		.loc 1 53 33 discriminator 8 view .LVU73
 349 00fa 68EE898A 		vmul.f32	s17, s17, s18
 350              	.LVL26:
 351              		.loc 1 53 3 discriminator 8 view .LVU74
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 8


 352 00fe FCEEE87A 		vcvt.u32.f32	s15, s17
 353 0102 17EE900A 		vmov	r0, s15	@ int
 354 0106 9847     		blx	r3
 355              	.LVL27:
  54:./app/algorithm/src/ts_foc.c ****   motor->Motor_Set_Compare3(dc_c*3300);
 356              		.loc 1 54 3 is_stmt 1 discriminator 8 view .LVU75
 357              		.loc 1 54 8 is_stmt 0 discriminator 8 view .LVU76
 358 0108 E36C     		ldr	r3, [r4, #76]
 359              		.loc 1 54 33 discriminator 8 view .LVU77
 360 010a 28EE098A 		vmul.f32	s16, s16, s18
 361              	.LVL28:
 362              		.loc 1 54 3 discriminator 8 view .LVU78
 363 010e FCEEC87A 		vcvt.u32.f32	s15, s16
 364 0112 17EE900A 		vmov	r0, s15	@ int
 365 0116 9847     		blx	r3
 366              	.LVL29:
  55:./app/algorithm/src/ts_foc.c **** }
 367              		.loc 1 55 1 discriminator 8 view .LVU79
 368 0118 BDEC048B 		vldm	sp!, {d8-d9}
 369              	.LCFI5:
 370              		.cfi_restore 82
 371              		.cfi_restore 83
 372              		.cfi_restore 80
 373              		.cfi_restore 81
 374              		.cfi_def_cfa_offset 8
 375 011c 10BD     		pop	{r4, pc}
 376              	.LVL30:
 377              	.L36:
 378              		.loc 1 55 1 discriminator 8 view .LVU80
 379 011e 00BF     		.align	2
 380              	.L35:
 381 0120 00000000 		.word	0
 382 0124 00404E45 		.word	1162756096
 383              		.cfi_endproc
 384              	.LFE245:
 386              		.global	__aeabi_dmul
 387              		.global	__aeabi_dsub
 388              		.global	__aeabi_dadd
 389              		.section	.text.setTorque,"ax",%progbits
 390              		.align	1
 391              		.global	setTorque
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 396              	setTorque:
 397              	.LVL31:
 398              	.LFB246:
  56:./app/algorithm/src/ts_foc.c **** 
  57:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÂäõÁü©
  58:./app/algorithm/src/ts_foc.c **** /// @param Uq ÈúÄÊ±ÇÂäõÁü©
  59:./app/algorithm/src/ts_foc.c **** /// @param angle_el 
  60:./app/algorithm/src/ts_foc.c **** void setTorque(Motor* motor,float Uq,float angle_el)
  61:./app/algorithm/src/ts_foc.c **** {
 399              		.loc 1 61 1 is_stmt 1 view -0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 9


 403              		.loc 1 61 1 is_stmt 0 view .LVU82
 404 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 405              	.LCFI6:
 406              		.cfi_def_cfa_offset 40
 407              		.cfi_offset 3, -40
 408              		.cfi_offset 4, -36
 409              		.cfi_offset 5, -32
 410              		.cfi_offset 6, -28
 411              		.cfi_offset 7, -24
 412              		.cfi_offset 8, -20
 413              		.cfi_offset 9, -16
 414              		.cfi_offset 10, -12
 415              		.cfi_offset 11, -8
 416              		.cfi_offset 14, -4
 417 0004 2DED048B 		vpush.64	{d8, d9}
 418              	.LCFI7:
 419              		.cfi_def_cfa_offset 56
 420              		.cfi_offset 80, -56
 421              		.cfi_offset 81, -52
 422              		.cfi_offset 82, -48
 423              		.cfi_offset 83, -44
 424 0008 8246     		mov	r10, r0
 425 000a F0EE407A 		vmov.f32	s15, s0
 426 000e B0EE600A 		vmov.f32	s0, s1
 427              	.LVL32:
  62:./app/algorithm/src/ts_foc.c **** 
  63:./app/algorithm/src/ts_foc.c ****   Uq=_constrain(Uq,-(motor->voltage_power_supply)/2,(motor->voltage_power_supply)/2);
 428              		.loc 1 63 3 is_stmt 1 view .LVU83
 429              		.loc 1 63 6 is_stmt 0 view .LVU84
 430 0012 90ED037A 		vldr.32	s14, [r0, #12]
 431 0016 B6EE008A 		vmov.f32	s16, #5.0e-1
 432 001a 27EE488A 		vnmul.f32	s16, s14, s16
 433 001e B4EEE78A 		vcmpe.f32	s16, s15
 434 0022 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 435 0026 0ADC     		bgt	.L38
 436              		.loc 1 63 6 discriminator 2 view .LVU85
 437 0028 B6EE008A 		vmov.f32	s16, #5.0e-1
 438 002c 27EE088A 		vmul.f32	s16, s14, s16
 439 0030 B4EEE78A 		vcmpe.f32	s16, s15
 440 0034 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 441 0038 01D4     		bmi	.L38
 442              		.loc 1 63 6 view .LVU86
 443 003a B0EE678A 		vmov.f32	s16, s15
 444              	.L38:
 445              	.LVL33:
  64:./app/algorithm/src/ts_foc.c **** 
  65:./app/algorithm/src/ts_foc.c ****   angle_el = _normalizeAngle(angle_el);
 446              		.loc 1 65 3 is_stmt 1 discriminator 8 view .LVU87
 447              		.loc 1 65 14 is_stmt 0 discriminator 8 view .LVU88
 448 003e FFF7FEFF 		bl	_normalizeAngle
 449              	.LVL34:
 450              		.loc 1 65 14 discriminator 8 view .LVU89
 451 0042 10EE106A 		vmov	r6, s0
 452              	.LVL35:
  66:./app/algorithm/src/ts_foc.c ****   // Â∏ïÂÖãÈÄÜÂèòÊç¢
  67:./app/algorithm/src/ts_foc.c ****   motor->Ualpha =  -Uq*sin(angle_el);
 453              		.loc 1 67 3 is_stmt 1 discriminator 8 view .LVU90
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 10


 454              		.loc 1 67 20 is_stmt 0 discriminator 8 view .LVU91
 455 0046 F1EE487A 		vneg.f32	s15, s16
 456 004a 17EE900A 		vmov	r0, s15
 457 004e FFF7FEFF 		bl	__aeabi_f2d
 458              	.LVL36:
 459 0052 0446     		mov	r4, r0
 460 0054 0D46     		mov	r5, r1
 461              		.loc 1 67 24 discriminator 8 view .LVU92
 462 0056 3046     		mov	r0, r6	@ float
 463 0058 FFF7FEFF 		bl	__aeabi_f2d
 464              	.LVL37:
 465 005c 41EC190B 		vmov	d9, r0, r1
 466 0060 41EC100B 		vmov	d0, r0, r1
 467 0064 FFF7FEFF 		bl	sin
 468              	.LVL38:
 469 0068 53EC102B 		vmov	r2, r3, d0
 470              		.loc 1 67 23 discriminator 8 view .LVU93
 471 006c 2046     		mov	r0, r4
 472 006e 2946     		mov	r1, r5
 473 0070 FFF7FEFF 		bl	__aeabi_dmul
 474              	.LVL39:
 475 0074 FFF7FEFF 		bl	__aeabi_d2f
 476              	.LVL40:
 477 0078 8346     		mov	fp, r0	@ float
 478              		.loc 1 67 17 discriminator 8 view .LVU94
 479 007a CAF81400 		str	r0, [r10, #20]	@ float
  68:./app/algorithm/src/ts_foc.c ****   motor->Ubeta =   Uq*cos(angle_el);
 480              		.loc 1 68 3 is_stmt 1 discriminator 8 view .LVU95
 481              		.loc 1 68 23 is_stmt 0 discriminator 8 view .LVU96
 482 007e B0EE490A 		vmov.f32	s0, s18
 483 0082 F0EE690A 		vmov.f32	s1, s19
 484 0086 FFF7FEFF 		bl	cos
 485              	.LVL41:
 486 008a 55EC104B 		vmov	r4, r5, d0
 487              		.loc 1 68 22 discriminator 8 view .LVU97
 488 008e 18EE100A 		vmov	r0, s16
 489 0092 FFF7FEFF 		bl	__aeabi_f2d
 490              	.LVL42:
 491 0096 2246     		mov	r2, r4
 492 0098 2B46     		mov	r3, r5
 493 009a FFF7FEFF 		bl	__aeabi_dmul
 494              	.LVL43:
 495 009e FFF7FEFF 		bl	__aeabi_d2f
 496              	.LVL44:
 497              		.loc 1 68 16 discriminator 8 view .LVU98
 498 00a2 CAF81800 		str	r0, [r10, #24]	@ float
  69:./app/algorithm/src/ts_foc.c **** 
  70:./app/algorithm/src/ts_foc.c ****   // ÂÖãÊãâÂÖãÈÄÜÂèòÊç¢
  71:./app/algorithm/src/ts_foc.c ****   motor->Ua = motor->Ualpha + motor->voltage_power_supply/2;
 499              		.loc 1 71 3 is_stmt 1 discriminator 8 view .LVU99
 500              		.loc 1 71 36 is_stmt 0 discriminator 8 view .LVU100
 501 00a6 9AED038A 		vldr.32	s16, [r10, #12]
 502              	.LVL45:
 503              		.loc 1 71 58 discriminator 8 view .LVU101
 504 00aa F6EE007A 		vmov.f32	s15, #5.0e-1
 505 00ae 28EE278A 		vmul.f32	s16, s16, s15
 506              		.loc 1 71 29 discriminator 8 view .LVU102
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 11


 507 00b2 07EE90BA 		vmov	s15, fp
 508 00b6 37EE889A 		vadd.f32	s18, s15, s16
 509              		.loc 1 71 13 discriminator 8 view .LVU103
 510 00ba 8AED079A 		vstr.32	s18, [r10, #28]
  72:./app/algorithm/src/ts_foc.c ****   motor->Ub = (sqrt(3)*motor->Ubeta-motor->Ualpha)/2 + motor->voltage_power_supply/2;
 511              		.loc 1 72 3 is_stmt 1 discriminator 8 view .LVU104
 512              		.loc 1 72 29 is_stmt 0 discriminator 8 view .LVU105
 513 00be FFF7FEFF 		bl	__aeabi_f2d
 514              	.LVL46:
 515              		.loc 1 72 23 discriminator 8 view .LVU106
 516 00c2 26A3     		adr	r3, .L40+4
 517 00c4 D3E90023 		ldrd	r2, [r3]
 518 00c8 FFF7FEFF 		bl	__aeabi_dmul
 519              	.LVL47:
 520 00cc 0646     		mov	r6, r0
 521              	.LVL48:
 522              		.loc 1 72 23 discriminator 8 view .LVU107
 523 00ce 0F46     		mov	r7, r1
 524              		.loc 1 72 42 discriminator 8 view .LVU108
 525 00d0 5846     		mov	r0, fp	@ float
 526 00d2 FFF7FEFF 		bl	__aeabi_f2d
 527              	.LVL49:
 528 00d6 0246     		mov	r2, r0
 529 00d8 0B46     		mov	r3, r1
 530              		.loc 1 72 36 discriminator 8 view .LVU109
 531 00da 3046     		mov	r0, r6
 532 00dc 3946     		mov	r1, r7
 533 00de FFF7FEFF 		bl	__aeabi_dsub
 534              	.LVL50:
 535              		.loc 1 72 51 discriminator 8 view .LVU110
 536 00e2 0022     		movs	r2, #0
 537 00e4 1C4B     		ldr	r3, .L40
 538 00e6 FFF7FEFF 		bl	__aeabi_dmul
 539              	.LVL51:
 540 00ea 8046     		mov	r8, r0
 541 00ec 8946     		mov	r9, r1
 542              		.loc 1 72 83 discriminator 8 view .LVU111
 543 00ee 18EE100A 		vmov	r0, s16
 544 00f2 FFF7FEFF 		bl	__aeabi_f2d
 545              	.LVL52:
 546 00f6 0446     		mov	r4, r0
 547 00f8 0D46     		mov	r5, r1
 548              		.loc 1 72 54 discriminator 8 view .LVU112
 549 00fa 0246     		mov	r2, r0
 550 00fc 0B46     		mov	r3, r1
 551 00fe 4046     		mov	r0, r8
 552 0100 4946     		mov	r1, r9
 553 0102 FFF7FEFF 		bl	__aeabi_dadd
 554              	.LVL53:
 555 0106 FFF7FEFF 		bl	__aeabi_d2f
 556              	.LVL54:
 557 010a 08EE100A 		vmov	s16, r0
 558              		.loc 1 72 13 discriminator 8 view .LVU113
 559 010e CAF82000 		str	r0, [r10, #32]	@ float
  73:./app/algorithm/src/ts_foc.c ****   motor->Uc = (-motor->Ualpha-sqrt(3)*motor->Ubeta)/2 + motor->voltage_power_supply/2;
 560              		.loc 1 73 3 is_stmt 1 discriminator 8 view .LVU114
 561              		.loc 1 73 16 is_stmt 0 discriminator 8 view .LVU115
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 12


 562 0112 8BF00040 		eor	r0, fp, #-2147483648
 563 0116 FFF7FEFF 		bl	__aeabi_f2d
 564              	.LVL55:
 565              		.loc 1 73 30 discriminator 8 view .LVU116
 566 011a 3246     		mov	r2, r6
 567 011c 3B46     		mov	r3, r7
 568 011e FFF7FEFF 		bl	__aeabi_dsub
 569              	.LVL56:
 570              		.loc 1 73 52 discriminator 8 view .LVU117
 571 0122 0022     		movs	r2, #0
 572 0124 0C4B     		ldr	r3, .L40
 573 0126 FFF7FEFF 		bl	__aeabi_dmul
 574              	.LVL57:
 575 012a 0246     		mov	r2, r0
 576 012c 0B46     		mov	r3, r1
 577              		.loc 1 73 55 discriminator 8 view .LVU118
 578 012e 2046     		mov	r0, r4
 579 0130 2946     		mov	r1, r5
 580 0132 FFF7FEFF 		bl	__aeabi_dadd
 581              	.LVL58:
 582 0136 FFF7FEFF 		bl	__aeabi_d2f
 583              	.LVL59:
 584 013a 01EE100A 		vmov	s2, r0
 585              		.loc 1 73 13 discriminator 8 view .LVU119
 586 013e CAF82400 		str	r0, [r10, #36]	@ float
  74:./app/algorithm/src/ts_foc.c ****   setPwm(motor,motor->Ua,motor->Ub,motor->Uc);
 587              		.loc 1 74 3 is_stmt 1 discriminator 8 view .LVU120
 588 0142 F0EE480A 		vmov.f32	s1, s16
 589 0146 B0EE490A 		vmov.f32	s0, s18
 590 014a 5046     		mov	r0, r10
 591 014c FFF7FEFF 		bl	setPwm
 592              	.LVL60:
  75:./app/algorithm/src/ts_foc.c **** }
 593              		.loc 1 75 1 is_stmt 0 discriminator 8 view .LVU121
 594 0150 BDEC048B 		vldm	sp!, {d8-d9}
 595              	.LCFI8:
 596              		.cfi_restore 82
 597              		.cfi_restore 83
 598              		.cfi_restore 80
 599              		.cfi_restore 81
 600              		.cfi_def_cfa_offset 40
 601 0154 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 602              	.LVL61:
 603              	.L41:
 604              		.loc 1 75 1 discriminator 8 view .LVU122
 605              		.align	3
 606              	.L40:
 607 0158 0000E03F 		.word	1071644672
 608 015c AA4C58E8 		.word	-396866390
 609 0160 7AB6FB3F 		.word	1073460858
 610              		.cfi_endproc
 611              	.LFE246:
 613              		.section	.text.Motor1_Set_Compare1,"ax",%progbits
 614              		.align	1
 615              		.weak	Motor1_Set_Compare1
 616              		.syntax unified
 617              		.thumb
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 13


 618              		.thumb_func
 620              	Motor1_Set_Compare1:
 621              	.LVL62:
 622              	.LFB247:
  76:./app/algorithm/src/ts_foc.c **** 
  77:./app/algorithm/src/ts_foc.c **** 
  78:./app/algorithm/src/ts_foc.c **** 
  79:./app/algorithm/src/ts_foc.c **** 
  80:./app/algorithm/src/ts_foc.c **** 
  81:./app/algorithm/src/ts_foc.c **** 
  82:./app/algorithm/src/ts_foc.c **** 
  83:./app/algorithm/src/ts_foc.c **** 
  84:./app/algorithm/src/ts_foc.c **** 
  85:./app/algorithm/src/ts_foc.c **** 
  86:./app/algorithm/src/ts_foc.c **** 
  87:./app/algorithm/src/ts_foc.c **** 
  88:./app/algorithm/src/ts_foc.c **** 
  89:./app/algorithm/src/ts_foc.c **** 
  90:./app/algorithm/src/ts_foc.c **** 
  91:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫1ÈÄöÈÅì1pwmËæìÂá∫Âç†Á©∫ÊØî
  92:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
  93:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor1_Set_Compare1(uint32_t compare) 
  94:./app/algorithm/src/ts_foc.c **** {
 623              		.loc 1 94 1 is_stmt 1 view -0
 624              		.cfi_startproc
 625              		@ args = 0, pretend = 0, frame = 0
 626              		@ frame_needed = 0, uses_anonymous_args = 0
 627              		@ link register save eliminated.
  95:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_4, compare);
 628              		.loc 1 95 5 view .LVU124
 629 0000 014B     		ldr	r3, .L43
 630 0002 1B68     		ldr	r3, [r3]
 631 0004 1864     		str	r0, [r3, #64]
  96:./app/algorithm/src/ts_foc.c **** }
 632              		.loc 1 96 1 is_stmt 0 view .LVU125
 633 0006 7047     		bx	lr
 634              	.L44:
 635              		.align	2
 636              	.L43:
 637 0008 00000000 		.word	htim4
 638              		.cfi_endproc
 639              	.LFE247:
 641              		.section	.text.Motor1_Set_Compare2,"ax",%progbits
 642              		.align	1
 643              		.weak	Motor1_Set_Compare2
 644              		.syntax unified
 645              		.thumb
 646              		.thumb_func
 648              	Motor1_Set_Compare2:
 649              	.LVL63:
 650              	.LFB248:
  97:./app/algorithm/src/ts_foc.c **** 
  98:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫1ÈÄöÈÅì2pwmËæìÂá∫Âç†Á©∫ÊØî
  99:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
 100:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor1_Set_Compare2(uint32_t compare) 
 101:./app/algorithm/src/ts_foc.c **** {
 651              		.loc 1 101 1 is_stmt 1 view -0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 14


 652              		.cfi_startproc
 653              		@ args = 0, pretend = 0, frame = 0
 654              		@ frame_needed = 0, uses_anonymous_args = 0
 655              		@ link register save eliminated.
 102:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim8, TIM_CHANNEL_1, compare);
 656              		.loc 1 102 5 view .LVU127
 657 0000 014B     		ldr	r3, .L46
 658 0002 1B68     		ldr	r3, [r3]
 659 0004 5863     		str	r0, [r3, #52]
 103:./app/algorithm/src/ts_foc.c **** }
 660              		.loc 1 103 1 is_stmt 0 view .LVU128
 661 0006 7047     		bx	lr
 662              	.L47:
 663              		.align	2
 664              	.L46:
 665 0008 00000000 		.word	htim8
 666              		.cfi_endproc
 667              	.LFE248:
 669              		.section	.text.Motor1_Set_Compare3,"ax",%progbits
 670              		.align	1
 671              		.weak	Motor1_Set_Compare3
 672              		.syntax unified
 673              		.thumb
 674              		.thumb_func
 676              	Motor1_Set_Compare3:
 677              	.LVL64:
 678              	.LFB249:
 104:./app/algorithm/src/ts_foc.c **** 
 105:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫1ÈÄöÈÅì3pwmËæìÂá∫Âç†Á©∫ÊØî
 106:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
 107:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor1_Set_Compare3(uint32_t compare) 
 108:./app/algorithm/src/ts_foc.c **** {
 679              		.loc 1 108 1 is_stmt 1 view -0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 0
 682              		@ frame_needed = 0, uses_anonymous_args = 0
 683              		@ link register save eliminated.
 109:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim8, TIM_CHANNEL_2, compare);
 684              		.loc 1 109 5 view .LVU130
 685 0000 014B     		ldr	r3, .L49
 686 0002 1B68     		ldr	r3, [r3]
 687 0004 9863     		str	r0, [r3, #56]
 110:./app/algorithm/src/ts_foc.c **** }
 688              		.loc 1 110 1 is_stmt 0 view .LVU131
 689 0006 7047     		bx	lr
 690              	.L50:
 691              		.align	2
 692              	.L49:
 693 0008 00000000 		.word	htim8
 694              		.cfi_endproc
 695              	.LFE249:
 697              		.section	.text.Motor2_Set_Compare1,"ax",%progbits
 698              		.align	1
 699              		.weak	Motor2_Set_Compare1
 700              		.syntax unified
 701              		.thumb
 702              		.thumb_func
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 15


 704              	Motor2_Set_Compare1:
 705              	.LVL65:
 706              	.LFB250:
 111:./app/algorithm/src/ts_foc.c **** 
 112:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫2ÈÄöÈÅì1pwmËæìÂá∫Âç†Á©∫ÊØî
 113:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
 114:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor2_Set_Compare1(uint32_t compare) 
 115:./app/algorithm/src/ts_foc.c **** {
 707              		.loc 1 115 1 is_stmt 1 view -0
 708              		.cfi_startproc
 709              		@ args = 0, pretend = 0, frame = 0
 710              		@ frame_needed = 0, uses_anonymous_args = 0
 711              		@ link register save eliminated.
 116:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_3, compare);
 712              		.loc 1 116 5 view .LVU133
 713 0000 014B     		ldr	r3, .L52
 714 0002 1B68     		ldr	r3, [r3]
 715 0004 D863     		str	r0, [r3, #60]
 117:./app/algorithm/src/ts_foc.c **** }
 716              		.loc 1 117 1 is_stmt 0 view .LVU134
 717 0006 7047     		bx	lr
 718              	.L53:
 719              		.align	2
 720              	.L52:
 721 0008 00000000 		.word	htim4
 722              		.cfi_endproc
 723              	.LFE250:
 725              		.section	.text.Motor2_Set_Compare2,"ax",%progbits
 726              		.align	1
 727              		.weak	Motor2_Set_Compare2
 728              		.syntax unified
 729              		.thumb
 730              		.thumb_func
 732              	Motor2_Set_Compare2:
 733              	.LVL66:
 734              	.LFB251:
 118:./app/algorithm/src/ts_foc.c **** 
 119:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫2ÈÄöÈÅì2pwmËæìÂá∫Âç†Á©∫ÊØî
 120:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
 121:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor2_Set_Compare2(uint32_t compare) 
 122:./app/algorithm/src/ts_foc.c **** {
 735              		.loc 1 122 1 is_stmt 1 view -0
 736              		.cfi_startproc
 737              		@ args = 0, pretend = 0, frame = 0
 738              		@ frame_needed = 0, uses_anonymous_args = 0
 739              		@ link register save eliminated.
 123:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_2, compare);
 740              		.loc 1 123 5 view .LVU136
 741 0000 014B     		ldr	r3, .L55
 742 0002 1B68     		ldr	r3, [r3]
 743 0004 9863     		str	r0, [r3, #56]
 124:./app/algorithm/src/ts_foc.c **** }
 744              		.loc 1 124 1 is_stmt 0 view .LVU137
 745 0006 7047     		bx	lr
 746              	.L56:
 747              		.align	2
 748              	.L55:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 16


 749 0008 00000000 		.word	htim4
 750              		.cfi_endproc
 751              	.LFE251:
 753              		.section	.text.Motor2_Set_Compare3,"ax",%progbits
 754              		.align	1
 755              		.weak	Motor2_Set_Compare3
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 760              	Motor2_Set_Compare3:
 761              	.LVL67:
 762              	.LFB252:
 125:./app/algorithm/src/ts_foc.c **** 
 126:./app/algorithm/src/ts_foc.c **** /// @brief ËÆæÁΩÆÁîµÊú∫2ÈÄöÈÅì3pwmËæìÂá∫Âç†Á©∫ÊØî
 127:./app/algorithm/src/ts_foc.c **** /// @param compare Âç†Á©∫ÊØîÂÄº
 128:./app/algorithm/src/ts_foc.c **** void __attribute__((weak)) Motor2_Set_Compare3(uint32_t compare) 
 129:./app/algorithm/src/ts_foc.c **** {
 763              		.loc 1 129 1 is_stmt 1 view -0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 0
 766              		@ frame_needed = 0, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 130:./app/algorithm/src/ts_foc.c ****     __HAL_TIM_SetCompare(&htim4, TIM_CHANNEL_1, compare);
 768              		.loc 1 130 5 view .LVU139
 769 0000 014B     		ldr	r3, .L58
 770 0002 1B68     		ldr	r3, [r3]
 771 0004 5863     		str	r0, [r3, #52]
 131:./app/algorithm/src/ts_foc.c **** }
 772              		.loc 1 131 1 is_stmt 0 view .LVU140
 773 0006 7047     		bx	lr
 774              	.L59:
 775              		.align	2
 776              	.L58:
 777 0008 00000000 		.word	htim4
 778              		.cfi_endproc
 779              	.LFE252:
 781              		.text
 782              	.Letext0:
 783              		.file 2 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 784              		.file 3 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 785              		.file 4 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 786              		.file 5 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 787              		.file 6 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 788              		.file 7 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 789              		.file 8 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 790              		.file 9 "./app/peripheral/inc/as5600.h"
 791              		.file 10 "./app/algorithm/inc/pid.h"
 792              		.file 11 "./app/algorithm/inc/lowpass_filter.h"
 793              		.file 12 "./app/peripheral/inc/inlinecurrent.h"
 794              		.file 13 "./Core/Inc/tim.h"
 795              		.file 14 "./app/algorithm/inc/ts_foc.h"
 796              		.file 15 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\math.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 ts_foc.c
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:22     .text._normalizeRadian:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:28     .text._normalizeRadian:00000000 _normalizeRadian
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:74     .text._normalizeRadian:00000038 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:81     .text._normalizeAngle:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:87     .text._normalizeAngle:00000000 _normalizeAngle
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:132    .text._normalizeAngle:00000038 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:139    .text._electricalAngle:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:145    .text._electricalAngle:00000000 _electricalAngle
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:187    .text.setPwm:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:193    .text.setPwm:00000000 setPwm
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:381    .text.setPwm:00000120 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:390    .text.setTorque:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:396    .text.setTorque:00000000 setTorque
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:607    .text.setTorque:00000158 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:614    .text.Motor1_Set_Compare1:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:620    .text.Motor1_Set_Compare1:00000000 Motor1_Set_Compare1
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:637    .text.Motor1_Set_Compare1:00000008 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:642    .text.Motor1_Set_Compare2:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:648    .text.Motor1_Set_Compare2:00000000 Motor1_Set_Compare2
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:665    .text.Motor1_Set_Compare2:00000008 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:670    .text.Motor1_Set_Compare3:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:676    .text.Motor1_Set_Compare3:00000000 Motor1_Set_Compare3
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:693    .text.Motor1_Set_Compare3:00000008 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:698    .text.Motor2_Set_Compare1:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:704    .text.Motor2_Set_Compare1:00000000 Motor2_Set_Compare1
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:721    .text.Motor2_Set_Compare1:00000008 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:726    .text.Motor2_Set_Compare2:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:732    .text.Motor2_Set_Compare2:00000000 Motor2_Set_Compare2
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:749    .text.Motor2_Set_Compare2:00000008 $d
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:754    .text.Motor2_Set_Compare3:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:760    .text.Motor2_Set_Compare3:00000000 Motor2_Set_Compare3
C:\Users\Dennis\AppData\Local\Temp\ccADAd5C.s:777    .text.Motor2_Set_Compare3:00000008 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_d2f
fmod
__aeabi_dmul
__aeabi_dsub
__aeabi_dadd
sin
cos
htim4
htim8
