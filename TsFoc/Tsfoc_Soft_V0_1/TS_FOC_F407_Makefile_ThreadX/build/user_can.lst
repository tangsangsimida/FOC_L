ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"user_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.can_filter_init,"ax",%progbits
  20              		.align	1
  21              		.global	can_filter_init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	can_filter_init:
  27              	.LFB242:
  28              		.file 1 "./app/peripheral/src/user_can.c"
   1:./app/peripheral/src/user_can.c **** /*
   2:./app/peripheral/src/user_can.c ****  * user_can.c
   3:./app/peripheral/src/user_can.c ****  *
   4:./app/peripheral/src/user_can.c ****  *  Created on: Feb 25, 2024
   5:./app/peripheral/src/user_can.c ****  *      Author: tangsang
   6:./app/peripheral/src/user_can.c ****  */
   7:./app/peripheral/src/user_can.c **** #include "user_can.h"
   8:./app/peripheral/src/user_can.c **** 
   9:./app/peripheral/src/user_can.c **** 
  10:./app/peripheral/src/user_can.c **** 
  11:./app/peripheral/src/user_can.c **** 
  12:./app/peripheral/src/user_can.c **** 
  13:./app/peripheral/src/user_can.c **** void can_filter_init(void)
  14:./app/peripheral/src/user_can.c **** {
  29              		.loc 1 14 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 40
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 8AB0     		sub	sp, sp, #40
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 48
  15:./app/peripheral/src/user_can.c **** 
  16:./app/peripheral/src/user_can.c ****     CAN_FilterTypeDef can_filter_st;
  41              		.loc 1 16 5 view .LVU1
  17:./app/peripheral/src/user_can.c ****     can_filter_st.FilterActivation = ENABLE;
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 2


  42              		.loc 1 17 5 view .LVU2
  43              		.loc 1 17 36 is_stmt 0 view .LVU3
  44 0004 0122     		movs	r2, #1
  45 0006 0892     		str	r2, [sp, #32]
  18:./app/peripheral/src/user_can.c ****     can_filter_st.FilterMode = CAN_FILTERMODE_IDMASK;
  46              		.loc 1 18 5 is_stmt 1 view .LVU4
  47              		.loc 1 18 30 is_stmt 0 view .LVU5
  48 0008 0023     		movs	r3, #0
  49 000a 0693     		str	r3, [sp, #24]
  19:./app/peripheral/src/user_can.c ****     can_filter_st.FilterScale = CAN_FILTERSCALE_32BIT;
  50              		.loc 1 19 5 is_stmt 1 view .LVU6
  51              		.loc 1 19 31 is_stmt 0 view .LVU7
  52 000c 0792     		str	r2, [sp, #28]
  20:./app/peripheral/src/user_can.c ****     can_filter_st.FilterIdHigh = 0x0000;
  53              		.loc 1 20 5 is_stmt 1 view .LVU8
  54              		.loc 1 20 32 is_stmt 0 view .LVU9
  55 000e 0093     		str	r3, [sp]
  21:./app/peripheral/src/user_can.c ****     can_filter_st.FilterIdLow = 0x0000;
  56              		.loc 1 21 5 is_stmt 1 view .LVU10
  57              		.loc 1 21 31 is_stmt 0 view .LVU11
  58 0010 0193     		str	r3, [sp, #4]
  22:./app/peripheral/src/user_can.c ****     can_filter_st.FilterMaskIdHigh = 0x0000;
  59              		.loc 1 22 5 is_stmt 1 view .LVU12
  60              		.loc 1 22 36 is_stmt 0 view .LVU13
  61 0012 0293     		str	r3, [sp, #8]
  23:./app/peripheral/src/user_can.c ****     can_filter_st.FilterMaskIdLow = 0x0000;
  62              		.loc 1 23 5 is_stmt 1 view .LVU14
  63              		.loc 1 23 35 is_stmt 0 view .LVU15
  64 0014 0393     		str	r3, [sp, #12]
  24:./app/peripheral/src/user_can.c ****     can_filter_st.FilterBank = 0;
  65              		.loc 1 24 5 is_stmt 1 view .LVU16
  66              		.loc 1 24 30 is_stmt 0 view .LVU17
  67 0016 0593     		str	r3, [sp, #20]
  25:./app/peripheral/src/user_can.c ****     can_filter_st.FilterFIFOAssignment = CAN_RX_FIFO0;
  68              		.loc 1 25 5 is_stmt 1 view .LVU18
  69              		.loc 1 25 40 is_stmt 0 view .LVU19
  70 0018 0493     		str	r3, [sp, #16]
  26:./app/peripheral/src/user_can.c ****     HAL_CAN_ConfigFilter(&CHASSIS_CAN, &can_filter_st);
  71              		.loc 1 26 5 is_stmt 1 view .LVU20
  72 001a 0E4C     		ldr	r4, .L3
  73 001c 6946     		mov	r1, sp
  74 001e 2046     		mov	r0, r4
  75 0020 FFF7FEFF 		bl	HAL_CAN_ConfigFilter
  76              	.LVL0:
  27:./app/peripheral/src/user_can.c ****     HAL_CAN_Start(&CHASSIS_CAN);
  77              		.loc 1 27 5 view .LVU21
  78 0024 2046     		mov	r0, r4
  79 0026 FFF7FEFF 		bl	HAL_CAN_Start
  80              	.LVL1:
  28:./app/peripheral/src/user_can.c ****     HAL_CAN_ActivateNotification(&CHASSIS_CAN, CAN_IT_RX_FIFO0_MSG_PENDING);
  81              		.loc 1 28 5 view .LVU22
  82 002a 0221     		movs	r1, #2
  83 002c 2046     		mov	r0, r4
  84 002e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
  85              	.LVL2:
  29:./app/peripheral/src/user_can.c **** 
  30:./app/peripheral/src/user_can.c **** 
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 3


  31:./app/peripheral/src/user_can.c ****     can_filter_st.SlaveStartFilterBank = 14;
  86              		.loc 1 31 5 view .LVU23
  87              		.loc 1 31 40 is_stmt 0 view .LVU24
  88 0032 0E23     		movs	r3, #14
  89 0034 0993     		str	r3, [sp, #36]
  32:./app/peripheral/src/user_can.c ****     can_filter_st.FilterBank = 14;
  90              		.loc 1 32 5 is_stmt 1 view .LVU25
  91              		.loc 1 32 30 is_stmt 0 view .LVU26
  92 0036 0593     		str	r3, [sp, #20]
  33:./app/peripheral/src/user_can.c ****     HAL_CAN_ConfigFilter(&hcan2, &can_filter_st);
  93              		.loc 1 33 5 is_stmt 1 view .LVU27
  94 0038 074C     		ldr	r4, .L3+4
  95 003a 6946     		mov	r1, sp
  96 003c 2046     		mov	r0, r4
  97 003e FFF7FEFF 		bl	HAL_CAN_ConfigFilter
  98              	.LVL3:
  34:./app/peripheral/src/user_can.c ****     HAL_CAN_Start(&hcan2);
  99              		.loc 1 34 5 view .LVU28
 100 0042 2046     		mov	r0, r4
 101 0044 FFF7FEFF 		bl	HAL_CAN_Start
 102              	.LVL4:
  35:./app/peripheral/src/user_can.c ****     HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING);
 103              		.loc 1 35 5 view .LVU29
 104 0048 0221     		movs	r1, #2
 105 004a 2046     		mov	r0, r4
 106 004c FFF7FEFF 		bl	HAL_CAN_ActivateNotification
 107              	.LVL5:
  36:./app/peripheral/src/user_can.c **** }
 108              		.loc 1 36 1 is_stmt 0 view .LVU30
 109 0050 0AB0     		add	sp, sp, #40
 110              	.LCFI2:
 111              		.cfi_def_cfa_offset 8
 112              		@ sp needed
 113 0052 10BD     		pop	{r4, pc}
 114              	.L4:
 115              		.align	2
 116              	.L3:
 117 0054 00000000 		.word	hcan1
 118 0058 00000000 		.word	hcan2
 119              		.cfi_endproc
 120              	.LFE242:
 122              		.section	.rodata.HAL_CAN_RxFifo0MsgPendingCallback.str1.4,"aMS",%progbits,1
 123              		.align	2
 124              	.LC0:
 125 0000 72785F64 		.ascii	"rx_data: 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x\012"
 125      6174613A 
 125      20307825 
 125      78203078 
 125      25782030 
 126 0031 00       		.ascii	"\000"
 127              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
 128              		.align	1
 129              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 134              	HAL_CAN_RxFifo0MsgPendingCallback:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 4


 135              	.LVL6:
 136              	.LFB243:
  37:./app/peripheral/src/user_can.c **** 
  38:./app/peripheral/src/user_can.c **** extern CAN_HandleTypeDef hcan;
  39:./app/peripheral/src/user_can.c **** 
  40:./app/peripheral/src/user_can.c **** //motor data read
  41:./app/peripheral/src/user_can.c **** #define get_motor_measure(ptr, data)                                    \
  42:./app/peripheral/src/user_can.c ****     {                                                                   \
  43:./app/peripheral/src/user_can.c ****         (ptr)->last_ecd = (ptr)->ecd;                                   \
  44:./app/peripheral/src/user_can.c ****         (ptr)->ecd = (uint16_t)((data)[0] << 8 | (data)[1]);            \
  45:./app/peripheral/src/user_can.c ****         (ptr)->speed_rpm = (uint16_t)((data)[2] << 8 | (data)[3]);      \
  46:./app/peripheral/src/user_can.c ****         (ptr)->given_current = (uint16_t)((data)[4] << 8 | (data)[5]);  \
  47:./app/peripheral/src/user_can.c ****         (ptr)->temperate = (data)[6];                                   \
  48:./app/peripheral/src/user_can.c ****     }
  49:./app/peripheral/src/user_can.c **** /*
  50:./app/peripheral/src/user_can.c **** motor data,  0:chassis motor1 3508;1:chassis motor3 3508;2:chassis motor3 3508;3:chassis motor4 350
  51:./app/peripheral/src/user_can.c **** 4:yaw gimbal motor 6020;5:pitch gimbal motor 6020;6:trigger motor 2006;
  52:./app/peripheral/src/user_can.c **** 电机数据, 0:底盘电机1 3508电机,  1:底盘电机2 3508电机,2:底盘电机3 3508电机,3:
  53:./app/peripheral/src/user_can.c **** 4:yaw云台电机 6020电机; 5:pitch云台电机 6020电机; 6:拨弹电机 2006电机*/
  54:./app/peripheral/src/user_can.c **** motor_measure_t motor_chassis[7];
  55:./app/peripheral/src/user_can.c **** 
  56:./app/peripheral/src/user_can.c **** static CAN_TxHeaderTypeDef  gimbal_tx_message;
  57:./app/peripheral/src/user_can.c **** static uint8_t              gimbal_can_send_data[8];
  58:./app/peripheral/src/user_can.c **** static CAN_TxHeaderTypeDef  chassis_tx_message;
  59:./app/peripheral/src/user_can.c **** static uint8_t              chassis_can_send_data[8];
  60:./app/peripheral/src/user_can.c **** 
  61:./app/peripheral/src/user_can.c **** /**
  62:./app/peripheral/src/user_can.c ****   * @brief          hal CAN fifo call back, receive motor data
  63:./app/peripheral/src/user_can.c ****   * @param[in]      hcan, the point to CAN handle
  64:./app/peripheral/src/user_can.c ****   * @retval         none
  65:./app/peripheral/src/user_can.c ****   */
  66:./app/peripheral/src/user_can.c **** /**
  67:./app/peripheral/src/user_can.c ****   * @brief          hal库CAN回调函数,接收电机数据
  68:./app/peripheral/src/user_can.c ****   * @param[in]      hcan:CAN句柄指针
  69:./app/peripheral/src/user_can.c ****   * @retval         none
  70:./app/peripheral/src/user_can.c ****   */
  71:./app/peripheral/src/user_can.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *hcan)
  72:./app/peripheral/src/user_can.c **** {
 137              		.loc 1 72 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 40
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		.loc 1 72 1 is_stmt 0 view .LVU32
 142 0000 10B5     		push	{r4, lr}
 143              	.LCFI3:
 144              		.cfi_def_cfa_offset 8
 145              		.cfi_offset 4, -8
 146              		.cfi_offset 14, -4
 147 0002 90B0     		sub	sp, sp, #64
 148              	.LCFI4:
 149              		.cfi_def_cfa_offset 72
  73:./app/peripheral/src/user_can.c ****     CAN_RxHeaderTypeDef rx_header;
 150              		.loc 1 73 5 is_stmt 1 view .LVU33
  74:./app/peripheral/src/user_can.c ****     uint8_t rx_data[8];
 151              		.loc 1 74 5 view .LVU34
  75:./app/peripheral/src/user_can.c **** 
  76:./app/peripheral/src/user_can.c ****     HAL_CAN_GetRxMessage(hcan, CAN_RX_FIFO0, &rx_header, rx_data);
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 5


 152              		.loc 1 76 5 view .LVU35
 153 0004 07AB     		add	r3, sp, #28
 154 0006 09AA     		add	r2, sp, #36
 155 0008 0021     		movs	r1, #0
 156 000a FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 157              	.LVL7:
  77:./app/peripheral/src/user_can.c ****     printf("rx_data: 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x 0x%x\n", rx_data[0], rx_data[1], rx_data[2]
 158              		.loc 1 77 5 view .LVU36
 159              		.loc 1 77 109 is_stmt 0 view .LVU37
 160 000e 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 161              		.loc 1 77 121 view .LVU38
 162 0012 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 163              		.loc 1 77 133 view .LVU39
 164 0016 9DF82110 		ldrb	r1, [sp, #33]	@ zero_extendqisi2
 165              		.loc 1 77 145 view .LVU40
 166 001a 9DF82200 		ldrb	r0, [sp, #34]	@ zero_extendqisi2
 167              		.loc 1 77 157 view .LVU41
 168 001e 9DF82340 		ldrb	r4, [sp, #35]	@ zero_extendqisi2
 169              		.loc 1 77 5 view .LVU42
 170 0022 0494     		str	r4, [sp, #16]
 171 0024 0390     		str	r0, [sp, #12]
 172 0026 0291     		str	r1, [sp, #8]
 173 0028 0192     		str	r2, [sp, #4]
 174 002a 0093     		str	r3, [sp]
 175 002c 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 176 0030 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 177 0034 9DF81C10 		ldrb	r1, [sp, #28]	@ zero_extendqisi2
 178 0038 1948     		ldr	r0, .L8
 179 003a FFF7FEFF 		bl	printf
 180              	.LVL8:
  78:./app/peripheral/src/user_can.c ****     switch (rx_header.StdId)
 181              		.loc 1 78 5 is_stmt 1 view .LVU43
 182              		.loc 1 78 22 is_stmt 0 view .LVU44
 183 003e 099B     		ldr	r3, [sp, #36]
 184              		.loc 1 78 5 view .LVU45
 185 0040 A3F20122 		subw	r2, r3, #513
 186 0044 062A     		cmp	r2, #6
 187 0046 29D8     		bhi	.L5
 188              	.LBB2:
  79:./app/peripheral/src/user_can.c ****     {
  80:./app/peripheral/src/user_can.c ****         case CAN_3508_M1_ID:
  81:./app/peripheral/src/user_can.c ****         case CAN_3508_M2_ID:
  82:./app/peripheral/src/user_can.c ****         case CAN_3508_M3_ID:
  83:./app/peripheral/src/user_can.c ****         case CAN_3508_M4_ID:
  84:./app/peripheral/src/user_can.c ****         case CAN_YAW_MOTOR_ID:
  85:./app/peripheral/src/user_can.c ****         case CAN_PIT_MOTOR_ID:
  86:./app/peripheral/src/user_can.c ****         case CAN_TRIGGER_MOTOR_ID:
  87:./app/peripheral/src/user_can.c ****         {
  88:./app/peripheral/src/user_can.c ****             static uint8_t i = 0;
 189              		.loc 1 88 13 is_stmt 1 view .LVU46
  89:./app/peripheral/src/user_can.c ****             //get motor id
  90:./app/peripheral/src/user_can.c ****             i = rx_header.StdId - CAN_3508_M1_ID;
 190              		.loc 1 90 13 view .LVU47
 191              		.loc 1 90 33 is_stmt 0 view .LVU48
 192 0048 013B     		subs	r3, r3, #1
 193 004a DBB2     		uxtb	r3, r3
 194              		.loc 1 90 15 view .LVU49
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 6


 195 004c 154A     		ldr	r2, .L8+4
 196 004e 1370     		strb	r3, [r2]
  91:./app/peripheral/src/user_can.c ****             get_motor_measure(&motor_chassis[i], rx_data);
 197              		.loc 1 91 13 is_stmt 1 view .LVU50
 198 0050 1549     		ldr	r1, .L8+8
 199 0052 03EB8300 		add	r0, r3, r3, lsl #2
 200 0056 4200     		lsls	r2, r0, #1
 201 0058 8818     		adds	r0, r1, r2
 202 005a 8C5E     		ldrsh	r4, [r1, r2]
 203 005c 0481     		strh	r4, [r0, #8]	@ movhi
 204              		.loc 1 91 13 view .LVU51
 205 005e 9DF81C40 		ldrb	r4, [sp, #28]	@ zero_extendqisi2
 206 0062 9DF81DC0 		ldrb	ip, [sp, #29]	@ zero_extendqisi2
 207 0066 4CEA042C 		orr	ip, ip, r4, lsl #8
 208 006a 21F802C0 		strh	ip, [r1, r2]	@ movhi
 209              		.loc 1 91 13 view .LVU52
 210 006e 9DF81E20 		ldrb	r2, [sp, #30]	@ zero_extendqisi2
 211 0072 1202     		lsls	r2, r2, #8
 212 0074 12B2     		sxth	r2, r2
 213 0076 9DF81F40 		ldrb	r4, [sp, #31]	@ zero_extendqisi2
 214 007a 2243     		orrs	r2, r2, r4
 215 007c 4280     		strh	r2, [r0, #2]	@ movhi
 216              		.loc 1 91 13 view .LVU53
 217 007e 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 218 0082 1202     		lsls	r2, r2, #8
 219 0084 12B2     		sxth	r2, r2
 220 0086 9DF82140 		ldrb	r4, [sp, #33]	@ zero_extendqisi2
 221 008a 2243     		orrs	r2, r2, r4
 222 008c 8280     		strh	r2, [r0, #4]	@ movhi
 223              		.loc 1 91 13 view .LVU54
 224 008e 9DF82200 		ldrb	r0, [sp, #34]	@ zero_extendqisi2
 225 0092 03EB8303 		add	r3, r3, r3, lsl #2
 226 0096 5A00     		lsls	r2, r3, #1
 227 0098 8B18     		adds	r3, r1, r2
 228 009a 9871     		strb	r0, [r3, #6]
 229              		.loc 1 91 58 view .LVU55
  92:./app/peripheral/src/user_can.c ****             break;
 230              		.loc 1 92 13 view .LVU56
 231              	.L5:
 232              	.LBE2:
  93:./app/peripheral/src/user_can.c ****         }
  94:./app/peripheral/src/user_can.c **** 
  95:./app/peripheral/src/user_can.c ****         default:
  96:./app/peripheral/src/user_can.c ****         {
  97:./app/peripheral/src/user_can.c ****             break;
  98:./app/peripheral/src/user_can.c ****         }
  99:./app/peripheral/src/user_can.c ****     }
 100:./app/peripheral/src/user_can.c **** }
 233              		.loc 1 100 1 is_stmt 0 view .LVU57
 234 009c 10B0     		add	sp, sp, #64
 235              	.LCFI5:
 236              		.cfi_def_cfa_offset 8
 237              		@ sp needed
 238 009e 10BD     		pop	{r4, pc}
 239              	.L9:
 240              		.align	2
 241              	.L8:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 7


 242 00a0 00000000 		.word	.LC0
 243 00a4 00000000 		.word	.LANCHOR0
 244 00a8 00000000 		.word	.LANCHOR1
 245              		.cfi_endproc
 246              	.LFE243:
 248              		.section	.text.CAN_cmd_gimbal,"ax",%progbits
 249              		.align	1
 250              		.global	CAN_cmd_gimbal
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 255              	CAN_cmd_gimbal:
 256              	.LVL9:
 257              	.LFB244:
 101:./app/peripheral/src/user_can.c **** 
 102:./app/peripheral/src/user_can.c **** 
 103:./app/peripheral/src/user_can.c **** 
 104:./app/peripheral/src/user_can.c **** /**
 105:./app/peripheral/src/user_can.c ****   * @brief          send control current of motor (0x205, 0x206, 0x207, 0x208)
 106:./app/peripheral/src/user_can.c ****   * @param[in]      yaw: (0x205) 6020 motor control current, range [-30000,30000]
 107:./app/peripheral/src/user_can.c ****   * @param[in]      pitch: (0x206) 6020 motor control current, range [-30000,30000]
 108:./app/peripheral/src/user_can.c ****   * @param[in]      shoot: (0x207) 2006 motor control current, range [-10000,10000]
 109:./app/peripheral/src/user_can.c ****   * @param[in]      rev: (0x208) reserve motor control current
 110:./app/peripheral/src/user_can.c ****   * @retval         none
 111:./app/peripheral/src/user_can.c ****   */
 112:./app/peripheral/src/user_can.c **** /**
 113:./app/peripheral/src/user_can.c ****   * @brief          发送电机控制电流(0x205,0x206,0x207,0x208)
 114:./app/peripheral/src/user_can.c ****   * @param[in]      yaw: (0x205) 6020电机控制电流, 范围 [-30000,30000]
 115:./app/peripheral/src/user_can.c ****   * @param[in]      pitch: (0x206) 6020电机控制电流, 范围 [-30000,30000]
 116:./app/peripheral/src/user_can.c ****   * @param[in]      shoot: (0x207) 2006电机控制电流, 范围 [-10000,10000]
 117:./app/peripheral/src/user_can.c ****   * @param[in]      rev: (0x208) 保留，电机控制电流
 118:./app/peripheral/src/user_can.c ****   * @retval         none
 119:./app/peripheral/src/user_can.c ****   */
 120:./app/peripheral/src/user_can.c **** void CAN_cmd_gimbal(int16_t yaw, int16_t pitch, int16_t shoot, int16_t rev)
 121:./app/peripheral/src/user_can.c **** {
 258              		.loc 1 121 1 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 8
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 262              		.loc 1 121 1 is_stmt 0 view .LVU59
 263 0000 10B5     		push	{r4, lr}
 264              	.LCFI6:
 265              		.cfi_def_cfa_offset 8
 266              		.cfi_offset 4, -8
 267              		.cfi_offset 14, -4
 268 0002 82B0     		sub	sp, sp, #8
 269              	.LCFI7:
 270              		.cfi_def_cfa_offset 16
 271 0004 8E46     		mov	lr, r1
 272 0006 9446     		mov	ip, r2
 122:./app/peripheral/src/user_can.c ****     uint32_t send_mail_box;
 273              		.loc 1 122 5 is_stmt 1 view .LVU60
 123:./app/peripheral/src/user_can.c ****     gimbal_tx_message.StdId = CAN_GIMBAL_ALL_ID;
 274              		.loc 1 123 5 view .LVU61
 275              		.loc 1 123 29 is_stmt 0 view .LVU62
 276 0008 0F49     		ldr	r1, .L12
 277              	.LVL10:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 8


 278              		.loc 1 123 29 view .LVU63
 279 000a 40F2FF12 		movw	r2, #511
 280              	.LVL11:
 281              		.loc 1 123 29 view .LVU64
 282 000e 0A60     		str	r2, [r1]
 124:./app/peripheral/src/user_can.c ****     gimbal_tx_message.IDE = CAN_ID_STD;
 283              		.loc 1 124 5 is_stmt 1 view .LVU65
 284              		.loc 1 124 27 is_stmt 0 view .LVU66
 285 0010 0022     		movs	r2, #0
 286 0012 8A60     		str	r2, [r1, #8]
 125:./app/peripheral/src/user_can.c ****     gimbal_tx_message.RTR = CAN_RTR_DATA;
 287              		.loc 1 125 5 is_stmt 1 view .LVU67
 288              		.loc 1 125 27 is_stmt 0 view .LVU68
 289 0014 CA60     		str	r2, [r1, #12]
 126:./app/peripheral/src/user_can.c ****     gimbal_tx_message.DLC = 0x08;
 290              		.loc 1 126 5 is_stmt 1 view .LVU69
 291              		.loc 1 126 27 is_stmt 0 view .LVU70
 292 0016 0822     		movs	r2, #8
 293 0018 0A61     		str	r2, [r1, #16]
 127:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[0] = (yaw >> 8);
 294              		.loc 1 127 5 is_stmt 1 view .LVU71
 295              		.loc 1 127 29 is_stmt 0 view .LVU72
 296 001a 0C4A     		ldr	r2, .L12+4
 297 001c 0412     		asrs	r4, r0, #8
 298 001e 1470     		strb	r4, [r2]
 128:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[1] = yaw;
 299              		.loc 1 128 5 is_stmt 1 view .LVU73
 300              		.loc 1 128 29 is_stmt 0 view .LVU74
 301 0020 5070     		strb	r0, [r2, #1]
 129:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[2] = (pitch >> 8);
 302              		.loc 1 129 5 is_stmt 1 view .LVU75
 303              		.loc 1 129 29 is_stmt 0 view .LVU76
 304 0022 4FEA2E20 		asr	r0, lr, #8
 305              	.LVL12:
 306              		.loc 1 129 29 view .LVU77
 307 0026 9070     		strb	r0, [r2, #2]
 130:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[3] = pitch;
 308              		.loc 1 130 5 is_stmt 1 view .LVU78
 309              		.loc 1 130 29 is_stmt 0 view .LVU79
 310 0028 82F803E0 		strb	lr, [r2, #3]
 131:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[4] = (shoot >> 8);
 311              		.loc 1 131 5 is_stmt 1 view .LVU80
 312              		.loc 1 131 29 is_stmt 0 view .LVU81
 313 002c 4FEA2C20 		asr	r0, ip, #8
 314 0030 1071     		strb	r0, [r2, #4]
 132:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[5] = shoot;
 315              		.loc 1 132 5 is_stmt 1 view .LVU82
 316              		.loc 1 132 29 is_stmt 0 view .LVU83
 317 0032 82F805C0 		strb	ip, [r2, #5]
 133:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[6] = (rev >> 8);
 318              		.loc 1 133 5 is_stmt 1 view .LVU84
 319              		.loc 1 133 29 is_stmt 0 view .LVU85
 320 0036 1812     		asrs	r0, r3, #8
 321 0038 9071     		strb	r0, [r2, #6]
 134:./app/peripheral/src/user_can.c ****     gimbal_can_send_data[7] = rev;
 322              		.loc 1 134 5 is_stmt 1 view .LVU86
 323              		.loc 1 134 29 is_stmt 0 view .LVU87
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 9


 324 003a D371     		strb	r3, [r2, #7]
 135:./app/peripheral/src/user_can.c ****     // HAL_CAN_AddTxMessage(&GIMBAL_CAN, &gimbal_tx_message, gimbal_can_send_data, &send_mail_box);
 136:./app/peripheral/src/user_can.c ****     HAL_CAN_AddTxMessage(&CHASSIS_CAN, &gimbal_tx_message, gimbal_can_send_data, &send_mail_box);
 325              		.loc 1 136 5 is_stmt 1 view .LVU88
 326 003c 01AB     		add	r3, sp, #4
 327              	.LVL13:
 328              		.loc 1 136 5 is_stmt 0 view .LVU89
 329 003e 0448     		ldr	r0, .L12+8
 330 0040 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 331              	.LVL14:
 137:./app/peripheral/src/user_can.c **** }
 332              		.loc 1 137 1 view .LVU90
 333 0044 02B0     		add	sp, sp, #8
 334              	.LCFI8:
 335              		.cfi_def_cfa_offset 8
 336              		@ sp needed
 337 0046 10BD     		pop	{r4, pc}
 338              	.L13:
 339              		.align	2
 340              	.L12:
 341 0048 00000000 		.word	.LANCHOR2
 342 004c 00000000 		.word	.LANCHOR3
 343 0050 00000000 		.word	hcan1
 344              		.cfi_endproc
 345              	.LFE244:
 347              		.section	.text.CAN_cmd_chassis_reset_ID,"ax",%progbits
 348              		.align	1
 349              		.global	CAN_cmd_chassis_reset_ID
 350              		.syntax unified
 351              		.thumb
 352              		.thumb_func
 354              	CAN_cmd_chassis_reset_ID:
 355              	.LFB245:
 138:./app/peripheral/src/user_can.c **** 
 139:./app/peripheral/src/user_can.c **** /**
 140:./app/peripheral/src/user_can.c ****   * @brief          send CAN packet of ID 0x700, it will set chassis motor 3508 to quick ID setting
 141:./app/peripheral/src/user_can.c ****   * @param[in]      none
 142:./app/peripheral/src/user_can.c ****   * @retval         none
 143:./app/peripheral/src/user_can.c ****   */
 144:./app/peripheral/src/user_can.c **** /**
 145:./app/peripheral/src/user_can.c ****   * @brief          发送ID为0x700的CAN包,它会设置3508电机进入快速设置ID
 146:./app/peripheral/src/user_can.c ****   * @param[in]      none
 147:./app/peripheral/src/user_can.c ****   * @retval         none
 148:./app/peripheral/src/user_can.c ****   */
 149:./app/peripheral/src/user_can.c **** void CAN_cmd_chassis_reset_ID(void)
 150:./app/peripheral/src/user_can.c **** {
 356              		.loc 1 150 1 is_stmt 1 view -0
 357              		.cfi_startproc
 358              		@ args = 0, pretend = 0, frame = 8
 359              		@ frame_needed = 0, uses_anonymous_args = 0
 360 0000 00B5     		push	{lr}
 361              	.LCFI9:
 362              		.cfi_def_cfa_offset 4
 363              		.cfi_offset 14, -4
 364 0002 83B0     		sub	sp, sp, #12
 365              	.LCFI10:
 366              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 10


 151:./app/peripheral/src/user_can.c ****     uint32_t send_mail_box;
 367              		.loc 1 151 5 view .LVU92
 152:./app/peripheral/src/user_can.c ****     chassis_tx_message.StdId = 0x700;
 368              		.loc 1 152 5 view .LVU93
 369              		.loc 1 152 30 is_stmt 0 view .LVU94
 370 0004 0C49     		ldr	r1, .L16
 371 0006 4FF4E063 		mov	r3, #1792
 372 000a 0B60     		str	r3, [r1]
 153:./app/peripheral/src/user_can.c ****     chassis_tx_message.IDE = CAN_ID_STD;
 373              		.loc 1 153 5 is_stmt 1 view .LVU95
 374              		.loc 1 153 28 is_stmt 0 view .LVU96
 375 000c 0023     		movs	r3, #0
 376 000e 8B60     		str	r3, [r1, #8]
 154:./app/peripheral/src/user_can.c ****     chassis_tx_message.RTR = CAN_RTR_DATA;
 377              		.loc 1 154 5 is_stmt 1 view .LVU97
 378              		.loc 1 154 28 is_stmt 0 view .LVU98
 379 0010 CB60     		str	r3, [r1, #12]
 155:./app/peripheral/src/user_can.c ****     chassis_tx_message.DLC = 0x08;
 380              		.loc 1 155 5 is_stmt 1 view .LVU99
 381              		.loc 1 155 28 is_stmt 0 view .LVU100
 382 0012 0822     		movs	r2, #8
 383 0014 0A61     		str	r2, [r1, #16]
 156:./app/peripheral/src/user_can.c ****     chassis_can_send_data[0] = 0;
 384              		.loc 1 156 5 is_stmt 1 view .LVU101
 385              		.loc 1 156 30 is_stmt 0 view .LVU102
 386 0016 094A     		ldr	r2, .L16+4
 387 0018 1370     		strb	r3, [r2]
 157:./app/peripheral/src/user_can.c ****     chassis_can_send_data[1] = 0;
 388              		.loc 1 157 5 is_stmt 1 view .LVU103
 389              		.loc 1 157 30 is_stmt 0 view .LVU104
 390 001a 5370     		strb	r3, [r2, #1]
 158:./app/peripheral/src/user_can.c ****     chassis_can_send_data[2] = 0;
 391              		.loc 1 158 5 is_stmt 1 view .LVU105
 392              		.loc 1 158 30 is_stmt 0 view .LVU106
 393 001c 9370     		strb	r3, [r2, #2]
 159:./app/peripheral/src/user_can.c ****     chassis_can_send_data[3] = 0;
 394              		.loc 1 159 5 is_stmt 1 view .LVU107
 395              		.loc 1 159 30 is_stmt 0 view .LVU108
 396 001e D370     		strb	r3, [r2, #3]
 160:./app/peripheral/src/user_can.c ****     chassis_can_send_data[4] = 0;
 397              		.loc 1 160 5 is_stmt 1 view .LVU109
 398              		.loc 1 160 30 is_stmt 0 view .LVU110
 399 0020 1371     		strb	r3, [r2, #4]
 161:./app/peripheral/src/user_can.c ****     chassis_can_send_data[5] = 0;
 400              		.loc 1 161 5 is_stmt 1 view .LVU111
 401              		.loc 1 161 30 is_stmt 0 view .LVU112
 402 0022 5371     		strb	r3, [r2, #5]
 162:./app/peripheral/src/user_can.c ****     chassis_can_send_data[6] = 0;
 403              		.loc 1 162 5 is_stmt 1 view .LVU113
 404              		.loc 1 162 30 is_stmt 0 view .LVU114
 405 0024 9371     		strb	r3, [r2, #6]
 163:./app/peripheral/src/user_can.c ****     chassis_can_send_data[7] = 0;
 406              		.loc 1 163 5 is_stmt 1 view .LVU115
 407              		.loc 1 163 30 is_stmt 0 view .LVU116
 408 0026 D371     		strb	r3, [r2, #7]
 164:./app/peripheral/src/user_can.c **** 
 165:./app/peripheral/src/user_can.c ****     HAL_CAN_AddTxMessage(&CHASSIS_CAN, &chassis_tx_message, chassis_can_send_data, &send_mail_box);
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 11


 409              		.loc 1 165 5 is_stmt 1 view .LVU117
 410 0028 01AB     		add	r3, sp, #4
 411 002a 0548     		ldr	r0, .L16+8
 412 002c FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 413              	.LVL15:
 166:./app/peripheral/src/user_can.c **** }
 414              		.loc 1 166 1 is_stmt 0 view .LVU118
 415 0030 03B0     		add	sp, sp, #12
 416              	.LCFI11:
 417              		.cfi_def_cfa_offset 4
 418              		@ sp needed
 419 0032 5DF804FB 		ldr	pc, [sp], #4
 420              	.L17:
 421 0036 00BF     		.align	2
 422              	.L16:
 423 0038 00000000 		.word	.LANCHOR4
 424 003c 00000000 		.word	.LANCHOR5
 425 0040 00000000 		.word	hcan1
 426              		.cfi_endproc
 427              	.LFE245:
 429              		.section	.text.CAN_cmd_chassis,"ax",%progbits
 430              		.align	1
 431              		.global	CAN_cmd_chassis
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 436              	CAN_cmd_chassis:
 437              	.LVL16:
 438              	.LFB246:
 167:./app/peripheral/src/user_can.c **** 
 168:./app/peripheral/src/user_can.c **** 
 169:./app/peripheral/src/user_can.c **** /**
 170:./app/peripheral/src/user_can.c ****   * @brief          send control current of motor (0x201, 0x202, 0x203, 0x204)
 171:./app/peripheral/src/user_can.c ****   * @param[in]      motor1: (0x201) 3508 motor control current, range [-16384,16384]
 172:./app/peripheral/src/user_can.c ****   * @param[in]      motor2: (0x202) 3508 motor control current, range [-16384,16384]
 173:./app/peripheral/src/user_can.c ****   * @param[in]      motor3: (0x203) 3508 motor control current, range [-16384,16384]
 174:./app/peripheral/src/user_can.c ****   * @param[in]      motor4: (0x204) 3508 motor control current, range [-16384,16384]
 175:./app/peripheral/src/user_can.c ****   * @retval         none
 176:./app/peripheral/src/user_can.c ****   */
 177:./app/peripheral/src/user_can.c **** /**
 178:./app/peripheral/src/user_can.c ****   * @brief          发送电机控制电流(0x201,0x202,0x203,0x204)
 179:./app/peripheral/src/user_can.c ****   * @param[in]      motor1: (0x201) 3508电机控制电流, 范围 [-16384,16384]
 180:./app/peripheral/src/user_can.c ****   * @param[in]      motor2: (0x202) 3508电机控制电流, 范围 [-16384,16384]
 181:./app/peripheral/src/user_can.c ****   * @param[in]      motor3: (0x203) 3508电机控制电流, 范围 [-16384,16384]
 182:./app/peripheral/src/user_can.c ****   * @param[in]      motor4: (0x204) 3508电机控制电流, 范围 [-16384,16384]
 183:./app/peripheral/src/user_can.c ****   * @retval         none
 184:./app/peripheral/src/user_can.c ****   */
 185:./app/peripheral/src/user_can.c **** void CAN_cmd_chassis(int16_t motor1, int16_t motor2, int16_t motor3, int16_t motor4)
 186:./app/peripheral/src/user_can.c **** {
 439              		.loc 1 186 1 is_stmt 1 view -0
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 8
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 443              		.loc 1 186 1 is_stmt 0 view .LVU120
 444 0000 10B5     		push	{r4, lr}
 445              	.LCFI12:
 446              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 12


 447              		.cfi_offset 4, -8
 448              		.cfi_offset 14, -4
 449 0002 82B0     		sub	sp, sp, #8
 450              	.LCFI13:
 451              		.cfi_def_cfa_offset 16
 452 0004 8E46     		mov	lr, r1
 453 0006 9446     		mov	ip, r2
 187:./app/peripheral/src/user_can.c ****     uint32_t send_mail_box;
 454              		.loc 1 187 5 is_stmt 1 view .LVU121
 188:./app/peripheral/src/user_can.c ****     chassis_tx_message.StdId = CAN_CHASSIS_ALL_ID;
 455              		.loc 1 188 5 view .LVU122
 456              		.loc 1 188 30 is_stmt 0 view .LVU123
 457 0008 0F49     		ldr	r1, .L20
 458              	.LVL17:
 459              		.loc 1 188 30 view .LVU124
 460 000a 4FF40072 		mov	r2, #512
 461              	.LVL18:
 462              		.loc 1 188 30 view .LVU125
 463 000e 0A60     		str	r2, [r1]
 189:./app/peripheral/src/user_can.c ****     chassis_tx_message.IDE = CAN_ID_STD;
 464              		.loc 1 189 5 is_stmt 1 view .LVU126
 465              		.loc 1 189 28 is_stmt 0 view .LVU127
 466 0010 0022     		movs	r2, #0
 467 0012 8A60     		str	r2, [r1, #8]
 190:./app/peripheral/src/user_can.c ****     chassis_tx_message.RTR = CAN_RTR_DATA;
 468              		.loc 1 190 5 is_stmt 1 view .LVU128
 469              		.loc 1 190 28 is_stmt 0 view .LVU129
 470 0014 CA60     		str	r2, [r1, #12]
 191:./app/peripheral/src/user_can.c ****     chassis_tx_message.DLC = 0x08;
 471              		.loc 1 191 5 is_stmt 1 view .LVU130
 472              		.loc 1 191 28 is_stmt 0 view .LVU131
 473 0016 0822     		movs	r2, #8
 474 0018 0A61     		str	r2, [r1, #16]
 192:./app/peripheral/src/user_can.c ****     chassis_can_send_data[0] = motor1 >> 8;
 475              		.loc 1 192 5 is_stmt 1 view .LVU132
 476              		.loc 1 192 30 is_stmt 0 view .LVU133
 477 001a 0C4A     		ldr	r2, .L20+4
 478 001c 0412     		asrs	r4, r0, #8
 479 001e 1470     		strb	r4, [r2]
 193:./app/peripheral/src/user_can.c ****     chassis_can_send_data[1] = motor1;
 480              		.loc 1 193 5 is_stmt 1 view .LVU134
 481              		.loc 1 193 30 is_stmt 0 view .LVU135
 482 0020 5070     		strb	r0, [r2, #1]
 194:./app/peripheral/src/user_can.c ****     chassis_can_send_data[2] = motor2 >> 8;
 483              		.loc 1 194 5 is_stmt 1 view .LVU136
 484              		.loc 1 194 30 is_stmt 0 view .LVU137
 485 0022 4FEA2E20 		asr	r0, lr, #8
 486              	.LVL19:
 487              		.loc 1 194 30 view .LVU138
 488 0026 9070     		strb	r0, [r2, #2]
 195:./app/peripheral/src/user_can.c ****     chassis_can_send_data[3] = motor2;
 489              		.loc 1 195 5 is_stmt 1 view .LVU139
 490              		.loc 1 195 30 is_stmt 0 view .LVU140
 491 0028 82F803E0 		strb	lr, [r2, #3]
 196:./app/peripheral/src/user_can.c ****     chassis_can_send_data[4] = motor3 >> 8;
 492              		.loc 1 196 5 is_stmt 1 view .LVU141
 493              		.loc 1 196 30 is_stmt 0 view .LVU142
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 13


 494 002c 4FEA2C20 		asr	r0, ip, #8
 495 0030 1071     		strb	r0, [r2, #4]
 197:./app/peripheral/src/user_can.c ****     chassis_can_send_data[5] = motor3;
 496              		.loc 1 197 5 is_stmt 1 view .LVU143
 497              		.loc 1 197 30 is_stmt 0 view .LVU144
 498 0032 82F805C0 		strb	ip, [r2, #5]
 198:./app/peripheral/src/user_can.c ****     chassis_can_send_data[6] = motor4 >> 8;
 499              		.loc 1 198 5 is_stmt 1 view .LVU145
 500              		.loc 1 198 30 is_stmt 0 view .LVU146
 501 0036 1812     		asrs	r0, r3, #8
 502 0038 9071     		strb	r0, [r2, #6]
 199:./app/peripheral/src/user_can.c ****     chassis_can_send_data[7] = motor4;
 503              		.loc 1 199 5 is_stmt 1 view .LVU147
 504              		.loc 1 199 30 is_stmt 0 view .LVU148
 505 003a D371     		strb	r3, [r2, #7]
 200:./app/peripheral/src/user_can.c **** 
 201:./app/peripheral/src/user_can.c ****     HAL_CAN_AddTxMessage(&CHASSIS_CAN, &chassis_tx_message, chassis_can_send_data, &send_mail_box);
 506              		.loc 1 201 5 is_stmt 1 view .LVU149
 507 003c 01AB     		add	r3, sp, #4
 508              	.LVL20:
 509              		.loc 1 201 5 is_stmt 0 view .LVU150
 510 003e 0448     		ldr	r0, .L20+8
 511 0040 FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 512              	.LVL21:
 202:./app/peripheral/src/user_can.c ****     // printf("chassis_can_send_data: %x %x %x %x %x %x %x %x \r\n", chassis_can_send_data[0], chas
 203:./app/peripheral/src/user_can.c **** }
 513              		.loc 1 203 1 view .LVU151
 514 0044 02B0     		add	sp, sp, #8
 515              	.LCFI14:
 516              		.cfi_def_cfa_offset 8
 517              		@ sp needed
 518 0046 10BD     		pop	{r4, pc}
 519              	.L21:
 520              		.align	2
 521              	.L20:
 522 0048 00000000 		.word	.LANCHOR4
 523 004c 00000000 		.word	.LANCHOR5
 524 0050 00000000 		.word	hcan1
 525              		.cfi_endproc
 526              	.LFE246:
 528              		.section	.text.get_yaw_gimbal_motor_measure_point,"ax",%progbits
 529              		.align	1
 530              		.global	get_yaw_gimbal_motor_measure_point
 531              		.syntax unified
 532              		.thumb
 533              		.thumb_func
 535              	get_yaw_gimbal_motor_measure_point:
 536              	.LFB247:
 204:./app/peripheral/src/user_can.c **** 
 205:./app/peripheral/src/user_can.c **** /**
 206:./app/peripheral/src/user_can.c ****   * @brief          return the yaw 6020 motor data point
 207:./app/peripheral/src/user_can.c ****   * @param[in]      none
 208:./app/peripheral/src/user_can.c ****   * @retval         motor data point
 209:./app/peripheral/src/user_can.c ****   */
 210:./app/peripheral/src/user_can.c **** /**
 211:./app/peripheral/src/user_can.c ****   * @brief          返回yaw 6020电机数据指针
 212:./app/peripheral/src/user_can.c ****   * @param[in]      none
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 14


 213:./app/peripheral/src/user_can.c ****   * @retval         电机数据指针
 214:./app/peripheral/src/user_can.c ****   */
 215:./app/peripheral/src/user_can.c **** const motor_measure_t *get_yaw_gimbal_motor_measure_point(void)
 216:./app/peripheral/src/user_can.c **** {
 537              		.loc 1 216 1 is_stmt 1 view -0
 538              		.cfi_startproc
 539              		@ args = 0, pretend = 0, frame = 0
 540              		@ frame_needed = 0, uses_anonymous_args = 0
 541              		@ link register save eliminated.
 217:./app/peripheral/src/user_can.c ****     return &motor_chassis[4];
 542              		.loc 1 217 5 view .LVU153
 218:./app/peripheral/src/user_can.c **** }
 543              		.loc 1 218 1 is_stmt 0 view .LVU154
 544 0000 0048     		ldr	r0, .L23
 545 0002 7047     		bx	lr
 546              	.L24:
 547              		.align	2
 548              	.L23:
 549 0004 28000000 		.word	.LANCHOR1+40
 550              		.cfi_endproc
 551              	.LFE247:
 553              		.section	.text.get_pitch_gimbal_motor_measure_point,"ax",%progbits
 554              		.align	1
 555              		.global	get_pitch_gimbal_motor_measure_point
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	get_pitch_gimbal_motor_measure_point:
 561              	.LFB248:
 219:./app/peripheral/src/user_can.c **** 
 220:./app/peripheral/src/user_can.c **** /**
 221:./app/peripheral/src/user_can.c ****   * @brief          return the pitch 6020 motor data point
 222:./app/peripheral/src/user_can.c ****   * @param[in]      none
 223:./app/peripheral/src/user_can.c ****   * @retval         motor data point
 224:./app/peripheral/src/user_can.c ****   */
 225:./app/peripheral/src/user_can.c **** /**
 226:./app/peripheral/src/user_can.c ****   * @brief          返回pitch 6020电机数据指针
 227:./app/peripheral/src/user_can.c ****   * @param[in]      none
 228:./app/peripheral/src/user_can.c ****   * @retval         电机数据指针
 229:./app/peripheral/src/user_can.c ****   */
 230:./app/peripheral/src/user_can.c **** const motor_measure_t *get_pitch_gimbal_motor_measure_point(void)
 231:./app/peripheral/src/user_can.c **** {
 562              		.loc 1 231 1 is_stmt 1 view -0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 232:./app/peripheral/src/user_can.c ****     return &motor_chassis[5];
 567              		.loc 1 232 5 view .LVU156
 233:./app/peripheral/src/user_can.c **** }
 568              		.loc 1 233 1 is_stmt 0 view .LVU157
 569 0000 0048     		ldr	r0, .L26
 570 0002 7047     		bx	lr
 571              	.L27:
 572              		.align	2
 573              	.L26:
 574 0004 32000000 		.word	.LANCHOR1+50
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 15


 575              		.cfi_endproc
 576              	.LFE248:
 578              		.section	.text.get_trigger_motor_measure_point,"ax",%progbits
 579              		.align	1
 580              		.global	get_trigger_motor_measure_point
 581              		.syntax unified
 582              		.thumb
 583              		.thumb_func
 585              	get_trigger_motor_measure_point:
 586              	.LFB249:
 234:./app/peripheral/src/user_can.c **** 
 235:./app/peripheral/src/user_can.c **** 
 236:./app/peripheral/src/user_can.c **** /**
 237:./app/peripheral/src/user_can.c ****   * @brief          return the trigger 2006 motor data point
 238:./app/peripheral/src/user_can.c ****   * @param[in]      none
 239:./app/peripheral/src/user_can.c ****   * @retval         motor data point
 240:./app/peripheral/src/user_can.c ****   */
 241:./app/peripheral/src/user_can.c **** /**
 242:./app/peripheral/src/user_can.c ****   * @brief          返回拨弹电机 2006电机数据指针
 243:./app/peripheral/src/user_can.c ****   * @param[in]      none
 244:./app/peripheral/src/user_can.c ****   * @retval         电机数据指针
 245:./app/peripheral/src/user_can.c ****   */
 246:./app/peripheral/src/user_can.c **** const motor_measure_t *get_trigger_motor_measure_point(void)
 247:./app/peripheral/src/user_can.c **** {
 587              		.loc 1 247 1 is_stmt 1 view -0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 248:./app/peripheral/src/user_can.c ****     return &motor_chassis[6];
 592              		.loc 1 248 5 view .LVU159
 249:./app/peripheral/src/user_can.c **** }
 593              		.loc 1 249 1 is_stmt 0 view .LVU160
 594 0000 0048     		ldr	r0, .L29
 595 0002 7047     		bx	lr
 596              	.L30:
 597              		.align	2
 598              	.L29:
 599 0004 3C000000 		.word	.LANCHOR1+60
 600              		.cfi_endproc
 601              	.LFE249:
 603              		.section	.text.get_chassis_motor_measure_point,"ax",%progbits
 604              		.align	1
 605              		.global	get_chassis_motor_measure_point
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 610              	get_chassis_motor_measure_point:
 611              	.LVL22:
 612              	.LFB250:
 250:./app/peripheral/src/user_can.c **** 
 251:./app/peripheral/src/user_can.c **** 
 252:./app/peripheral/src/user_can.c **** /**
 253:./app/peripheral/src/user_can.c ****   * @brief          return the chassis 3508 motor data point
 254:./app/peripheral/src/user_can.c ****   * @param[in]      i: motor number,range [0,3]
 255:./app/peripheral/src/user_can.c ****   * @retval         motor data point
 256:./app/peripheral/src/user_can.c ****   */
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 16


 257:./app/peripheral/src/user_can.c **** /**
 258:./app/peripheral/src/user_can.c ****   * @brief          返回底盘电机 3508电机数据指针
 259:./app/peripheral/src/user_can.c ****   * @param[in]      i: 电机编号,范围[0,3]
 260:./app/peripheral/src/user_can.c ****   * @retval         电机数据指针
 261:./app/peripheral/src/user_can.c ****   */
 262:./app/peripheral/src/user_can.c **** const motor_measure_t *get_chassis_motor_measure_point(uint8_t i)
 263:./app/peripheral/src/user_can.c **** {
 613              		.loc 1 263 1 is_stmt 1 view -0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 617              		@ link register save eliminated.
 264:./app/peripheral/src/user_can.c ****     return &motor_chassis[(i & 0x03)];
 618              		.loc 1 264 5 view .LVU162
 619              		.loc 1 264 30 is_stmt 0 view .LVU163
 620 0000 00F00300 		and	r0, r0, #3
 621              	.LVL23:
 622              		.loc 1 264 12 view .LVU164
 623 0004 00EB8000 		add	r0, r0, r0, lsl #2
 265:./app/peripheral/src/user_can.c **** }
 624              		.loc 1 265 1 view .LVU165
 625 0008 014B     		ldr	r3, .L32
 626 000a 03EB4000 		add	r0, r3, r0, lsl #1
 627 000e 7047     		bx	lr
 628              	.L33:
 629              		.align	2
 630              	.L32:
 631 0010 00000000 		.word	.LANCHOR1
 632              		.cfi_endproc
 633              	.LFE250:
 635              		.global	motor_chassis
 636              		.section	.bss.chassis_can_send_data,"aw",%nobits
 637              		.align	2
 638              		.set	.LANCHOR5,. + 0
 641              	chassis_can_send_data:
 642 0000 00000000 		.space	8
 642      00000000 
 643              		.section	.bss.chassis_tx_message,"aw",%nobits
 644              		.align	2
 645              		.set	.LANCHOR4,. + 0
 648              	chassis_tx_message:
 649 0000 00000000 		.space	24
 649      00000000 
 649      00000000 
 649      00000000 
 649      00000000 
 650              		.section	.bss.gimbal_can_send_data,"aw",%nobits
 651              		.align	2
 652              		.set	.LANCHOR3,. + 0
 655              	gimbal_can_send_data:
 656 0000 00000000 		.space	8
 656      00000000 
 657              		.section	.bss.gimbal_tx_message,"aw",%nobits
 658              		.align	2
 659              		.set	.LANCHOR2,. + 0
 662              	gimbal_tx_message:
 663 0000 00000000 		.space	24
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 17


 663      00000000 
 663      00000000 
 663      00000000 
 663      00000000 
 664              		.section	.bss.i.0,"aw",%nobits
 665              		.set	.LANCHOR0,. + 0
 668              	i.0:
 669 0000 00       		.space	1
 670              		.section	.bss.motor_chassis,"aw",%nobits
 671              		.align	2
 672              		.set	.LANCHOR1,. + 0
 675              	motor_chassis:
 676 0000 00000000 		.space	70
 676      00000000 
 676      00000000 
 676      00000000 
 676      00000000 
 677              		.text
 678              	.Letext0:
 679              		.file 2 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 680              		.file 3 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 681              		.file 4 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 682              		.file 5 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 683              		.file 6 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 684              		.file 7 "./Core/Inc/can.h"
 685              		.file 8 "./app/peripheral/inc/user_can.h"
 686              		.file 9 "c:\\software_user\\armgcc\\arm-none-eabi\\include\\stdio.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 user_can.c
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:20     .text.can_filter_init:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:26     .text.can_filter_init:00000000 can_filter_init
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:117    .text.can_filter_init:00000054 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:123    .rodata.HAL_CAN_RxFifo0MsgPendingCallback.str1.4:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:128    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:134    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:242    .text.HAL_CAN_RxFifo0MsgPendingCallback:000000a0 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:249    .text.CAN_cmd_gimbal:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:255    .text.CAN_cmd_gimbal:00000000 CAN_cmd_gimbal
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:341    .text.CAN_cmd_gimbal:00000048 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:348    .text.CAN_cmd_chassis_reset_ID:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:354    .text.CAN_cmd_chassis_reset_ID:00000000 CAN_cmd_chassis_reset_ID
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:423    .text.CAN_cmd_chassis_reset_ID:00000038 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:430    .text.CAN_cmd_chassis:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:436    .text.CAN_cmd_chassis:00000000 CAN_cmd_chassis
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:522    .text.CAN_cmd_chassis:00000048 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:529    .text.get_yaw_gimbal_motor_measure_point:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:535    .text.get_yaw_gimbal_motor_measure_point:00000000 get_yaw_gimbal_motor_measure_point
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:549    .text.get_yaw_gimbal_motor_measure_point:00000004 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:554    .text.get_pitch_gimbal_motor_measure_point:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:560    .text.get_pitch_gimbal_motor_measure_point:00000000 get_pitch_gimbal_motor_measure_point
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:574    .text.get_pitch_gimbal_motor_measure_point:00000004 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:579    .text.get_trigger_motor_measure_point:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:585    .text.get_trigger_motor_measure_point:00000000 get_trigger_motor_measure_point
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:599    .text.get_trigger_motor_measure_point:00000004 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:604    .text.get_chassis_motor_measure_point:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:610    .text.get_chassis_motor_measure_point:00000000 get_chassis_motor_measure_point
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:631    .text.get_chassis_motor_measure_point:00000010 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:675    .bss.motor_chassis:00000000 motor_chassis
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:637    .bss.chassis_can_send_data:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:641    .bss.chassis_can_send_data:00000000 chassis_can_send_data
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:644    .bss.chassis_tx_message:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:648    .bss.chassis_tx_message:00000000 chassis_tx_message
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:651    .bss.gimbal_can_send_data:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:655    .bss.gimbal_can_send_data:00000000 gimbal_can_send_data
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:658    .bss.gimbal_tx_message:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:662    .bss.gimbal_tx_message:00000000 gimbal_tx_message
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:668    .bss.i.0:00000000 i.0
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:669    .bss.i.0:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccVGq55H.s:671    .bss.motor_chassis:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_ConfigFilter
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_GetRxMessage
printf
HAL_CAN_AddTxMessage
