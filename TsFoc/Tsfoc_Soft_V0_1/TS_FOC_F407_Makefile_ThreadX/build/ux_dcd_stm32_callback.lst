ARM GAS  /tmp/cc2MYjXl.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_dcd_stm32_callback.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c"
  20              		.section	.text._ux_dcd_stm32_setup_status,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ux_dcd_stm32_setup_status:
  27              	.LVL0:
  28              	.LFB253:
   1:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  12:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  13:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  15:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**                                                                       */
  16:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /** USBX Component                                                        */
  17:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**   STM32 Controller Driver                                             */
  19:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  22:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  23:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #define UX_SOURCE_CODE
  24:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #define UX_DCD_STM32_SOURCE_CODE
  25:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  26:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  27:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /* Include necessary system files.  */
  28:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  29:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #include "ux_api.h"
  30:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #include "ux_dcd_stm32.h"
ARM GAS  /tmp/cc2MYjXl.s 			page 2


  31:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #include "ux_device_stack.h"
  32:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #include "ux_utility.h"
  33:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  34:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  35:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** static inline void _ux_dcd_stm32_setup_in(UX_DCD_STM32_ED * ed, UX_SLAVE_TRANSFER *transfer_request
  36:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
  37:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  38:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* The endpoint is IN.  This is important to memorize the direction for the control endpoint
  39:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         in case of a STALL. */
  40:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_direction = UX_ENDPOINT_IN;
  41:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  42:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Set the state to TX.  */
  43:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_state = UX_DCD_STM32_ED_STATE_DATA_TX;
  44:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  45:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Call the Control Transfer dispatcher.  */
  46:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     _ux_device_stack_control_request_process(transfer_request);
  47:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
  48:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  49:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** static inline void _ux_dcd_stm32_setup_out(UX_DCD_STM32_ED * ed, UX_SLAVE_TRANSFER *transfer_reques
  50:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                            PCD_HandleTypeDef *hpcd)
  51:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
  52:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  53:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Set the completion code to no error.  */
  54:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request -> ux_slave_transfer_request_completion_code =  UX_SUCCESS;
  55:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  56:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* The endpoint is IN.  This is important to memorize the direction for the control endpoint
  57:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         in case of a STALL. */
  58:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_direction = UX_ENDPOINT_IN;
  59:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  60:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* We are using a Control endpoint on a OUT transaction and there was a payload.  */
  61:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (_ux_device_stack_control_request_process(transfer_request) == UX_SUCCESS)
  62:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
  63:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  64:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Set the state to STATUS phase TX.  */
  65:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_state = UX_DCD_STM32_ED_STATE_STATUS_TX;
  66:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  67:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Arm the status transfer.  */
  68:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         HAL_PCD_EP_Transmit(hpcd, 0x00U, UX_NULL, 0U);
  69:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
  70:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
  71:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  72:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** static inline void _ux_dcd_stm32_setup_status(UX_DCD_STM32_ED * ed, UX_SLAVE_TRANSFER *transfer_req
  73:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                               PCD_HandleTypeDef *hpcd)
  74:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
  29              		.loc 1 74 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 74 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
ARM GAS  /tmp/cc2MYjXl.s 			page 3


  42 0004 1546     		mov	r5, r2
  75:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  76:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* The endpoint is IN.  This is important to memorize the direction for the control endpoint
  77:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             in case of a STALL. */
  78:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_direction = UX_ENDPOINT_IN;
  43              		.loc 1 78 5 is_stmt 1 view .LVU2
  44              		.loc 1 78 37 is_stmt 0 view .LVU3
  45 0006 8023     		movs	r3, #128
  46 0008 8372     		strb	r3, [r0, #10]
  79:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  80:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Call the Control Transfer dispatcher.  */
  81:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (_ux_device_stack_control_request_process(transfer_request) == UX_SUCCESS)
  47              		.loc 1 81 5 is_stmt 1 view .LVU4
  48              		.loc 1 81 9 is_stmt 0 view .LVU5
  49 000a 0846     		mov	r0, r1
  50              	.LVL1:
  51              		.loc 1 81 9 view .LVU6
  52 000c FFF7FEFF 		bl	_ux_device_stack_control_request_process
  53              	.LVL2:
  54              		.loc 1 81 8 discriminator 1 view .LVU7
  55 0010 00B1     		cbz	r0, .L4
  56              	.L1:
  82:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
  83:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  84:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Set the state to STATUS RX.  */
  85:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_state = UX_DCD_STM32_ED_STATE_STATUS_RX;
  86:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         HAL_PCD_EP_Transmit(hpcd, 0x00U, UX_NULL, 0U);
  87:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
  88:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
  57              		.loc 1 88 1 view .LVU8
  58 0012 38BD     		pop	{r3, r4, r5, pc}
  59              	.LVL3:
  60              	.L4:
  85:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         HAL_PCD_EP_Transmit(hpcd, 0x00U, UX_NULL, 0U);
  61              		.loc 1 85 9 is_stmt 1 view .LVU9
  85:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         HAL_PCD_EP_Transmit(hpcd, 0x00U, UX_NULL, 0U);
  62              		.loc 1 85 37 is_stmt 0 view .LVU10
  63 0014 0423     		movs	r3, #4
  64 0016 2372     		strb	r3, [r4, #8]
  86:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
  65              		.loc 1 86 9 is_stmt 1 view .LVU11
  66 0018 0023     		movs	r3, #0
  67 001a 1A46     		mov	r2, r3
  68 001c 1946     		mov	r1, r3
  69 001e 2846     		mov	r0, r5
  70 0020 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
  71              	.LVL4:
  72              		.loc 1 88 1 is_stmt 0 view .LVU12
  73 0024 F5E7     		b	.L1
  74              		.cfi_endproc
  75              	.LFE253:
  77              		.section	.text._ux_dcd_stm32_setup_out,"ax",%progbits
  78              		.align	1
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  83              	_ux_dcd_stm32_setup_out:
ARM GAS  /tmp/cc2MYjXl.s 			page 4


  84              	.LVL5:
  85              	.LFB252:
  51:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  86              		.loc 1 51 1 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  51:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  90              		.loc 1 51 1 is_stmt 0 view .LVU14
  91 0000 38B5     		push	{r3, r4, r5, lr}
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 16
  94              		.cfi_offset 3, -16
  95              		.cfi_offset 4, -12
  96              		.cfi_offset 5, -8
  97              		.cfi_offset 14, -4
  98 0002 0446     		mov	r4, r0
  99 0004 0846     		mov	r0, r1
 100              	.LVL6:
  51:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 101              		.loc 1 51 1 view .LVU15
 102 0006 1546     		mov	r5, r2
  54:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 103              		.loc 1 54 5 is_stmt 1 view .LVU16
  54:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 104              		.loc 1 54 67 is_stmt 0 view .LVU17
 105 0008 0023     		movs	r3, #0
 106 000a 4B62     		str	r3, [r1, #36]
  58:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 107              		.loc 1 58 5 is_stmt 1 view .LVU18
  58:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 108              		.loc 1 58 37 is_stmt 0 view .LVU19
 109 000c 8023     		movs	r3, #128
 110 000e A372     		strb	r3, [r4, #10]
  61:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 111              		.loc 1 61 5 is_stmt 1 view .LVU20
  61:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 112              		.loc 1 61 9 is_stmt 0 view .LVU21
 113 0010 FFF7FEFF 		bl	_ux_device_stack_control_request_process
 114              	.LVL7:
  61:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 115              		.loc 1 61 8 discriminator 1 view .LVU22
 116 0014 00B1     		cbz	r0, .L8
 117              	.L5:
  70:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 118              		.loc 1 70 1 view .LVU23
 119 0016 38BD     		pop	{r3, r4, r5, pc}
 120              	.LVL8:
 121              	.L8:
  65:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 122              		.loc 1 65 9 is_stmt 1 view .LVU24
  65:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 123              		.loc 1 65 37 is_stmt 0 view .LVU25
 124 0018 0323     		movs	r3, #3
 125 001a 2372     		strb	r3, [r4, #8]
  68:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 126              		.loc 1 68 9 is_stmt 1 view .LVU26
ARM GAS  /tmp/cc2MYjXl.s 			page 5


 127 001c 0023     		movs	r3, #0
 128 001e 1A46     		mov	r2, r3
 129 0020 1946     		mov	r1, r3
 130 0022 2846     		mov	r0, r5
 131 0024 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 132              	.LVL9:
  70:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 133              		.loc 1 70 1 is_stmt 0 view .LVU27
 134 0028 F5E7     		b	.L5
 135              		.cfi_endproc
 136              	.LFE252:
 138              		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 139              		.align	1
 140              		.global	HAL_PCD_SetupStageCallback
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	HAL_PCD_SetupStageCallback:
 146              	.LVL10:
 147              	.LFB254:
  89:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
  90:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
  91:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
  92:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
  93:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                                RELEASE       */
  94:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
  95:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_dcd_stm32_setup_isr_pending                      PORTABLE C     */
  96:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                            6.1.10      */
  97:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
  98:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
  99:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 100:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 101:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 102:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 103:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles pending control ISR from HAL driver.          */
 104:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 105:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 106:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 107:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 108:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 109:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 110:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 111:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 112:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 113:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 114:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 115:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_device_stack_control_request_process                            */
 116:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                          Process control request       */
 117:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Transmit                   Transmit data                 */
 118:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Receive                    Receive data                  */
 119:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 120:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 121:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 122:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 123:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 124:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 125:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
ARM GAS  /tmp/cc2MYjXl.s 			page 6


 126:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 127:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 128:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Initial Version 6.1.10        */
 129:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 130:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 131:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** VOID     _ux_dcd_stm32_setup_isr_pending(UX_DCD_STM32 *dcd_stm32)
 132:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 133:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_INTERRUPT_SAVE_AREA
 134:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32_ED         *ed;
 135:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_TRANSFER       *transfer_request;
 136:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** ULONG                   ed_status;
 137:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 138:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Fetch the address of the physical endpoint.  */
 139:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed =  &dcd_stm32 -> ux_dcd_stm32_ed[0];
 140:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 141:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the transfer request.  */
 142:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request =  &ed -> ux_dcd_stm32_ed_endpoint -> ux_slave_endpoint_transfer_request;
 143:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 144:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     UX_DISABLE
 145:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 146:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the ED status.  */
 147:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed_status = ed -> ux_dcd_stm32_ed_status;
 148:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 149:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Check if Task is pending to avoid re-entry.  */
 150:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (ed_status & UX_DCD_STM32_ED_STATUS_TASK_PENDING)
 151:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 152:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         UX_RESTORE
 153:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         return;
 154:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 155:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 156:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Check if SETUP ISR is pending.  */
 157:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed_status &= UX_DCD_STM32_ED_STATUS_SETUP;
 158:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (ed_status == 0)
 159:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 160:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         UX_RESTORE
 161:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         return;
 162:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 163:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_status &= ~UX_DCD_STM32_ED_STATUS_SETUP;
 164:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_TASK_PENDING;
 165:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     UX_RESTORE
 166:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 167:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Handle different SETUP cases.  */
 168:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     switch(ed_status)
 169:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 170:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     case UX_DCD_STM32_ED_STATUS_SETUP_IN:
 171:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_dcd_stm32_setup_in(ed, transfer_request);
 172:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 173:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 174:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     case UX_DCD_STM32_ED_STATUS_SETUP_OUT:
 175:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_dcd_stm32_setup_out(ed, transfer_request, dcd_stm32 -> pcd_handle);
 176:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 177:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 178:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     default: /* UX_DCD_STM32_ED_STATUS_SETUP_STATUS  */
 179:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_dcd_stm32_setup_status(ed, transfer_request, dcd_stm32 -> pcd_handle);
 180:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 181:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 182:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
ARM GAS  /tmp/cc2MYjXl.s 			page 7


 183:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Task is done.  */
 184:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_status &= ~UX_DCD_STM32_ED_STATUS_TASK_PENDING;
 185:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 186:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 187:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 188:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 189:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 190:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                               RELEASE        */
 191:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 192:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_SetupStageCallback                          PORTABLE C      */
 193:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                           6.1.10       */
 194:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
 195:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 196:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 197:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 198:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 199:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 200:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles callback from HAL driver.                     */
 201:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 202:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 203:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 204:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 205:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 206:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 207:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 208:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 209:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 210:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 211:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 212:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_device_stack_control_request_process                            */
 213:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                          Process control request       */
 214:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Transmit                   Transmit data                 */
 215:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Receive                    Receive data                  */
 216:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 217:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 218:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 219:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 220:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 221:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 222:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 223:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 224:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 225:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  09-30-2020     Chaoqiong Xiao           Initial Version 6.1           */
 226:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 227:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            added standalone support,   */
 228:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            resulting in version 6.1.10 */
 229:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 230:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 231:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
 232:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 148              		.loc 1 232 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		.loc 1 232 1 is_stmt 0 view .LVU29
 153 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 154              	.LCFI2:
ARM GAS  /tmp/cc2MYjXl.s 			page 8


 155              		.cfi_def_cfa_offset 24
 156              		.cfi_offset 4, -24
 157              		.cfi_offset 5, -20
 158              		.cfi_offset 6, -16
 159              		.cfi_offset 7, -12
 160              		.cfi_offset 8, -8
 161              		.cfi_offset 14, -4
 162 0004 0646     		mov	r6, r0
 233:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 234:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_DCD            *dcd;
 163              		.loc 1 234 1 is_stmt 1 view .LVU30
 235:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32            *dcd_stm32;
 164              		.loc 1 235 1 view .LVU31
 236:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32_ED         *ed;
 165              		.loc 1 236 1 view .LVU32
 237:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_TRANSFER       *transfer_request;
 166              		.loc 1 237 1 view .LVU33
 238:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_ENDPOINT       *endpoint;
 167              		.loc 1 238 1 view .LVU34
 239:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 240:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 241:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the DCD.  */
 242:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd =  &_ux_system_slave -> ux_system_slave_dcd;
 168              		.loc 1 242 5 view .LVU35
 169              		.loc 1 242 30 is_stmt 0 view .LVU36
 170 0006 274B     		ldr	r3, .L18
 171 0008 1B68     		ldr	r3, [r3]
 172              	.LVL11:
 243:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 244:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the STM32 DCD.  */
 245:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd_stm32 = (UX_DCD_STM32 *) dcd -> ux_slave_dcd_controller_hardware;
 173              		.loc 1 245 5 is_stmt 1 view .LVU37
 174              		.loc 1 245 15 is_stmt 0 view .LVU38
 175 000a DD69     		ldr	r5, [r3, #28]
 176              	.LVL12:
 246:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 247:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Fetch the address of the physical endpoint.  */
 248:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed =  &dcd_stm32 -> ux_dcd_stm32_ed[0];
 177              		.loc 1 248 5 is_stmt 1 view .LVU39
 249:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 250:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the transfer request.  */
 251:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request =  &ed -> ux_dcd_stm32_ed_endpoint -> ux_slave_endpoint_transfer_request;
 178              		.loc 1 251 5 view .LVU40
 179              		.loc 1 251 29 is_stmt 0 view .LVU41
 180 000c 6C68     		ldr	r4, [r5, #4]
 181              		.loc 1 251 22 view .LVU42
 182 000e 04F13007 		add	r7, r4, #48
 183              	.LVL13:
 252:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 253:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Copy setup data to transfer request.  */
 254:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     _ux_utility_memory_copy(transfer_request->ux_slave_transfer_request_setup, hpcd -> Setup, UX_SE
 184              		.loc 1 254 5 is_stmt 1 view .LVU43
 185 0012 0822     		movs	r2, #8
 186 0014 00F29C41 		addw	r1, r0, #1180
 187 0018 04F18400 		add	r0, r4, #132
 188              	.LVL14:
 189              		.loc 1 254 5 is_stmt 0 view .LVU44
ARM GAS  /tmp/cc2MYjXl.s 			page 9


 190 001c FFF7FEFF 		bl	_ux_utility_memory_copy
 191              	.LVL15:
 255:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 256:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Clear the length of the data received.  */
 257:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request -> ux_slave_transfer_request_actual_length =  0;
 192              		.loc 1 257 5 is_stmt 1 view .LVU45
 193              		.loc 1 257 65 is_stmt 0 view .LVU46
 194 0020 0023     		movs	r3, #0
 195 0022 A364     		str	r3, [r4, #72]
 258:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 259:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Mark the phase as SETUP.  */
 260:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request -> ux_slave_transfer_request_type =  UX_TRANSFER_PHASE_SETUP;
 196              		.loc 1 260 5 is_stmt 1 view .LVU47
 197              		.loc 1 260 56 is_stmt 0 view .LVU48
 198 0024 0122     		movs	r2, #1
 199 0026 6263     		str	r2, [r4, #52]
 261:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 262:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Mark the transfer as successful.  */
 263:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request -> ux_slave_transfer_request_completion_code =  UX_SUCCESS;
 200              		.loc 1 263 5 is_stmt 1 view .LVU49
 201              		.loc 1 263 67 is_stmt 0 view .LVU50
 202 0028 6365     		str	r3, [r4, #84]
 264:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 265:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Set the status of the endpoint to not stalled.  */
 266:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed -> ux_dcd_stm32_ed_status &= ~(UX_DCD_STM32_ED_STATUS_STALLED |
 203              		.loc 1 266 5 is_stmt 1 view .LVU51
 204              		.loc 1 266 8 is_stmt 0 view .LVU52
 205 002a AB68     		ldr	r3, [r5, #8]
 206              		.loc 1 266 34 view .LVU53
 207 002c 23F00E03 		bic	r3, r3, #14
 208 0030 AB60     		str	r3, [r5, #8]
 267:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                       UX_DCD_STM32_ED_STATUS_TRANSFER |
 268:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                       UX_DCD_STM32_ED_STATUS_DONE);
 269:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 270:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Check if the transaction is IN.  */
 271:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (*transfer_request -> ux_slave_transfer_request_setup & UX_REQUEST_IN)
 209              		.loc 1 271 5 is_stmt 1 view .LVU54
 210              		.loc 1 271 9 is_stmt 0 view .LVU55
 211 0032 94F98430 		ldrsb	r3, [r4, #132]
 212              		.loc 1 271 8 view .LVU56
 213 0036 002B     		cmp	r3, #0
 214 0038 1FDB     		blt	.L15
 215 003a 05F10408 		add	r8, r5, #4
 216              	.LVL16:
 272:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 273:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 274:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_SETUP_IN;
 275:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #else
 276:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_dcd_stm32_setup_in(ed, transfer_request);
 277:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 278:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 279:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     else
 280:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 281:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 282:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* The endpoint is OUT.  This is important to memorize the direction for the control endpoi
 283:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****            in case of a STALL. */
 284:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_direction  = UX_ENDPOINT_OUT;
ARM GAS  /tmp/cc2MYjXl.s 			page 10


 217              		.loc 1 284 9 is_stmt 1 view .LVU57
 218              		.loc 1 284 42 is_stmt 0 view .LVU58
 219 003e 0023     		movs	r3, #0
 220 0040 AB73     		strb	r3, [r5, #14]
 285:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 286:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* We are in a OUT transaction. Check if there is a data payload. If so, wait for the paylo
 287:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****            to be delivered.  */
 288:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         if (*(transfer_request -> ux_slave_transfer_request_setup + 6) == 0 &&
 221              		.loc 1 288 9 is_stmt 1 view .LVU59
 222              		.loc 1 288 13 is_stmt 0 view .LVU60
 223 0042 94F88A30 		ldrb	r3, [r4, #138]	@ zero_extendqisi2
 224              		.loc 1 288 12 view .LVU61
 225 0046 13B9     		cbnz	r3, .L12
 289:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             *(transfer_request -> ux_slave_transfer_request_setup + 7) == 0)
 226              		.loc 1 289 13 view .LVU62
 227 0048 94F88B30 		ldrb	r3, [r4, #139]	@ zero_extendqisi2
 288:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             *(transfer_request -> ux_slave_transfer_request_setup + 7) == 0)
 228              		.loc 1 288 77 discriminator 1 view .LVU63
 229 004c E3B1     		cbz	r3, .L16
 230              	.L12:
 290:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         {
 291:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 292:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_SETUP_STATUS;
 293:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #else
 294:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             _ux_dcd_stm32_setup_status(ed, transfer_request, hpcd);
 295:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 296:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         }
 297:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         else
 298:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         {
 299:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 300:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Get the pointer to the logical endpoint from the transfer request.  */
 301:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             endpoint =  transfer_request -> ux_slave_transfer_request_endpoint;
 231              		.loc 1 301 13 is_stmt 1 view .LVU64
 232              		.loc 1 301 22 is_stmt 0 view .LVU65
 233 004e A76B     		ldr	r7, [r4, #56]
 234              	.LVL17:
 302:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 303:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Get the length we expect from the SETUP packet.  */
 304:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_request -> ux_slave_transfer_request_requested_length = _ux_utility_short_get(
 235              		.loc 1 304 13 is_stmt 1 view .LVU66
 236              		.loc 1 304 78 is_stmt 0 view .LVU67
 237 0050 04F18A00 		add	r0, r4, #138
 238 0054 FFF7FEFF 		bl	_ux_utility_short_get
 239              	.LVL18:
 240 0058 0346     		mov	r3, r0
 241              		.loc 1 304 76 discriminator 1 view .LVU68
 242 005a 6064     		str	r0, [r4, #68]
 305:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 306:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Check if we have enough space for the request.  */
 307:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             if (transfer_request -> ux_slave_transfer_request_requested_length > UX_SLAVE_REQUEST_C
 243              		.loc 1 307 13 is_stmt 1 view .LVU69
 244              		.loc 1 307 16 is_stmt 0 view .LVU70
 245 005c B0F5807F 		cmp	r0, #256
 246 0060 18D8     		bhi	.L17
 308:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 309:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 310:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* No space available, stall the endpoint.  */
ARM GAS  /tmp/cc2MYjXl.s 			page 11


 311:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 _ux_dcd_stm32_endpoint_stall(dcd_stm32, endpoint);
 312:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 313:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Next phase is a SETUP.  */
 314:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 ed -> ux_dcd_stm32_ed_state =  UX_DCD_STM32_ED_STATE_IDLE;
 315:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 316:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 317:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_SETUP_STATUS;
 318:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 319:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 320:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* We are done.  */
 321:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 return;
 322:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 323:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             else
 324:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 325:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 326:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Reset what we have received so far.  */
 327:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_actual_length =  0;
 247              		.loc 1 327 17 is_stmt 1 view .LVU71
 248              		.loc 1 327 77 is_stmt 0 view .LVU72
 249 0062 0022     		movs	r2, #0
 250 0064 A264     		str	r2, [r4, #72]
 328:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 329:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* And reprogram the current buffer address to the beginning of the buffer.  */
 330:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_current_data_pointer =  transfer_requ
 251              		.loc 1 330 17 is_stmt 1 view .LVU73
 252              		.loc 1 330 104 is_stmt 0 view .LVU74
 253 0066 E26B     		ldr	r2, [r4, #60]
 254              		.loc 1 330 84 view .LVU75
 255 0068 2264     		str	r2, [r4, #64]
 331:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 332:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Receive data.  */
 333:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 HAL_PCD_EP_Receive(hpcd,
 256              		.loc 1 333 17 is_stmt 1 view .LVU76
 257 006a 397D     		ldrb	r1, [r7, #20]	@ zero_extendqisi2
 258 006c 3046     		mov	r0, r6
 259 006e FFF7FEFF 		bl	HAL_PCD_EP_Receive
 260              	.LVL19:
 334:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint -> ux_slave_endpoint_descriptor.bEndpointAddress,
 335:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             transfer_request -> ux_slave_transfer_request_current_data_pointer,
 336:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             transfer_request -> ux_slave_transfer_request_requested_length);
 337:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 338:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Set the state to RX.  */
 339:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 ed -> ux_dcd_stm32_ed_state =  UX_DCD_STM32_ED_STATE_DATA_RX;
 261              		.loc 1 339 17 view .LVU77
 262              		.loc 1 339 45 is_stmt 0 view .LVU78
 263 0072 0223     		movs	r3, #2
 264 0074 2B73     		strb	r3, [r5, #12]
 265              	.LVL20:
 266              	.L9:
 340:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 341:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         }
 342:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 343:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 267              		.loc 1 343 1 view .LVU79
 268 0076 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 269              	.LVL21:
 270              	.L15:
ARM GAS  /tmp/cc2MYjXl.s 			page 12


 276:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 271              		.loc 1 276 9 is_stmt 1 view .LVU80
 272              	.LBB4:
 273              	.LBI4:
  35:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 274              		.loc 1 35 20 view .LVU81
 275              	.LBB5:
  40:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 276              		.loc 1 40 5 view .LVU82
  40:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 277              		.loc 1 40 37 is_stmt 0 view .LVU83
 278 007a 8023     		movs	r3, #128
 279 007c AB73     		strb	r3, [r5, #14]
  43:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 280              		.loc 1 43 5 is_stmt 1 view .LVU84
  43:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 281              		.loc 1 43 33 is_stmt 0 view .LVU85
 282 007e 2A73     		strb	r2, [r5, #12]
  46:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 283              		.loc 1 46 5 is_stmt 1 view .LVU86
 284 0080 3846     		mov	r0, r7
 285 0082 FFF7FEFF 		bl	_ux_device_stack_control_request_process
 286              	.LVL22:
  47:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 287              		.loc 1 47 1 is_stmt 0 view .LVU87
 288 0086 F6E7     		b	.L9
 289              	.LVL23:
 290              	.L16:
  47:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 291              		.loc 1 47 1 view .LVU88
 292              	.LBE5:
 293              	.LBE4:
 294:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 294              		.loc 1 294 13 is_stmt 1 view .LVU89
 295 0088 3246     		mov	r2, r6
 296 008a 3946     		mov	r1, r7
 297 008c 4046     		mov	r0, r8
 298 008e FFF7FEFF 		bl	_ux_dcd_stm32_setup_status
 299              	.LVL24:
 300 0092 F0E7     		b	.L9
 301              	.LVL25:
 302              	.L17:
 311:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 303              		.loc 1 311 17 view .LVU90
 304 0094 3946     		mov	r1, r7
 305 0096 2846     		mov	r0, r5
 306 0098 FFF7FEFF 		bl	_ux_dcd_stm32_endpoint_stall
 307              	.LVL26:
 314:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 308              		.loc 1 314 17 view .LVU91
 314:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 309              		.loc 1 314 45 is_stmt 0 view .LVU92
 310 009c 0023     		movs	r3, #0
 311 009e 2B73     		strb	r3, [r5, #12]
 321:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 312              		.loc 1 321 17 is_stmt 1 view .LVU93
 313 00a0 E9E7     		b	.L9
ARM GAS  /tmp/cc2MYjXl.s 			page 13


 314              	.L19:
 315 00a2 00BF     		.align	2
 316              	.L18:
 317 00a4 00000000 		.word	_ux_system_slave
 318              		.cfi_endproc
 319              	.LFE254:
 321              		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 322              		.align	1
 323              		.global	HAL_PCD_DataInStageCallback
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	HAL_PCD_DataInStageCallback:
 329              	.LVL27:
 330              	.LFB255:
 344:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 345:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 346:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 347:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 348:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                               RELEASE        */
 349:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 350:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_DataInStageCallback                         PORTABLE C      */
 351:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                           6.1.10       */
 352:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
 353:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 354:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 355:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 356:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 357:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 358:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles callback from HAL driver.                     */
 359:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 360:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 361:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 362:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 363:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    epnum                                 Endpoint number               */
 364:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 365:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 366:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 367:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 368:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 369:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 370:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 371:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_utility_semaphore_put             Put semaphore                 */
 372:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Transmit                   Transmit data                 */
 373:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Receive                    Receive data                  */
 374:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 375:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 376:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 377:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 378:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 379:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 380:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 381:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 382:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 383:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  09-30-2020     Chaoqiong Xiao           Initial Version 6.1           */
 384:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 385:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            added standalone support,   */
ARM GAS  /tmp/cc2MYjXl.s 			page 14


 386:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            added bi-dir EP support,    */
 387:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            resulting in version 6.1.10 */
 388:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 389:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 390:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 391:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 331              		.loc 1 391 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 335              		.loc 1 391 1 is_stmt 0 view .LVU95
 336 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 337              	.LCFI3:
 338              		.cfi_def_cfa_offset 32
 339              		.cfi_offset 3, -32
 340              		.cfi_offset 4, -28
 341              		.cfi_offset 5, -24
 342              		.cfi_offset 6, -20
 343              		.cfi_offset 7, -16
 344              		.cfi_offset 8, -12
 345              		.cfi_offset 9, -8
 346              		.cfi_offset 14, -4
 392:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 393:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_DCD            *dcd;
 347              		.loc 1 393 1 is_stmt 1 view .LVU96
 394:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32            *dcd_stm32;
 348              		.loc 1 394 1 view .LVU97
 395:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32_ED         *ed;
 349              		.loc 1 395 1 view .LVU98
 396:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_TRANSFER       *transfer_request;
 350              		.loc 1 396 1 view .LVU99
 397:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** ULONG                   transfer_length;
 351              		.loc 1 397 1 view .LVU100
 398:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_ENDPOINT       *endpoint;
 352              		.loc 1 398 1 view .LVU101
 399:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 400:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 401:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the DCD.  */
 402:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd =  &_ux_system_slave -> ux_system_slave_dcd;
 353              		.loc 1 402 5 view .LVU102
 354              		.loc 1 402 30 is_stmt 0 view .LVU103
 355 0004 2E4B     		ldr	r3, .L31
 356 0006 1B68     		ldr	r3, [r3]
 357              	.LVL28:
 403:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 404:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the STM32 DCD.  */
 405:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd_stm32 = (UX_DCD_STM32 *) dcd -> ux_slave_dcd_controller_hardware;
 358              		.loc 1 405 5 is_stmt 1 view .LVU104
 359              		.loc 1 405 15 is_stmt 0 view .LVU105
 360 0008 DF69     		ldr	r7, [r3, #28]
 361              	.LVL29:
 406:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 407:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Fetch the address of the physical endpoint.  */
 408:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_BIDIRECTIONAL_ENDPOINT_SUPPORT)
 409:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if ((epnum & 0xF) != 0)
 410:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed =  &dcd_stm32 -> ux_dcd_stm32_ed_in[epnum & 0xF];
 411:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     else
ARM GAS  /tmp/cc2MYjXl.s 			page 15


 412:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif /* defined(UX_DEVICE_BIDIRECTIONAL_ENDPOINT_SUPPORT) */
 413:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed =  &dcd_stm32 -> ux_dcd_stm32_ed[epnum & 0xF];
 362              		.loc 1 413 5 is_stmt 1 view .LVU106
 363              		.loc 1 413 47 is_stmt 0 view .LVU107
 364 000a 01F00F05 		and	r5, r1, #15
 365              	.LVL30:
 414:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 415:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the transfer request.  */
 416:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request =  &(ed -> ux_dcd_stm32_ed_endpoint -> ux_slave_endpoint_transfer_request);
 366              		.loc 1 416 5 is_stmt 1 view .LVU108
 367              		.loc 1 416 30 is_stmt 0 view .LVU109
 368 000e 05EB4503 		add	r3, r5, r5, lsl #1
 369              	.LVL31:
 370              		.loc 1 416 30 view .LVU110
 371 0012 07EB8303 		add	r3, r7, r3, lsl #2
 372 0016 5C68     		ldr	r4, [r3, #4]
 373              	.LVL32:
 417:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 418:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Endpoint 0 is different.  */
 419:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (epnum == 0U)
 374              		.loc 1 419 5 is_stmt 1 view .LVU111
 375              		.loc 1 419 8 is_stmt 0 view .LVU112
 376 0018 0029     		cmp	r1, #0
 377 001a 46D1     		bne	.L21
 378 001c 0646     		mov	r6, r0
 379 001e 04F13008 		add	r8, r4, #48
 380              	.LVL33:
 420:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 421:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 422:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Get the pointer to the logical endpoint from the transfer request.  */
 423:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         endpoint =  transfer_request -> ux_slave_transfer_request_endpoint;
 381              		.loc 1 423 9 is_stmt 1 view .LVU113
 382              		.loc 1 423 18 is_stmt 0 view .LVU114
 383 0022 D4F83890 		ldr	r9, [r4, #56]
 384              	.LVL34:
 424:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 425:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Check if we need to send data again on control endpoint. */
 426:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         if (ed -> ux_dcd_stm32_ed_state == UX_DCD_STM32_ED_STATE_DATA_TX)
 385              		.loc 1 426 9 is_stmt 1 view .LVU115
 386              		.loc 1 426 16 is_stmt 0 view .LVU116
 387 0026 05EB4503 		add	r3, r5, r5, lsl #1
 388 002a 07EB8303 		add	r3, r7, r3, lsl #2
 389 002e 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 390              		.loc 1 426 12 view .LVU117
 391 0030 012B     		cmp	r3, #1
 392 0032 01D0     		beq	.L29
 393              	.LVL35:
 394              	.L20:
 427:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         {
 428:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 429:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Arm Status transfer.  */
 430:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             HAL_PCD_EP_Receive(hpcd, 0, 0, 0);
 431:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 432:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Are we done with this transfer ? */
 433:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             if (transfer_request -> ux_slave_transfer_request_in_transfer_length <=
 434:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize)
 435:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
ARM GAS  /tmp/cc2MYjXl.s 			page 16


 436:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 437:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* There is no data to send but we may need to send a Zero Length Packet.  */
 438:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 if (transfer_request -> ux_slave_transfer_request_force_zlp ==  UX_TRUE)
 439:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 440:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 441:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Arm a ZLP packet on IN.  */
 442:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     HAL_PCD_EP_Transmit(hpcd,
 443:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint->ux_slave_endpoint_descriptor.bEndpointAddress, 0, 0);
 444:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 445:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Reset the ZLP condition.  */
 446:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_force_zlp =  UX_FALSE;
 447:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 448:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 449:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 else
 450:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 451:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 452:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Set the completion code to no error.  */
 453:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_completion_code =  UX_SUCCESS;
 454:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 455:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* The transfer is completed.  */
 456:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_status =  UX_TRANSFER_STATUS_COMP
 457:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_actual_length =
 458:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_requested_length;
 459:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 460:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 461:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 462:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Control status phase done.  */
 463:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_DONE;
 464:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 465:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 466:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* We are using a Control endpoint, if there is a callback, invoke it. We are s
 467:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     if (transfer_request -> ux_slave_transfer_request_completion_function)
 468:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_completion_function (transfer
 469:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 470:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* State is now STATUS RX.  */
 471:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     ed -> ux_dcd_stm32_ed_state = UX_DCD_STM32_ED_STATE_STATUS_RX;
 472:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 473:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 474:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             else
 475:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 476:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 477:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Get the size of the transfer.  */
 478:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_length = transfer_request -> ux_slave_transfer_request_in_transfer_length 
 479:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 480:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Check if the endpoint size is bigger that data requested. */
 481:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 if (transfer_length > endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize)
 482:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 483:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 484:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Adjust the transfer size.  */
 485:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_length =  endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize;
 486:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 487:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 488:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Adjust the data pointer.  */
 489:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_current_data_pointer += endpoint -> u
 490:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 491:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Adjust the transfer length remaining.  */
 492:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_in_transfer_length -= transfer_length
ARM GAS  /tmp/cc2MYjXl.s 			page 17


 493:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 494:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Transmit data.  */
 495:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 HAL_PCD_EP_Transmit(hpcd,
 496:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint->ux_slave_endpoint_descriptor.bEndpointAddress,
 497:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             transfer_request->ux_slave_transfer_request_current_data_pointer,
 498:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             transfer_length);
 499:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 500:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         }
 501:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 502:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     else
 503:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 504:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 505:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Set the completion code to no error.  */
 506:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_completion_code =  UX_SUCCESS;
 507:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 508:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* The transfer is completed.  */
 509:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_status =  UX_TRANSFER_STATUS_COMPLETED;
 510:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_actual_length =
 511:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_request -> ux_slave_transfer_request_requested_length;
 512:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 513:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 514:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_DONE;
 515:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #else
 516:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 517:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Non control endpoint operation, use semaphore.  */
 518:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_utility_semaphore_put(&transfer_request -> ux_slave_transfer_request_semaphore);
 519:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif /* defined(UX_DEVICE_STANDALONE) */
 520:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 521:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 395              		.loc 1 521 1 view .LVU118
 396 0034 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 397              	.LVL36:
 398              	.L29:
 430:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 399              		.loc 1 430 13 is_stmt 1 view .LVU119
 400 0038 0023     		movs	r3, #0
 401 003a 1A46     		mov	r2, r3
 402 003c 1946     		mov	r1, r3
 403              	.LVL37:
 430:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 404              		.loc 1 430 13 is_stmt 0 view .LVU120
 405 003e FFF7FEFF 		bl	HAL_PCD_EP_Receive
 406              	.LVL38:
 433:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize)
 407              		.loc 1 433 13 is_stmt 1 view .LVU121
 433:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize)
 408              		.loc 1 433 34 is_stmt 0 view .LVU122
 409 0042 E16C     		ldr	r1, [r4, #76]
 434:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 410              		.loc 1 434 57 view .LVU123
 411 0044 D9F81C00 		ldr	r0, [r9, #28]
 433:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize)
 412              		.loc 1 433 16 view .LVU124
 413 0048 8142     		cmp	r1, r0
 414 004a 1FD8     		bhi	.L23
 438:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 415              		.loc 1 438 17 is_stmt 1 view .LVU125
ARM GAS  /tmp/cc2MYjXl.s 			page 18


 438:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 416              		.loc 1 438 38 is_stmt 0 view .LVU126
 417 004c D4F88030 		ldr	r3, [r4, #128]
 438:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 418              		.loc 1 438 20 view .LVU127
 419 0050 012B     		cmp	r3, #1
 420 0052 10D0     		beq	.L30
 453:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 421              		.loc 1 453 21 is_stmt 1 view .LVU128
 453:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 422              		.loc 1 453 83 is_stmt 0 view .LVU129
 423 0054 0023     		movs	r3, #0
 424 0056 6365     		str	r3, [r4, #84]
 456:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_actual_length =
 425              		.loc 1 456 21 is_stmt 1 view .LVU130
 456:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_actual_length =
 426              		.loc 1 456 74 is_stmt 0 view .LVU131
 427 0058 0223     		movs	r3, #2
 428 005a 2363     		str	r3, [r4, #48]
 457:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_requested_length;
 429              		.loc 1 457 21 is_stmt 1 view .LVU132
 458:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 430              		.loc 1 458 42 is_stmt 0 view .LVU133
 431 005c 636C     		ldr	r3, [r4, #68]
 457:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_requested_length;
 432              		.loc 1 457 81 view .LVU134
 433 005e A364     		str	r3, [r4, #72]
 467:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_completion_function (transfer
 434              		.loc 1 467 21 is_stmt 1 view .LVU135
 467:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_completion_function (transfer
 435              		.loc 1 467 42 is_stmt 0 view .LVU136
 436 0060 E36D     		ldr	r3, [r4, #92]
 467:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                         transfer_request -> ux_slave_transfer_request_completion_function (transfer
 437              		.loc 1 467 24 view .LVU137
 438 0062 0BB1     		cbz	r3, .L25
 468:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 439              		.loc 1 468 25 is_stmt 1 view .LVU138
 440 0064 4046     		mov	r0, r8
 441 0066 9847     		blx	r3
 442              	.LVL39:
 443              	.L25:
 471:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 444              		.loc 1 471 21 view .LVU139
 471:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 445              		.loc 1 471 49 is_stmt 0 view .LVU140
 446 0068 05EB4505 		add	r5, r5, r5, lsl #1
 447              	.LVL40:
 471:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 448              		.loc 1 471 49 view .LVU141
 449 006c 07EB8507 		add	r7, r7, r5, lsl #2
 450              	.LVL41:
 471:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 451              		.loc 1 471 49 view .LVU142
 452 0070 0423     		movs	r3, #4
 453 0072 3B73     		strb	r3, [r7, #12]
 454 0074 DEE7     		b	.L20
 455              	.LVL42:
ARM GAS  /tmp/cc2MYjXl.s 			page 19


 456              	.L30:
 442:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint->ux_slave_endpoint_descriptor.bEndpointAddress, 0, 0);
 457              		.loc 1 442 21 is_stmt 1 view .LVU143
 458 0076 0023     		movs	r3, #0
 459 0078 1A46     		mov	r2, r3
 460 007a 99F81410 		ldrb	r1, [r9, #20]	@ zero_extendqisi2
 461 007e 3046     		mov	r0, r6
 462 0080 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 463              	.LVL43:
 446:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 464              		.loc 1 446 21 view .LVU144
 446:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 465              		.loc 1 446 77 is_stmt 0 view .LVU145
 466 0084 0023     		movs	r3, #0
 467 0086 C4F88030 		str	r3, [r4, #128]
 468 008a D3E7     		b	.L20
 469              	.L23:
 478:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 470              		.loc 1 478 17 is_stmt 1 view .LVU146
 478:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 471              		.loc 1 478 33 is_stmt 0 view .LVU147
 472 008c 0B1A     		subs	r3, r1, r0
 473              	.LVL44:
 481:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 474              		.loc 1 481 17 is_stmt 1 view .LVU148
 481:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 475              		.loc 1 481 20 is_stmt 0 view .LVU149
 476 008e 9842     		cmp	r0, r3
 477 0090 00D2     		bcs	.L26
 485:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 478              		.loc 1 485 37 view .LVU150
 479 0092 0346     		mov	r3, r0
 480              	.LVL45:
 481              	.L26:
 489:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 482              		.loc 1 489 17 is_stmt 1 view .LVU151
 489:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 483              		.loc 1 489 34 is_stmt 0 view .LVU152
 484 0094 226C     		ldr	r2, [r4, #64]
 489:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 485              		.loc 1 489 84 view .LVU153
 486 0096 0244     		add	r2, r2, r0
 487 0098 2264     		str	r2, [r4, #64]
 492:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 488              		.loc 1 492 17 is_stmt 1 view .LVU154
 492:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 489              		.loc 1 492 82 is_stmt 0 view .LVU155
 490 009a C91A     		subs	r1, r1, r3
 491 009c E164     		str	r1, [r4, #76]
 495:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint->ux_slave_endpoint_descriptor.bEndpointAddress,
 492              		.loc 1 495 17 is_stmt 1 view .LVU156
 493 009e 99F81410 		ldrb	r1, [r9, #20]	@ zero_extendqisi2
 494 00a2 3046     		mov	r0, r6
 495 00a4 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 496              	.LVL46:
 495:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                             endpoint->ux_slave_endpoint_descriptor.bEndpointAddress,
 497              		.loc 1 495 17 is_stmt 0 view .LVU157
ARM GAS  /tmp/cc2MYjXl.s 			page 20


 498 00a8 C4E7     		b	.L20
 499              	.LVL47:
 500              	.L21:
 506:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 501              		.loc 1 506 9 is_stmt 1 view .LVU158
 506:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 502              		.loc 1 506 71 is_stmt 0 view .LVU159
 503 00aa 0023     		movs	r3, #0
 504 00ac 6365     		str	r3, [r4, #84]
 509:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_actual_length =
 505              		.loc 1 509 9 is_stmt 1 view .LVU160
 509:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_actual_length =
 506              		.loc 1 509 62 is_stmt 0 view .LVU161
 507 00ae 0223     		movs	r3, #2
 508 00b0 2363     		str	r3, [r4, #48]
 510:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_request -> ux_slave_transfer_request_requested_length;
 509              		.loc 1 510 9 is_stmt 1 view .LVU162
 511:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 510              		.loc 1 511 30 is_stmt 0 view .LVU163
 511 00b2 636C     		ldr	r3, [r4, #68]
 510:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_request -> ux_slave_transfer_request_requested_length;
 512              		.loc 1 510 69 view .LVU164
 513 00b4 A364     		str	r3, [r4, #72]
 518:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif /* defined(UX_DEVICE_STANDALONE) */
 514              		.loc 1 518 9 is_stmt 1 view .LVU165
 515 00b6 04F16000 		add	r0, r4, #96
 516              	.LVL48:
 518:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif /* defined(UX_DEVICE_STANDALONE) */
 517              		.loc 1 518 9 is_stmt 0 view .LVU166
 518 00ba FFF7FEFF 		bl	_ux_utility_semaphore_put
 519              	.LVL49:
 520              		.loc 1 521 1 view .LVU167
 521 00be B9E7     		b	.L20
 522              	.L32:
 523              		.align	2
 524              	.L31:
 525 00c0 00000000 		.word	_ux_system_slave
 526              		.cfi_endproc
 527              	.LFE255:
 529              		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 530              		.align	1
 531              		.global	HAL_PCD_DataOutStageCallback
 532              		.syntax unified
 533              		.thumb
 534              		.thumb_func
 536              	HAL_PCD_DataOutStageCallback:
 537              	.LVL50:
 538              	.LFB256:
 522:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 523:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 524:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 525:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 526:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                               RELEASE        */
 527:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 528:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_DataOutStageCallback                        PORTABLE C      */
 529:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                           6.1.10       */
 530:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
ARM GAS  /tmp/cc2MYjXl.s 			page 21


 531:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 532:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 533:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 534:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 535:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 536:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles callback from HAL driver.                     */
 537:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 538:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 539:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 540:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 541:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    epnum                                 Endpoint number               */
 542:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 543:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 544:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 545:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 546:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 547:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 548:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 549:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_device_stack_control_request_process                            */
 550:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                          Process control request       */
 551:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_utility_semaphore_put             Put semaphore                 */
 552:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Transmit                   Transmit data                 */
 553:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_EP_Receive                    Receive data                  */
 554:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 555:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 556:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 557:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 558:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 559:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 560:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 561:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 562:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 563:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  09-30-2020     Chaoqiong Xiao           Initial Version 6.1           */
 564:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 565:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            added standalone support,   */
 566:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            resulting in version 6.1.10 */
 567:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 568:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 569:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 570:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 539              		.loc 1 570 1 is_stmt 1 view -0
 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 0
 542              		@ frame_needed = 0, uses_anonymous_args = 0
 543              		.loc 1 570 1 is_stmt 0 view .LVU169
 544 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 545              	.LCFI4:
 546              		.cfi_def_cfa_offset 24
 547              		.cfi_offset 4, -24
 548              		.cfi_offset 5, -20
 549              		.cfi_offset 6, -16
 550              		.cfi_offset 7, -12
 551              		.cfi_offset 8, -8
 552              		.cfi_offset 14, -4
 553 0004 0546     		mov	r5, r0
 571:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 572:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_DCD            *dcd;
ARM GAS  /tmp/cc2MYjXl.s 			page 22


 554              		.loc 1 572 1 is_stmt 1 view .LVU170
 573:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32            *dcd_stm32;
 555              		.loc 1 573 1 view .LVU171
 574:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_DCD_STM32_ED         *ed;
 556              		.loc 1 574 1 view .LVU172
 575:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_TRANSFER       *transfer_request;
 557              		.loc 1 575 1 view .LVU173
 576:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** ULONG                   transfer_length;
 558              		.loc 1 576 1 view .LVU174
 577:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** UX_SLAVE_ENDPOINT       *endpoint;
 559              		.loc 1 577 1 view .LVU175
 578:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 579:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 580:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the DCD.  */
 581:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd = &_ux_system_slave -> ux_system_slave_dcd;
 560              		.loc 1 581 5 view .LVU176
 561              		.loc 1 581 29 is_stmt 0 view .LVU177
 562 0006 254B     		ldr	r3, .L41
 563 0008 1B68     		ldr	r3, [r3]
 564              	.LVL51:
 582:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 583:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the STM32 DCD.  */
 584:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     dcd_stm32 = (UX_DCD_STM32 *) dcd -> ux_slave_dcd_controller_hardware;
 565              		.loc 1 584 5 is_stmt 1 view .LVU178
 566              		.loc 1 584 15 is_stmt 0 view .LVU179
 567 000a DA69     		ldr	r2, [r3, #28]
 568              	.LVL52:
 585:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 586:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Fetch the address of the physical endpoint.  */
 587:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     ed = &dcd_stm32 -> ux_dcd_stm32_ed[epnum & 0xF];
 569              		.loc 1 587 5 is_stmt 1 view .LVU180
 570              		.loc 1 587 46 is_stmt 0 view .LVU181
 571 000c 01F00F03 		and	r3, r1, #15
 572              	.LVL53:
 573              		.loc 1 587 8 view .LVU182
 574 0010 03EB430C 		add	ip, r3, r3, lsl #1
 575 0014 02EB8C0C 		add	ip, r2, ip, lsl #2
 576              	.LVL54:
 588:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 589:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Get the pointer to the transfer request.  */
 590:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     transfer_request = &(ed -> ux_dcd_stm32_ed_endpoint -> ux_slave_endpoint_transfer_request);
 577              		.loc 1 590 5 is_stmt 1 view .LVU183
 578              		.loc 1 590 29 is_stmt 0 view .LVU184
 579 0018 DCF80440 		ldr	r4, [ip, #4]
 580              	.LVL55:
 591:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 592:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Endpoint 0 is different.  */
 593:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (epnum == 0U)
 581              		.loc 1 593 5 is_stmt 1 view .LVU185
 582              		.loc 1 593 8 is_stmt 0 view .LVU186
 583 001c 89BB     		cbnz	r1, .L34
 584 001e 0CF10406 		add	r6, ip, #4
 585              	.LVL56:
 586              		.loc 1 593 8 view .LVU187
 587 0022 04F13007 		add	r7, r4, #48
 588              	.LVL57:
 594:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
ARM GAS  /tmp/cc2MYjXl.s 			page 23


 595:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 596:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Check if we have received something on endpoint 0 during data phase .  */
 597:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         if (ed -> ux_dcd_stm32_ed_state == UX_DCD_STM32_ED_STATE_DATA_RX)
 589              		.loc 1 597 9 is_stmt 1 view .LVU188
 590              		.loc 1 597 16 is_stmt 0 view .LVU189
 591 0026 9CF80C30 		ldrb	r3, [ip, #12]	@ zero_extendqisi2
 592              		.loc 1 597 12 view .LVU190
 593 002a 022B     		cmp	r3, #2
 594 002c 01D0     		beq	.L40
 595              	.LVL58:
 596              	.L33:
 598:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         {
 599:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 600:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Get the pointer to the logical endpoint from the transfer request.  */
 601:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             endpoint = transfer_request -> ux_slave_transfer_request_endpoint;
 602:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 603:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Read the received data length for the Control endpoint.  */
 604:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_length = HAL_PCD_EP_GetRxCount(hpcd, epnum);
 605:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 606:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Update the length of the data received.  */
 607:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             transfer_request -> ux_slave_transfer_request_actual_length += transfer_length;
 608:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 609:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             /* Can we accept this much?  */
 610:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             if (transfer_request -> ux_slave_transfer_request_actual_length <=
 611:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_requested_length)
 612:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 613:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 614:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Are we done with this transfer ? */
 615:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 if ((transfer_request -> ux_slave_transfer_request_actual_length ==
 616:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                      transfer_request -> ux_slave_transfer_request_requested_length) ||
 617:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     (transfer_length != endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize))
 618:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 619:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 620:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_SETUP_OUT;
 621:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #else
 622:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     _ux_dcd_stm32_setup_out(ed, transfer_request, hpcd);
 623:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 624:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 625:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 else
 626:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 627:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 628:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     /* Rearm the OUT control endpoint for one packet. */
 629:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_current_data_pointer += endpoint 
 630:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     HAL_PCD_EP_Receive(hpcd,
 631:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                 endpoint -> ux_slave_endpoint_descriptor.bEndpointAddress,
 632:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                 transfer_request -> ux_slave_transfer_request_current_data_pointer,
 633:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                 endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize);
 634:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 }
 635:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 636:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             else
 637:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 638:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 639:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /*  We have an overflow situation. Set the completion code to overflow.  */
 640:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_completion_code =  UX_TRANSFER_BUFFER
 641:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 642:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* If trace is enabled, insert this event into the trace buffer.  */
 643:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_TRANSFER_BUFFER_OVERFLOW, transfer_reque
ARM GAS  /tmp/cc2MYjXl.s 			page 24


 644:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 645:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 646:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 647:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* Control status phase done.  */
 648:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_DONE;
 649:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 650:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 651:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 /* We are using a Control endpoint, if there is a callback, invoke it. We are still
 652:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 if (transfer_request -> ux_slave_transfer_request_completion_function)
 653:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_completion_function (transfer_req
 654:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 655:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         }
 656:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 657:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     else
 658:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 659:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 660:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 661:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Update the length of the data sent in previous transaction.  */
 662:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_actual_length =  HAL_PCD_EP_GetRxCount(hpcd, 
 663:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 664:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Set the completion code to no error.  */
 665:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_completion_code =  UX_SUCCESS;
 666:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 667:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* The transfer is completed.  */
 668:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         transfer_request -> ux_slave_transfer_request_status =  UX_TRANSFER_STATUS_COMPLETED;
 669:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 670:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #if defined(UX_DEVICE_STANDALONE)
 671:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         ed -> ux_dcd_stm32_ed_status |= UX_DCD_STM32_ED_STATUS_DONE;
 672:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #else
 673:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 674:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Non control endpoint operation, use semaphore.  */
 675:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_utility_semaphore_put(&transfer_request -> ux_slave_transfer_request_semaphore);
 676:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 677:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 678:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 679:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 597              		.loc 1 679 1 view .LVU191
 598 002e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 599              	.LVL59:
 600              	.L40:
 601:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 601              		.loc 1 601 13 is_stmt 1 view .LVU192
 601:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 602              		.loc 1 601 22 is_stmt 0 view .LVU193
 603 0032 D4F83880 		ldr	r8, [r4, #56]
 604              	.LVL60:
 604:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 605              		.loc 1 604 13 is_stmt 1 view .LVU194
 604:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 606              		.loc 1 604 31 is_stmt 0 view .LVU195
 607 0036 FFF7FEFF 		bl	HAL_PCD_EP_GetRxCount
 608              	.LVL61:
 607:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 609              		.loc 1 607 13 is_stmt 1 view .LVU196
 607:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 610              		.loc 1 607 30 is_stmt 0 view .LVU197
 611 003a A36C     		ldr	r3, [r4, #72]
ARM GAS  /tmp/cc2MYjXl.s 			page 25


 607:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 612              		.loc 1 607 73 view .LVU198
 613 003c 0344     		add	r3, r3, r0
 614 003e A364     		str	r3, [r4, #72]
 610:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_requested_length)
 615              		.loc 1 610 13 is_stmt 1 view .LVU199
 611:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             {
 616              		.loc 1 611 34 is_stmt 0 view .LVU200
 617 0040 626C     		ldr	r2, [r4, #68]
 610:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 transfer_request -> ux_slave_transfer_request_requested_length)
 618              		.loc 1 610 16 view .LVU201
 619 0042 9342     		cmp	r3, r2
 620 0044 15D8     		bhi	.L36
 615:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                      transfer_request -> ux_slave_transfer_request_requested_length) ||
 621              		.loc 1 615 17 is_stmt 1 view .LVU202
 615:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                      transfer_request -> ux_slave_transfer_request_requested_length) ||
 622              		.loc 1 615 20 is_stmt 0 view .LVU203
 623 0046 03D0     		beq	.L37
 617:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                 {
 624              		.loc 1 617 81 view .LVU204
 625 0048 D8F81C30 		ldr	r3, [r8, #28]
 616:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     (transfer_length != endpoint -> ux_slave_endpoint_descriptor.wMaxPacketSize))
 626              		.loc 1 616 86 view .LVU205
 627 004c 8342     		cmp	r3, r0
 628 004e 05D0     		beq	.L38
 629              	.L37:
 622:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 630              		.loc 1 622 21 is_stmt 1 view .LVU206
 631 0050 2A46     		mov	r2, r5
 632 0052 3946     		mov	r1, r7
 633 0054 3046     		mov	r0, r6
 634              	.LVL62:
 622:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 635              		.loc 1 622 21 is_stmt 0 view .LVU207
 636 0056 FFF7FEFF 		bl	_ux_dcd_stm32_setup_out
 637              	.LVL63:
 638 005a E8E7     		b	.L33
 639              	.LVL64:
 640              	.L38:
 629:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     HAL_PCD_EP_Receive(hpcd,
 641              		.loc 1 629 21 is_stmt 1 view .LVU208
 629:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     HAL_PCD_EP_Receive(hpcd,
 642              		.loc 1 629 38 is_stmt 0 view .LVU209
 643 005c 226C     		ldr	r2, [r4, #64]
 629:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     HAL_PCD_EP_Receive(hpcd,
 644              		.loc 1 629 88 view .LVU210
 645 005e 1A44     		add	r2, r2, r3
 646 0060 2264     		str	r2, [r4, #64]
 630:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                 endpoint -> ux_slave_endpoint_descriptor.bEndpointAddress,
 647              		.loc 1 630 21 is_stmt 1 view .LVU211
 648 0062 D8F81C30 		ldr	r3, [r8, #28]
 649 0066 98F81410 		ldrb	r1, [r8, #20]	@ zero_extendqisi2
 650 006a 2846     		mov	r0, r5
 651              	.LVL65:
 630:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                                 endpoint -> ux_slave_endpoint_descriptor.bEndpointAddress,
 652              		.loc 1 630 21 is_stmt 0 view .LVU212
 653 006c FFF7FEFF 		bl	HAL_PCD_EP_Receive
ARM GAS  /tmp/cc2MYjXl.s 			page 26


 654              	.LVL66:
 655 0070 DDE7     		b	.L33
 656              	.LVL67:
 657              	.L36:
 640:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 658              		.loc 1 640 17 is_stmt 1 view .LVU213
 640:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 659              		.loc 1 640 79 is_stmt 0 view .LVU214
 660 0072 2723     		movs	r3, #39
 661 0074 6365     		str	r3, [r4, #84]
 652:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_completion_function (transfer_req
 662              		.loc 1 652 17 is_stmt 1 view .LVU215
 652:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_completion_function (transfer_req
 663              		.loc 1 652 38 is_stmt 0 view .LVU216
 664 0076 E36D     		ldr	r3, [r4, #92]
 652:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****                     transfer_request -> ux_slave_transfer_request_completion_function (transfer_req
 665              		.loc 1 652 20 view .LVU217
 666 0078 002B     		cmp	r3, #0
 667 007a D8D0     		beq	.L33
 653:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 668              		.loc 1 653 21 is_stmt 1 view .LVU218
 669 007c 3846     		mov	r0, r7
 670              	.LVL68:
 653:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****             }
 671              		.loc 1 653 21 is_stmt 0 view .LVU219
 672 007e 9847     		blx	r3
 673              	.LVL69:
 674 0080 D5E7     		b	.L33
 675              	.LVL70:
 676              	.L34:
 662:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 677              		.loc 1 662 9 is_stmt 1 view .LVU220
 662:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 678              		.loc 1 662 72 is_stmt 0 view .LVU221
 679 0082 FFF7FEFF 		bl	HAL_PCD_EP_GetRxCount
 680              	.LVL71:
 662:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 681              		.loc 1 662 69 discriminator 1 view .LVU222
 682 0086 A064     		str	r0, [r4, #72]
 665:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 683              		.loc 1 665 9 is_stmt 1 view .LVU223
 665:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 684              		.loc 1 665 71 is_stmt 0 view .LVU224
 685 0088 0023     		movs	r3, #0
 686 008a 6365     		str	r3, [r4, #84]
 668:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 687              		.loc 1 668 9 is_stmt 1 view .LVU225
 668:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 688              		.loc 1 668 62 is_stmt 0 view .LVU226
 689 008c 0223     		movs	r3, #2
 690 008e 2363     		str	r3, [r4, #48]
 675:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 691              		.loc 1 675 9 is_stmt 1 view .LVU227
 692 0090 04F16000 		add	r0, r4, #96
 693 0094 FFF7FEFF 		bl	_ux_utility_semaphore_put
 694              	.LVL72:
 695              		.loc 1 679 1 is_stmt 0 view .LVU228
ARM GAS  /tmp/cc2MYjXl.s 			page 27


 696 0098 C9E7     		b	.L33
 697              	.L42:
 698 009a 00BF     		.align	2
 699              	.L41:
 700 009c 00000000 		.word	_ux_system_slave
 701              		.cfi_endproc
 702              	.LFE256:
 704              		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 705              		.align	1
 706              		.global	HAL_PCD_ResetCallback
 707              		.syntax unified
 708              		.thumb
 709              		.thumb_func
 711              	HAL_PCD_ResetCallback:
 712              	.LVL73:
 713              	.LFB257:
 680:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 681:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 682:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 683:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 684:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                               RELEASE        */
 685:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 686:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_ResetCallback                               PORTABLE C      */
 687:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                           6.1.10       */
 688:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
 689:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 690:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 691:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 692:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 693:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 694:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles callback from HAL driver.                     */
 695:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 696:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 697:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 698:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 699:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 700:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 701:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 702:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 703:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 704:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 705:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 706:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_device_stack_disconnect           Disconnect device             */
 707:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_dcd_stm32_initialize_complete     Complete initialization       */
 708:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 709:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 710:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 711:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 712:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 713:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 714:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 715:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 716:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 717:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  09-30-2020     Chaoqiong Xiao           Initial Version 6.1           */
 718:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 719:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            resulting in version 6.1.10 */
 720:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
ARM GAS  /tmp/cc2MYjXl.s 			page 28


 721:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 722:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
 723:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 714              		.loc 1 723 1 is_stmt 1 view -0
 715              		.cfi_startproc
 716              		@ args = 0, pretend = 0, frame = 0
 717              		@ frame_needed = 0, uses_anonymous_args = 0
 718              		.loc 1 723 1 is_stmt 0 view .LVU230
 719 0000 10B5     		push	{r4, lr}
 720              	.LCFI5:
 721              		.cfi_def_cfa_offset 8
 722              		.cfi_offset 4, -8
 723              		.cfi_offset 14, -4
 724 0002 0446     		mov	r4, r0
 724:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 725:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* If the device is attached or configured, we need to disconnect it.  */
 726:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (_ux_system_slave -> ux_system_slave_device.ux_slave_device_state !=  UX_DEVICE_RESET)
 725              		.loc 1 726 5 is_stmt 1 view .LVU231
 726              		.loc 1 726 26 is_stmt 0 view .LVU232
 727 0004 114B     		ldr	r3, .L52
 728 0006 1B68     		ldr	r3, [r3]
 729              		.loc 1 726 51 view .LVU233
 730 0008 1B6A     		ldr	r3, [r3, #32]
 731              		.loc 1 726 8 view .LVU234
 732 000a 4BB9     		cbnz	r3, .L51
 733              	.LVL74:
 734              	.L44:
 727:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 728:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 729:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Disconnect the device.  */
 730:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_device_stack_disconnect();
 731:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 732:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 733:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Set USB Current Speed */
 734:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     switch(hpcd -> Init.speed)
 735              		.loc 1 734 5 is_stmt 1 view .LVU235
 736              		.loc 1 734 24 is_stmt 0 view .LVU236
 737 000c E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 738              		.loc 1 734 5 view .LVU237
 739 000e 53B1     		cbz	r3, .L45
 740 0010 022B     		cmp	r3, #2
 741 0012 14D0     		beq	.L46
 735:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 736:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #ifdef PCD_SPEED_HIGH
 737:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     case PCD_SPEED_HIGH:
 738:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 739:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* We are connected at high speed.  */
 740:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_system_slave -> ux_system_slave_speed =  UX_HIGH_SPEED_DEVICE;
 741:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 742:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 743:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     case PCD_SPEED_FULL:
 744:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 745:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* We are connected at full speed.  */
 746:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_system_slave -> ux_system_slave_speed =  UX_FULL_SPEED_DEVICE;
 747:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 748:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 749:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     default:
ARM GAS  /tmp/cc2MYjXl.s 			page 29


 750:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 751:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* We are connected at full speed.  */
 752:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_system_slave -> ux_system_slave_speed =  UX_FULL_SPEED_DEVICE;
 742              		.loc 1 752 9 is_stmt 1 view .LVU238
 743              		.loc 1 752 26 is_stmt 0 view .LVU239
 744 0014 0D4B     		ldr	r3, .L52
 745 0016 1B68     		ldr	r3, [r3]
 746              		.loc 1 752 51 view .LVU240
 747 0018 0122     		movs	r2, #1
 748 001a C3F89C21 		str	r2, [r3, #412]
 753:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 749              		.loc 1 753 9 is_stmt 1 view .LVU241
 750 001e 07E0     		b	.L48
 751              	.LVL75:
 752              	.L51:
 730:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 753              		.loc 1 730 9 view .LVU242
 754 0020 FFF7FEFF 		bl	_ux_device_stack_disconnect
 755              	.LVL76:
 730:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 756              		.loc 1 730 9 is_stmt 0 view .LVU243
 757 0024 F2E7     		b	.L44
 758              	.L45:
 740:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 759              		.loc 1 740 9 is_stmt 1 view .LVU244
 740:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 760              		.loc 1 740 26 is_stmt 0 view .LVU245
 761 0026 094B     		ldr	r3, .L52
 762 0028 1B68     		ldr	r3, [r3]
 740:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 763              		.loc 1 740 51 view .LVU246
 764 002a 0222     		movs	r2, #2
 765 002c C3F89C21 		str	r2, [r3, #412]
 741:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** #endif
 766              		.loc 1 741 9 is_stmt 1 view .LVU247
 767              	.L48:
 754:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 755:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 756:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Complete the device initialization.  */
 757:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     _ux_dcd_stm32_initialize_complete();
 768              		.loc 1 757 5 view .LVU248
 769 0030 FFF7FEFF 		bl	_ux_dcd_stm32_initialize_complete
 770              	.LVL77:
 758:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 759:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Mark the device as attached now.  */
 760:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     _ux_system_slave -> ux_system_slave_device.ux_slave_device_state =  UX_DEVICE_ATTACHED;
 771              		.loc 1 760 5 view .LVU249
 772              		.loc 1 760 22 is_stmt 0 view .LVU250
 773 0034 054B     		ldr	r3, .L52
 774 0036 1B68     		ldr	r3, [r3]
 775              		.loc 1 760 70 view .LVU251
 776 0038 0122     		movs	r2, #1
 777 003a 1A62     		str	r2, [r3, #32]
 761:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 778              		.loc 1 761 1 view .LVU252
 779 003c 10BD     		pop	{r4, pc}
 780              	.LVL78:
ARM GAS  /tmp/cc2MYjXl.s 			page 30


 781              	.L46:
 746:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 782              		.loc 1 746 9 is_stmt 1 view .LVU253
 746:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 783              		.loc 1 746 26 is_stmt 0 view .LVU254
 784 003e 034B     		ldr	r3, .L52
 785 0040 1B68     		ldr	r3, [r3]
 746:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         break;
 786              		.loc 1 746 51 view .LVU255
 787 0042 0122     		movs	r2, #1
 788 0044 C3F89C21 		str	r2, [r3, #412]
 747:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 789              		.loc 1 747 9 is_stmt 1 view .LVU256
 790 0048 F2E7     		b	.L48
 791              	.L53:
 792 004a 00BF     		.align	2
 793              	.L52:
 794 004c 00000000 		.word	_ux_system_slave
 795              		.cfi_endproc
 796              	.LFE257:
 798              		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 799              		.align	1
 800              		.global	HAL_PCD_DisconnectCallback
 801              		.syntax unified
 802              		.thumb
 803              		.thumb_func
 805              	HAL_PCD_DisconnectCallback:
 806              	.LVL79:
 807              	.LFB258:
 762:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 763:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 764:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 765:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 766:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  FUNCTION                                               RELEASE        */
 767:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 768:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    HAL_PCD_DisconnectCallback                          PORTABLE C      */
 769:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                           6.1.10       */
 770:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  AUTHOR                                                                */
 771:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 772:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
 773:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 774:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  DESCRIPTION                                                           */
 775:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 776:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    This function handles callback from HAL driver.                     */
 777:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 778:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  INPUT                                                                 */
 779:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 780:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    hpcd                                  Pointer to PCD handle         */
 781:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 782:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  OUTPUT                                                                */
 783:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 784:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    None                                                                */
 785:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 786:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLS                                                                 */
 787:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 788:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    _ux_device_stack_disconnect           Disconnect device             */
 789:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
ARM GAS  /tmp/cc2MYjXl.s 			page 31


 790:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  CALLED BY                                                             */
 791:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 792:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    STM32 HAL Driver                                                    */
 793:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 794:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  RELEASE HISTORY                                                       */
 795:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 796:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*    DATE              NAME                      DESCRIPTION             */
 797:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 798:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  09-30-2020     Chaoqiong Xiao           Initial Version 6.1           */
 799:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 800:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                            resulting in version 6.1.10 */
 801:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /*                                                                        */
 802:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** /**************************************************************************/
 803:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
 804:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** {
 808              		.loc 1 804 1 view -0
 809              		.cfi_startproc
 810              		@ args = 0, pretend = 0, frame = 0
 811              		@ frame_needed = 0, uses_anonymous_args = 0
 812              		.loc 1 804 1 is_stmt 0 view .LVU258
 813 0000 08B5     		push	{r3, lr}
 814              	.LCFI6:
 815              		.cfi_def_cfa_offset 8
 816              		.cfi_offset 3, -8
 817              		.cfi_offset 14, -4
 805:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 806:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     /* Check if the device is attached or configured.  */
 807:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     if (_ux_system_slave -> ux_system_slave_device.ux_slave_device_state !=  UX_DEVICE_RESET)
 818              		.loc 1 807 5 is_stmt 1 view .LVU259
 819              		.loc 1 807 26 is_stmt 0 view .LVU260
 820 0002 044B     		ldr	r3, .L58
 821 0004 1B68     		ldr	r3, [r3]
 822              		.loc 1 807 51 view .LVU261
 823 0006 1B6A     		ldr	r3, [r3, #32]
 824              		.loc 1 807 8 view .LVU262
 825 0008 03B9     		cbnz	r3, .L57
 826              	.LVL80:
 827              	.L54:
 808:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     {
 809:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** 
 810:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         /* Disconnect the device.  */
 811:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****         _ux_device_stack_disconnect();
 812:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 813:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c **** }
 828              		.loc 1 813 1 view .LVU263
 829 000a 08BD     		pop	{r3, pc}
 830              	.LVL81:
 831              	.L57:
 811:./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32_callback.c ****     }
 832              		.loc 1 811 9 is_stmt 1 view .LVU264
 833 000c FFF7FEFF 		bl	_ux_device_stack_disconnect
 834              	.LVL82:
 835              		.loc 1 813 1 is_stmt 0 view .LVU265
 836 0010 FBE7     		b	.L54
 837              	.L59:
 838 0012 00BF     		.align	2
 839              	.L58:
ARM GAS  /tmp/cc2MYjXl.s 			page 32


 840 0014 00000000 		.word	_ux_system_slave
 841              		.cfi_endproc
 842              	.LFE258:
 844              		.text
 845              	.Letext0:
 846              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 847              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 848              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
 849              		.file 5 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 850              		.file 6 "./Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 851              		.file 7 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 852              		.file 8 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 853              		.file 9 "./Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd.h"
 854              		.file 10 "./Middlewares/ST/usbx/common/usbx_stm32_device_controllers/ux_dcd_stm32.h"
 855              		.file 11 "./Middlewares/ST/usbx/common/core/inc/ux_device_stack.h"
 856              		.file 12 "./Middlewares/ST/usbx/common/core/inc/ux_utility.h"
 857              		.file 13 "./Middlewares/ST/usbx/common/core/inc/ux_system.h"
ARM GAS  /tmp/cc2MYjXl.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 ux_dcd_stm32_callback.c
     /tmp/cc2MYjXl.s:21     .text._ux_dcd_stm32_setup_status:00000000 $t
     /tmp/cc2MYjXl.s:26     .text._ux_dcd_stm32_setup_status:00000000 _ux_dcd_stm32_setup_status
     /tmp/cc2MYjXl.s:78     .text._ux_dcd_stm32_setup_out:00000000 $t
     /tmp/cc2MYjXl.s:83     .text._ux_dcd_stm32_setup_out:00000000 _ux_dcd_stm32_setup_out
     /tmp/cc2MYjXl.s:139    .text.HAL_PCD_SetupStageCallback:00000000 $t
     /tmp/cc2MYjXl.s:145    .text.HAL_PCD_SetupStageCallback:00000000 HAL_PCD_SetupStageCallback
     /tmp/cc2MYjXl.s:317    .text.HAL_PCD_SetupStageCallback:000000a4 $d
     /tmp/cc2MYjXl.s:322    .text.HAL_PCD_DataInStageCallback:00000000 $t
     /tmp/cc2MYjXl.s:328    .text.HAL_PCD_DataInStageCallback:00000000 HAL_PCD_DataInStageCallback
     /tmp/cc2MYjXl.s:525    .text.HAL_PCD_DataInStageCallback:000000c0 $d
     /tmp/cc2MYjXl.s:530    .text.HAL_PCD_DataOutStageCallback:00000000 $t
     /tmp/cc2MYjXl.s:536    .text.HAL_PCD_DataOutStageCallback:00000000 HAL_PCD_DataOutStageCallback
     /tmp/cc2MYjXl.s:700    .text.HAL_PCD_DataOutStageCallback:0000009c $d
     /tmp/cc2MYjXl.s:705    .text.HAL_PCD_ResetCallback:00000000 $t
     /tmp/cc2MYjXl.s:711    .text.HAL_PCD_ResetCallback:00000000 HAL_PCD_ResetCallback
     /tmp/cc2MYjXl.s:794    .text.HAL_PCD_ResetCallback:0000004c $d
     /tmp/cc2MYjXl.s:799    .text.HAL_PCD_DisconnectCallback:00000000 $t
     /tmp/cc2MYjXl.s:805    .text.HAL_PCD_DisconnectCallback:00000000 HAL_PCD_DisconnectCallback
     /tmp/cc2MYjXl.s:840    .text.HAL_PCD_DisconnectCallback:00000014 $d

UNDEFINED SYMBOLS
_ux_device_stack_control_request_process
HAL_PCD_EP_Transmit
_ux_utility_memory_copy
_ux_utility_short_get
HAL_PCD_EP_Receive
_ux_dcd_stm32_endpoint_stall
_ux_system_slave
_ux_utility_semaphore_put
HAL_PCD_EP_GetRxCount
_ux_device_stack_disconnect
_ux_dcd_stm32_initialize_complete
