ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_device_stack_initialize.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata._ux_device_stack_initialize.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 75785F74 		.ascii	"ux_transfer_request_semaphore\000"
  22      72616E73 
  22      6665725F 
  22      72657175 
  22      6573745F 
  23              		.section	.text._ux_device_stack_initialize,"ax",%progbits
  24              		.align	1
  25              		.global	_ux_device_stack_initialize
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  30              	_ux_device_stack_initialize:
  31              	.LVL0:
  32              	.LFB11:
  33              		.file 1 "./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c"
   1:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  12:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  13:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
  15:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**                                                                       */ 
  16:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /** USBX Component                                                        */ 
  17:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**   Device Stack                                                        */
  19:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 2


  22:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  23:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #define UX_SOURCE_CODE
  24:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  25:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  26:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /* Include necessary system files.  */
  27:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  28:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #include "ux_api.h"
  29:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #include "ux_device_stack.h"
  30:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  31:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_COMPILE_TIME_ASSERT(!UX_OVERFLOW_CHECK_MULC_ULONG(sizeof(UX_SLAVE_CLASS), UX_MAX_SLAVE_CLASS_DRI
  32:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  33:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /* Define the names of all the USB Classes of USBX.  */
  34:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  35:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_storage_name[] =                               "ux_slave_class_storage
  36:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_cdc_acm_name[] =                               "ux_slave_class_cdc_acm
  37:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_dpump_name[] =                                 "ux_slave_class_dpump";
  38:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_pima_name[] =                                  "ux_slave_class_pima";
  39:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_hid_name[] =                                   "ux_slave_class_hid";
  40:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_rndis_name[] =                                 "ux_slave_class_rndis";
  41:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_cdc_ecm_name[] =                               "ux_slave_class_cdc_ecm
  42:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_dfu_name[] =                                   "ux_slave_class_dfu";
  43:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_slave_class_audio_name[] =                                 "ux_slave_class_audio";
  44:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  45:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR _ux_system_device_class_printer_name[] =                              "ux_device_class_printe
  46:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  47:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /* Define USBX Host variable.  */
  48:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_SYSTEM_SLAVE *_ux_system_slave;
  49:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
  50:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
  51:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  52:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  FUNCTION                                               RELEASE        */
  53:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  54:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    _ux_device_stack_initialize                         PORTABLE C      */
  55:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                           6.1.10       */
  56:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  AUTHOR                                                                */
  57:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  58:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  59:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  60:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  DESCRIPTION                                                           */
  61:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  62:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    This function initializes the generic portion of the device side of */
  63:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    USBX.                                                               */
  64:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  65:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  INPUT                                                                 */
  66:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  67:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    device_framework_high_speed           Pointer to high speed FW      */ 
  68:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    device_framework_length_high_speed    Length of high speed FW       */ 
  69:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    device_framework_full_speed           Pointer to full speed FW      */ 
  70:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    device_framework_length_full_speed    Length of full speed FW       */ 
  71:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    string_framework                      Pointer to string FW          */ 
  72:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    string_framework_length               Length of string FW           */ 
  73:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    language_id_framework                 Pointer to language ID FW     */ 
  74:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    language_id_framework_length          Length of language ID FW      */ 
  75:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    (ux_system_slave_change_function)     Pointer to callback function  */ 
  76:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            for device changes          */ 
  77:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  78:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  OUTPUT                                                                */
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 3


  79:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  80:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    Completion Status                                                   */ 
  81:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
  82:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  CALLS                                                                 */ 
  83:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  84:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    _ux_utility_memory_allocate           Allocate memory               */ 
  85:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    _ux_utility_memory_free               Free memory                   */ 
  86:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    _ux_utility_semaphore_create          Create semaphore              */
  87:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    _ux_utility_semaphore_delete          Delete semaphore              */
  88:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  89:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  CALLED BY                                                             */ 
  90:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  91:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    Application                                                         */ 
  92:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  93:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  RELEASE HISTORY                                                       */ 
  94:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  95:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*    DATE              NAME                      DESCRIPTION             */ 
  96:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */ 
  97:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  98:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  99:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            optimized based on compile  */
 100:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            definitions,                */
 101:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            resulting in version 6.1    */
 102:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 103:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            added standalone support,   */
 104:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            added printer support,      */
 105:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                            resulting in version 6.1.10 */
 106:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /*                                                                        */
 107:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** /**************************************************************************/
 108:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UINT  _ux_device_stack_initialize(UCHAR * device_framework_high_speed, ULONG device_framework_lengt
 109:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                   UCHAR * device_framework_full_speed, ULONG device_framework_lengt
 110:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                   UCHAR * string_framework, ULONG string_framework_length,
 111:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                   UCHAR * language_id_framework, ULONG language_id_framework_length
 112:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                   UINT (*ux_system_slave_change_function)(ULONG))
 113:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** {
  34              		.loc 1 113 1 view -0
  35              		.cfi_startproc
  36              		@ args = 20, pretend = 0, frame = 0
  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 113 1 is_stmt 0 view .LVU1
  39 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
  40              	.LCFI0:
  41              		.cfi_def_cfa_offset 32
  42              		.cfi_offset 3, -32
  43              		.cfi_offset 4, -28
  44              		.cfi_offset 5, -24
  45              		.cfi_offset 6, -20
  46              		.cfi_offset 7, -16
  47              		.cfi_offset 8, -12
  48              		.cfi_offset 9, -8
  49              		.cfi_offset 14, -4
 114:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_SLAVE_DEVICE                 *device;
  50              		.loc 1 114 1 is_stmt 1 view .LVU2
 115:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_SLAVE_ENDPOINT               *endpoints_pool;
  51              		.loc 1 115 1 view .LVU3
 116:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_SLAVE_INTERFACE              *interfaces_pool;
  52              		.loc 1 116 1 view .LVU4
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 4


 117:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UX_SLAVE_TRANSFER               *transfer_request;
  53              		.loc 1 117 1 view .LVU5
 118:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UINT                            status;
  54              		.loc 1 118 1 view .LVU6
 119:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           interfaces_found;
  55              		.loc 1 119 1 view .LVU7
 120:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           endpoints_found;
  56              		.loc 1 120 1 view .LVU8
 121:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #if !defined(UX_DEVICE_INITIALIZE_FRAMEWORK_SCAN_DISABLE)
 122:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           max_interface_number;
  57              		.loc 1 122 1 view .LVU9
 123:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           local_interfaces_found;
  58              		.loc 1 123 1 view .LVU10
 124:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           local_endpoints_found;
  59              		.loc 1 124 1 view .LVU11
 125:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           endpoints_in_interface_found;
  60              		.loc 1 125 1 view .LVU12
 126:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR                           *device_framework;
  61              		.loc 1 126 1 view .LVU13
 127:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           device_framework_length;
  62              		.loc 1 127 1 view .LVU14
 128:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR                           descriptor_type;
  63              		.loc 1 128 1 view .LVU15
 129:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** ULONG                           descriptor_length;
  64              		.loc 1 129 1 view .LVU16
 130:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #endif
 131:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** UCHAR                           *memory;
  65              		.loc 1 131 1 view .LVU17
 132:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 133:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 134:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     UX_TRACE_IN_LINE_INSERT(UX_TRACE_DEVICE_STACK_INITIALIZE, 0, 0, 0, 0, UX_TRACE_DEVICE_STACK_EVE
 135:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 136:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Get the pointer to the device. */
 137:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     device =  &_ux_system_slave -> ux_system_slave_device;
  66              		.loc 1 137 5 view .LVU18
  67              		.loc 1 137 33 is_stmt 0 view .LVU19
  68 0004 784C     		ldr	r4, .L46
  69 0006 2668     		ldr	r6, [r4]
  70              	.LVL1:
 138:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 139:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the high speed device framework address and length in the project structure.  */
 140:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_device_framework_high_speed =             device_framework_
  71              		.loc 1 140 5 is_stmt 1 view .LVU20
  72              		.loc 1 140 69 is_stmt 0 view .LVU21
  73 0008 C6F83801 		str	r0, [r6, #312]
 141:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_device_framework_length_high_speed =      device_framework_
  74              		.loc 1 141 5 is_stmt 1 view .LVU22
  75              		.loc 1 141 76 is_stmt 0 view .LVU23
  76 000c C6F83C11 		str	r1, [r6, #316]
 142:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 143:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the string framework address and length in the project structure.  */
 144:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_device_framework_full_speed =             device_framework_
  77              		.loc 1 144 5 is_stmt 1 view .LVU24
  78              		.loc 1 144 69 is_stmt 0 view .LVU25
  79 0010 C6F83021 		str	r2, [r6, #304]
 145:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_device_framework_length_full_speed =      device_framework_
  80              		.loc 1 145 5 is_stmt 1 view .LVU26
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 5


  81              		.loc 1 145 76 is_stmt 0 view .LVU27
  82 0014 C6F83431 		str	r3, [r6, #308]
 146:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 147:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the string framework address and length in the project structure.  */
 148:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_string_framework =                         string_framework
  83              		.loc 1 148 5 is_stmt 1 view .LVU28
  84              		.loc 1 148 58 is_stmt 0 view .LVU29
  85 0018 089B     		ldr	r3, [sp, #32]
  86              	.LVL2:
  87              		.loc 1 148 58 view .LVU30
  88 001a C6F84031 		str	r3, [r6, #320]
 149:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_string_framework_length =                  string_framework
  89              		.loc 1 149 5 is_stmt 1 view .LVU31
  90              		.loc 1 149 65 is_stmt 0 view .LVU32
  91 001e 099B     		ldr	r3, [sp, #36]
  92 0020 C6F84431 		str	r3, [r6, #324]
 150:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 151:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the language ID list in the project structure.  */
 152:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_language_id_framework =                 language_id_framewo
  93              		.loc 1 152 5 is_stmt 1 view .LVU33
  94              		.loc 1 152 63 is_stmt 0 view .LVU34
  95 0024 0A9B     		ldr	r3, [sp, #40]
  96 0026 C6F84831 		str	r3, [r6, #328]
 153:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_language_id_framework_length =          language_id_framewo
  97              		.loc 1 153 5 is_stmt 1 view .LVU35
  98              		.loc 1 153 70 is_stmt 0 view .LVU36
  99 002a 0B9B     		ldr	r3, [sp, #44]
 100 002c C6F84C31 		str	r3, [r6, #332]
 154:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 155:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the max number of slave class drivers in the project structure.  */
 156:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     UX_SYSTEM_DEVICE_MAX_CLASS_SET(UX_MAX_SLAVE_CLASS_DRIVER);
 101              		.loc 1 156 5 is_stmt 1 view .LVU37
 102              		.loc 1 156 5 view .LVU38
 103              		.loc 1 156 5 view .LVU39
 157:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     
 158:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Store the device state change function callback.  */
 159:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_change_function =  ux_system_slave_change_function;
 104              		.loc 1 159 5 view .LVU40
 105              		.loc 1 159 57 is_stmt 0 view .LVU41
 106 0030 0C9B     		ldr	r3, [sp, #48]
 107 0032 C6F8C031 		str	r3, [r6, #448]
 160:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 161:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Allocate memory for the classes.
 162:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****      * sizeof(UX_SLAVE_CLASS) * UX_MAX_SLAVE_CLASS_DRIVER) overflow is checked
 163:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****      * outside of the function.
 164:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****      */
 165:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     memory =  _ux_utility_memory_allocate(UX_NO_ALIGN, UX_REGULAR_MEMORY, sizeof(UX_SLAVE_CLASS) * 
 108              		.loc 1 165 5 is_stmt 1 view .LVU42
 109              		.loc 1 165 15 is_stmt 0 view .LVU43
 110 0036 4FF48A72 		mov	r2, #276
 111              	.LVL3:
 112              		.loc 1 165 15 view .LVU44
 113 003a 0021     		movs	r1, #0
 114              	.LVL4:
 115              		.loc 1 165 15 view .LVU45
 116 003c 0846     		mov	r0, r1
 117              	.LVL5:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 6


 118              		.loc 1 165 15 view .LVU46
 119 003e FFF7FEFF 		bl	_ux_utility_memory_allocate
 120              	.LVL6:
 166:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (memory == UX_NULL)
 121              		.loc 1 166 5 is_stmt 1 view .LVU47
 122              		.loc 1 166 8 is_stmt 0 view .LVU48
 123 0042 0028     		cmp	r0, #0
 124 0044 00F0CD80 		beq	.L26
 167:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         return(UX_MEMORY_INSUFFICIENT);
 168:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     
 169:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Save this memory allocation in the USBX project.  */
 170:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_system_slave -> ux_system_slave_class_array =  (UX_SLAVE_CLASS *) ((void *) memory);
 125              		.loc 1 170 5 is_stmt 1 view .LVU49
 126              		.loc 1 170 22 is_stmt 0 view .LVU50
 127 0048 2268     		ldr	r2, [r4]
 128              		.loc 1 170 53 view .LVU51
 129 004a C2F85801 		str	r0, [r2, #344]
 171:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 172:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Allocate some memory for the Control Endpoint.  First get the address of the transfer reques
 173:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****        control endpoint. */
 174:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     transfer_request =  &device -> ux_slave_device_control_endpoint.ux_slave_endpoint_transfer_requ
 130              		.loc 1 174 5 is_stmt 1 view .LVU52
 131              	.LVL7:
 175:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 176:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Acquire a buffer for the size of the endpoint.  */
 177:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     transfer_request -> ux_slave_transfer_request_data_pointer =
 132              		.loc 1 177 5 view .LVU53
 178:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****           _ux_utility_memory_allocate(UX_NO_ALIGN, UX_CACHE_SAFE_MEMORY, UX_SLAVE_REQUEST_CONTROL_M
 133              		.loc 1 178 11 is_stmt 0 view .LVU54
 134 004e 4FF48072 		mov	r2, #256
 135 0052 0121     		movs	r1, #1
 136 0054 0020     		movs	r0, #0
 137              	.LVL8:
 138              		.loc 1 178 11 view .LVU55
 139 0056 FFF7FEFF 		bl	_ux_utility_memory_allocate
 140              	.LVL9:
 177:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****           _ux_utility_memory_allocate(UX_NO_ALIGN, UX_CACHE_SAFE_MEMORY, UX_SLAVE_REQUEST_CONTROL_M
 141              		.loc 1 177 64 view .LVU56
 142 005a C6F89800 		str	r0, [r6, #152]
 179:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 180:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Ensure we have enough memory.  */
 181:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (transfer_request -> ux_slave_transfer_request_data_pointer == UX_NULL)
 143              		.loc 1 181 5 is_stmt 1 view .LVU57
 144              		.loc 1 181 8 is_stmt 0 view .LVU58
 145 005e 0028     		cmp	r0, #0
 146 0060 54D0     		beq	.L27
 182:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         status = UX_MEMORY_INSUFFICIENT;
 183:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     else
 184:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         status = UX_SUCCESS;
 147              		.loc 1 184 9 is_stmt 1 view .LVU59
 148              	.LVL10:
 185:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 186:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #if defined(UX_DEVICE_INITIALIZE_FRAMEWORK_SCAN_DISABLE)
 187:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 188:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* No scan, just assign predefined value.  */
 189:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     interfaces_found = UX_MAX_SLAVE_INTERFACES;
 190:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     endpoints_found = UX_MAX_DEVICE_ENDPOINTS;
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 7


 191:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #else
 192:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 193:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Reset all values we are using during the scanning of the framework.  */
 194:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     interfaces_found                   =  0;
 149              		.loc 1 194 5 view .LVU60
 195:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     endpoints_found                    =  0;
 150              		.loc 1 195 5 view .LVU61
 196:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     max_interface_number               =  0;
 151              		.loc 1 196 5 view .LVU62
 197:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 198:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Go on to scan interfaces if no error.  */
 199:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (status == UX_SUCCESS)
 152              		.loc 1 199 5 view .LVU63
 200:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     {
 201:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 202:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* We need to determine the maximum number of interfaces and endpoints declared in the devi
 203:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         This mechanism requires that both framework behave the same way regarding the number of int
 204:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         and endpoints.  */
 205:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device_framework        =  _ux_system_slave -> ux_system_slave_device_framework_full_speed;
 153              		.loc 1 205 9 view .LVU64
 154              		.loc 1 205 53 is_stmt 0 view .LVU65
 155 0062 2268     		ldr	r2, [r4]
 156              		.loc 1 205 33 view .LVU66
 157 0064 D2F83031 		ldr	r3, [r2, #304]
 158              	.LVL11:
 206:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device_framework_length =  _ux_system_slave -> ux_system_slave_device_framework_length_full
 159              		.loc 1 206 9 is_stmt 1 view .LVU67
 160              		.loc 1 206 33 is_stmt 0 view .LVU68
 161 0068 D2F83451 		ldr	r5, [r2, #308]
 162              	.LVL12:
 207:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 208:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Reset all values we are using during the scanning of the framework.  */
 209:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         local_interfaces_found             =  0;
 163              		.loc 1 209 9 is_stmt 1 view .LVU69
 210:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         local_endpoints_found              =  0;
 164              		.loc 1 210 9 view .LVU70
 211:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         endpoints_in_interface_found       =  0;
 165              		.loc 1 211 9 view .LVU71
 212:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 213:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Parse the device framework and locate interfaces and endpoint descriptor(s).  */
 214:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         while (device_framework_length != 0)
 166              		.loc 1 214 9 view .LVU72
 211:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         endpoints_in_interface_found       =  0;
 167              		.loc 1 211 44 is_stmt 0 view .LVU73
 168 006c 0020     		movs	r0, #0
 210:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         endpoints_in_interface_found       =  0;
 169              		.loc 1 210 44 view .LVU74
 170 006e 0446     		mov	r4, r0
 209:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         local_endpoints_found              =  0;
 171              		.loc 1 209 44 view .LVU75
 172 0070 0746     		mov	r7, r0
 196:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 173              		.loc 1 196 40 view .LVU76
 174 0072 8146     		mov	r9, r0
 195:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     max_interface_number               =  0;
 175              		.loc 1 195 40 view .LVU77
 176 0074 8646     		mov	lr, r0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 8


 194:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     endpoints_found                    =  0;
 177              		.loc 1 194 40 view .LVU78
 178 0076 8446     		mov	ip, r0
 179              		.loc 1 214 15 view .LVU79
 180 0078 08E0     		b	.L4
 181              	.LVL13:
 182              	.L7:
 215:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 216:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 217:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Get the length of this descriptor.  */
 218:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             descriptor_length =  (ULONG) *device_framework;
 219:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 220:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* And its type.  */
 221:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             descriptor_type =  *(device_framework + 1);
 222:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 223:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Check if this is an endpoint descriptor.  */
 224:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             switch(descriptor_type)
 225:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 226:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 227:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             case UX_INTERFACE_DESCRIPTOR_ITEM:
 228:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 229:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Check if this is alternate setting 0. If not, do not add another interface found
 230:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 If this is alternate setting 0, reset the endpoints count for this interface.  */
 231:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (*(device_framework + 3) == 0)
 232:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 233:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 234:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* Add the cumulated number of endpoints in the previous interface.  */
 235:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     local_endpoints_found += endpoints_in_interface_found;
 236:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 237:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* Read the number of endpoints for this alternate setting.  */
 238:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     endpoints_in_interface_found = (ULONG) *(device_framework + 4);
 239:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 240:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* Increment the number of interfaces found in the current configuration.  */
 241:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     local_interfaces_found++;
 242:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }                
 243:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 else
 244:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 245:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 246:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* Compare the number of endpoints found in this non 0 alternate setting.  */
 247:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     if (endpoints_in_interface_found < (ULONG) *(device_framework + 4))
 183              		.loc 1 247 21 is_stmt 1 view .LVU80
 184              		.loc 1 247 64 is_stmt 0 view .LVU81
 185 007a 1979     		ldrb	r1, [r3, #4]	@ zero_extendqisi2
 186              		.loc 1 247 24 view .LVU82
 187 007c 8142     		cmp	r1, r0
 188 007e 00D9     		bls	.L8
 248:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 249:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                         /* Adjust the number of maximum endpoints in this interface.  */
 250:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                         endpoints_in_interface_found = (ULONG) *(device_framework + 4);
 189              		.loc 1 250 54 view .LVU83
 190 0080 0846     		mov	r0, r1
 191              	.LVL14:
 192              	.L8:
 251:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }
 252:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 253:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Check and update max interface number.  */
 254:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (*(device_framework + 2) > max_interface_number)
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 9


 193              		.loc 1 254 17 is_stmt 1 view .LVU84
 194              		.loc 1 254 21 is_stmt 0 view .LVU85
 195 0082 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 196              		.loc 1 254 20 view .LVU86
 197 0084 4945     		cmp	r1, r9
 198 0086 19D8     		bhi	.L29
 199              	.LVL15:
 200              	.L6:
 255:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     max_interface_number = *(device_framework + 2);
 256:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 257:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 break;
 258:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 259:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             case UX_CONFIGURATION_DESCRIPTOR_ITEM:
 260:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 261:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Check if the number of interfaces found in this configuration is the maximum so 
 262:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (local_interfaces_found > interfaces_found)
 263:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 264:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* We need to adjust the number of maximum interfaces.  */
 265:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     interfaces_found =  local_interfaces_found;
 266:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 267:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* We have a new configuration. We need to reset the number of local interfaces. */
 268:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 local_interfaces_found =  0;
 269:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 270:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Add the cumulated number of endpoints in the previous interface.  */
 271:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 local_endpoints_found += endpoints_in_interface_found;
 272:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 273:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Check if the number of endpoints found in the previous configuration is the maxi
 274:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (local_endpoints_found > endpoints_found)
 275:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 276:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     /* We need to adjust the number of maximum endpoints.  */
 277:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     endpoints_found =  local_endpoints_found;
 278:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 279:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* We have a new configuration. We need to reset the number of local endpoints. */
 280:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 local_endpoints_found         =  0;
 281:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 endpoints_in_interface_found  =  0;
 282:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 283:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 break;
 284:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 285:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             default:
 286:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 break;
 287:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             }
 288:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 289:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Adjust what is left of the device framework.  */
 290:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             device_framework_length -=  descriptor_length;
 201              		.loc 1 290 13 is_stmt 1 view .LVU87
 202              		.loc 1 290 37 is_stmt 0 view .LVU88
 203 0088 AD1A     		subs	r5, r5, r2
 204              	.LVL16:
 291:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 292:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Point to the next descriptor.  */
 293:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             device_framework +=  descriptor_length;
 205              		.loc 1 293 13 is_stmt 1 view .LVU89
 206              		.loc 1 293 30 is_stmt 0 view .LVU90
 207 008a 1344     		add	r3, r3, r2
 208              	.LVL17:
 209              	.L4:
 214:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 10


 210              		.loc 1 214 15 is_stmt 1 view .LVU91
 211 008c EDB1     		cbz	r5, .L39
 218:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 212              		.loc 1 218 13 view .LVU92
 218:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 213              		.loc 1 218 42 is_stmt 0 view .LVU93
 214 008e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 215              	.LVL18:
 221:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 216              		.loc 1 221 13 is_stmt 1 view .LVU94
 221:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 217              		.loc 1 221 29 is_stmt 0 view .LVU95
 218 0090 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 219              	.LVL19:
 224:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 220              		.loc 1 224 13 is_stmt 1 view .LVU96
 221 0092 0229     		cmp	r1, #2
 222 0094 08D0     		beq	.L5
 223 0096 0429     		cmp	r1, #4
 224 0098 F6D1     		bne	.L6
 231:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 225              		.loc 1 231 17 view .LVU97
 231:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 226              		.loc 1 231 21 is_stmt 0 view .LVU98
 227 009a D978     		ldrb	r1, [r3, #3]	@ zero_extendqisi2
 228              	.LVL20:
 231:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 229              		.loc 1 231 20 view .LVU99
 230 009c 0029     		cmp	r1, #0
 231 009e ECD1     		bne	.L7
 235:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 232              		.loc 1 235 21 is_stmt 1 view .LVU100
 235:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 233              		.loc 1 235 43 is_stmt 0 view .LVU101
 234 00a0 0444     		add	r4, r4, r0
 235              	.LVL21:
 238:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 236              		.loc 1 238 21 is_stmt 1 view .LVU102
 238:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 237              		.loc 1 238 60 is_stmt 0 view .LVU103
 238 00a2 1879     		ldrb	r0, [r3, #4]	@ zero_extendqisi2
 239              	.LVL22:
 241:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }                
 240              		.loc 1 241 21 is_stmt 1 view .LVU104
 241:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }                
 241              		.loc 1 241 43 is_stmt 0 view .LVU105
 242 00a4 0137     		adds	r7, r7, #1
 243              	.LVL23:
 241:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }                
 244              		.loc 1 241 43 view .LVU106
 245 00a6 ECE7     		b	.L8
 246              	.LVL24:
 247              	.L5:
 262:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 248              		.loc 1 262 17 is_stmt 1 view .LVU107
 262:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 249              		.loc 1 262 20 is_stmt 0 view .LVU108
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 11


 250 00a8 BC45     		cmp	ip, r7
 251 00aa 00D2     		bcs	.L9
 265:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 252              		.loc 1 265 38 view .LVU109
 253 00ac BC46     		mov	ip, r7
 254              	.LVL25:
 255              	.L9:
 268:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 256              		.loc 1 268 17 is_stmt 1 view .LVU110
 271:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 257              		.loc 1 271 17 view .LVU111
 271:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 258              		.loc 1 271 39 is_stmt 0 view .LVU112
 259 00ae 2044     		add	r0, r0, r4
 260              	.LVL26:
 274:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 261              		.loc 1 274 17 is_stmt 1 view .LVU113
 274:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 262              		.loc 1 274 20 is_stmt 0 view .LVU114
 263 00b0 8645     		cmp	lr, r0
 264 00b2 05D3     		bcc	.L31
 281:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 265              		.loc 1 281 47 view .LVU115
 266 00b4 0020     		movs	r0, #0
 267              	.LVL27:
 280:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 endpoints_in_interface_found  =  0;
 268              		.loc 1 280 47 view .LVU116
 269 00b6 0446     		mov	r4, r0
 268:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 270              		.loc 1 268 40 view .LVU117
 271 00b8 0746     		mov	r7, r0
 272 00ba E5E7     		b	.L6
 273              	.LVL28:
 274              	.L29:
 255:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 275              		.loc 1 255 42 view .LVU118
 276 00bc 8946     		mov	r9, r1
 277              	.LVL29:
 255:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 278              		.loc 1 255 42 view .LVU119
 279 00be E3E7     		b	.L6
 280              	.LVL30:
 281              	.L31:
 277:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 282              		.loc 1 277 37 view .LVU120
 283 00c0 8646     		mov	lr, r0
 284              	.LVL31:
 281:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 285              		.loc 1 281 47 view .LVU121
 286 00c2 0020     		movs	r0, #0
 287              	.LVL32:
 280:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 endpoints_in_interface_found  =  0;
 288              		.loc 1 280 47 view .LVU122
 289 00c4 0446     		mov	r4, r0
 268:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 290              		.loc 1 268 40 view .LVU123
 291 00c6 0746     		mov	r7, r0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 12


 292 00c8 DEE7     		b	.L6
 293              	.LVL33:
 294              	.L39:
 294:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 295:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 296:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Add the cumulated number of endpoints in the previous interface.  */
 297:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         local_endpoints_found += endpoints_in_interface_found;
 295              		.loc 1 297 9 is_stmt 1 view .LVU124
 296              		.loc 1 297 31 is_stmt 0 view .LVU125
 297 00ca 04EB0008 		add	r8, r4, r0
 298              	.LVL34:
 298:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 299:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Check if the number of endpoints found in the previous interface is the maximum so far. 
 300:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (local_endpoints_found > endpoints_found)
 299              		.loc 1 300 9 is_stmt 1 view .LVU126
 300              		.loc 1 300 12 is_stmt 0 view .LVU127
 301 00ce C645     		cmp	lr, r8
 302 00d0 00D3     		bcc	.L11
 303 00d2 F046     		mov	r8, lr
 304              	.LVL35:
 305              	.L11:
 301:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     
 302:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* We need to adjust the number of maximum endpoints.  */
 303:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             endpoints_found =  local_endpoints_found;
 304:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 305:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 306:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Check if the number of interfaces found in this configuration is the maximum so far. */
 307:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (local_interfaces_found > interfaces_found)
 306              		.loc 1 307 9 is_stmt 1 view .LVU128
 307              		.loc 1 307 12 is_stmt 0 view .LVU129
 308 00d4 BC45     		cmp	ip, r7
 309 00d6 00D3     		bcc	.L12
 310 00d8 6746     		mov	r7, ip
 311              	.LVL36:
 312              	.L12:
 308:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             
 309:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* We need to adjust the number of maximum interfaces.  */
 310:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             interfaces_found =  local_interfaces_found;
 311:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 312:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* We do a sanity check on the finding. At least there must be one interface but endpoints 
 313:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         not necessary.  */
 314:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (interfaces_found == 0)
 313              		.loc 1 314 9 is_stmt 1 view .LVU130
 314              		.loc 1 314 12 is_stmt 0 view .LVU131
 315 00da 4FB1     		cbz	r7, .L40
 315:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 316:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 317:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Error trap. */
 318:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_INIT, UX_DESCRIPTOR_
 319:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 320:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* If trace is enabled, insert this event into the trace buffer.  */
 321:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_DESCRIPTOR_CORRUPTED, device_framework, 0, 0
 322:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 323:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_DESCRIPTOR_CORRUPTED;
 324:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 325:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 326:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* We do a sanity check on the finding. Max interface number should not exceed limit.  */
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 13


 327:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (status == UX_SUCCESS &&
 316              		.loc 1 327 9 is_stmt 1 view .LVU132
 317              		.loc 1 327 34 is_stmt 0 view .LVU133
 318 00dc B9F10F0F 		cmp	r9, #15
 319 00e0 0DD8     		bhi	.L41
 320              	.LVL37:
 321              	.L3:
 328:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             max_interface_number >= UX_MAX_SLAVE_INTERFACES)
 329:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 330:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 331:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Error trap. */
 332:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_INIT, UX_MEMORY_INSU
 333:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 334:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* If trace is enabled, insert this event into the trace buffer.  */
 335:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_MEMORY_INSUFFICIENT, device_framework, 0, 0,
 336:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 337:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 338:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 339:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 340:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** #endif
 341:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 342:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Go on to allocate interfaces pool if no error.  */
 343:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (status == UX_SUCCESS)
 322              		.loc 1 343 5 is_stmt 1 view .LVU134
 323              		.loc 1 343 8 is_stmt 0 view .LVU135
 324 00e2 C5B1     		cbz	r5, .L42
 325              	.LVL38:
 326              	.L14:
 344:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     {
 345:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 346:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* Memorize both pool sizes.  */
 347:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device -> ux_slave_device_interfaces_pool_number = interfaces_found;
 348:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device -> ux_slave_device_endpoints_pool_number  = endpoints_found;
 349:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 350:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* We assign a pool for the interfaces.  */
 351:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         interfaces_pool =  _ux_utility_memory_allocate_mulc_safe(UX_NO_ALIGN, UX_REGULAR_MEMORY, in
 352:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (interfaces_pool == UX_NULL)
 353:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 354:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 355:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 356:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Save the interface pool address in the device container.  */
 357:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             device -> ux_slave_device_interfaces_pool =  interfaces_pool;
 358:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 359:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 360:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Do we need an endpoint pool ?  */
 361:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (endpoints_found != 0 && status == UX_SUCCESS)
 327              		.loc 1 361 5 is_stmt 1 view .LVU136
 328              		.loc 1 361 8 is_stmt 0 view .LVU137
 329 00e4 B8F1000F 		cmp	r8, #0
 330 00e8 49D0     		beq	.L33
 331              		.loc 1 361 30 discriminator 1 view .LVU138
 332 00ea 25B3     		cbz	r5, .L43
 362:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     {
 363:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 364:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* We assign a pool for the endpoints.  */
 365:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         endpoints_pool =  _ux_utility_memory_allocate_mulc_safe(UX_NO_ALIGN, UX_REGULAR_MEMORY, end
 366:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (endpoints_pool == UX_NULL)
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 14


 367:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 368:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 369:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 370:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 371:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Save the endpoint pool address in the device container.  */
 372:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             device -> ux_slave_device_endpoints_pool =  endpoints_pool;
 373:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 374:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* We need to assign a transfer buffer to each endpoint. Each endpoint is assigned the
 375:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             maximum buffer size.  We also assign the semaphore used by the endpoint to synchronize 
 376:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             completion. */
 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             while (endpoints_pool < (device -> ux_slave_device_endpoints_pool + endpoints_found))
 378:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 379:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 380:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Obtain some memory.  */
 381:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 endpoints_pool -> ux_slave_endpoint_transfer_request.ux_slave_transfer_request_data
 382:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                 _ux_utility_memory_allocate(UX_NO_ALIGN, UX_CACHE_SAFE_MEMORY, UX_S
 383:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 384:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Ensure we could allocate memory.  */
 385:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (endpoints_pool -> ux_slave_endpoint_transfer_request.ux_slave_transfer_request_
 386:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 387:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     status = UX_MEMORY_INSUFFICIENT;
 388:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     break;
 389:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }
 390:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 391:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Create the semaphore for the endpoint.  */
 392:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 status =  _ux_device_semaphore_create(&endpoints_pool -> ux_slave_endpoint_transfer
 393:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                                     "ux_transfer_request_semaphore", 0);
 394:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 395:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Check completion status.  */
 396:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 if (status != UX_SUCCESS)
 397:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 398:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     status = UX_SEMAPHORE_ERROR;
 399:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     break;
 400:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 }
 401:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         
 402:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 /* Next endpoint.  */
 403:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 endpoints_pool++;
 404:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             }
 405:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 406:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 407:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     else
 408:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         endpoints_pool = UX_NULL;
 333              		.loc 1 408 24 view .LVU139
 334 00ec 0024     		movs	r4, #0
 335 00ee 47E0     		b	.L15
 336              	.LVL39:
 337              	.L40:
 318:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 338              		.loc 1 318 13 is_stmt 1 view .LVU140
 339 00f0 4222     		movs	r2, #66
 340 00f2 0321     		movs	r1, #3
 341 00f4 0220     		movs	r0, #2
 342              	.LVL40:
 318:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 343              		.loc 1 318 13 is_stmt 0 view .LVU141
 344 00f6 FFF7FEFF 		bl	_ux_system_error_handler
 345              	.LVL41:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 15


 323:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 346              		.loc 1 323 13 is_stmt 1 view .LVU142
 327:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             max_interface_number >= UX_MAX_SLAVE_INTERFACES)
 347              		.loc 1 327 9 view .LVU143
 323:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 348              		.loc 1 323 20 is_stmt 0 view .LVU144
 349 00fa 4225     		movs	r5, #66
 350              	.LVL42:
 323:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 351              		.loc 1 323 20 view .LVU145
 352 00fc F1E7     		b	.L3
 353              	.LVL43:
 354              	.L41:
 332:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 355              		.loc 1 332 13 is_stmt 1 view .LVU146
 356 00fe 1222     		movs	r2, #18
 357 0100 0321     		movs	r1, #3
 358 0102 0220     		movs	r0, #2
 359              	.LVL44:
 332:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 360              		.loc 1 332 13 is_stmt 0 view .LVU147
 361 0104 FFF7FEFF 		bl	_ux_system_error_handler
 362              	.LVL45:
 337:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 363              		.loc 1 337 13 is_stmt 1 view .LVU148
 337:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 364              		.loc 1 337 20 is_stmt 0 view .LVU149
 365 0108 1225     		movs	r5, #18
 366              	.LVL46:
 337:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 367              		.loc 1 337 20 view .LVU150
 368 010a EAE7     		b	.L3
 369              	.LVL47:
 370              	.L27:
 195:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     max_interface_number               =  0;
 371              		.loc 1 195 40 view .LVU151
 372 010c 4FF00008 		mov	r8, #0
 194:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     endpoints_found                    =  0;
 373              		.loc 1 194 40 view .LVU152
 374 0110 4746     		mov	r7, r8
 182:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     else
 375              		.loc 1 182 16 view .LVU153
 376 0112 1225     		movs	r5, #18
 377 0114 E5E7     		b	.L3
 378              	.LVL48:
 379              	.L42:
 347:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device -> ux_slave_device_endpoints_pool_number  = endpoints_found;
 380              		.loc 1 347 9 is_stmt 1 view .LVU154
 347:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         device -> ux_slave_device_endpoints_pool_number  = endpoints_found;
 381              		.loc 1 347 58 is_stmt 0 view .LVU155
 382 0116 C6F81871 		str	r7, [r6, #280]
 348:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 383              		.loc 1 348 9 is_stmt 1 view .LVU156
 348:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 384              		.loc 1 348 58 is_stmt 0 view .LVU157
 385 011a C6F82081 		str	r8, [r6, #288]
 351:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (interfaces_pool == UX_NULL)
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 16


 386              		.loc 1 351 9 is_stmt 1 view .LVU158
 351:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (interfaces_pool == UX_NULL)
 387              		.loc 1 351 28 is_stmt 0 view .LVU159
 388 011e 3823     		movs	r3, #56
 389 0120 3A46     		mov	r2, r7
 390 0122 0021     		movs	r1, #0
 391 0124 0846     		mov	r0, r1
 392 0126 FFF7FEFF 		bl	_ux_utility_memory_allocate_mulc_safe
 393              	.LVL49:
 352:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 394              		.loc 1 352 9 is_stmt 1 view .LVU160
 352:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 395              		.loc 1 352 12 is_stmt 0 view .LVU161
 396 012a 10B1     		cbz	r0, .L32
 357:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 397              		.loc 1 357 13 is_stmt 1 view .LVU162
 357:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 398              		.loc 1 357 55 is_stmt 0 view .LVU163
 399 012c C6F81401 		str	r0, [r6, #276]
 400 0130 D8E7     		b	.L14
 401              	.L32:
 353:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 402              		.loc 1 353 20 view .LVU164
 403 0132 1225     		movs	r5, #18
 404              	.LVL50:
 353:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 405              		.loc 1 353 20 view .LVU165
 406 0134 D6E7     		b	.L14
 407              	.LVL51:
 408              	.L43:
 365:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (endpoints_pool == UX_NULL)
 409              		.loc 1 365 9 is_stmt 1 view .LVU166
 365:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         if (endpoints_pool == UX_NULL)
 410              		.loc 1 365 27 is_stmt 0 view .LVU167
 411 0136 9023     		movs	r3, #144
 412 0138 4246     		mov	r2, r8
 413 013a 0021     		movs	r1, #0
 414 013c 0846     		mov	r0, r1
 415 013e FFF7FEFF 		bl	_ux_utility_memory_allocate_mulc_safe
 416              	.LVL52:
 366:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 417              		.loc 1 366 9 is_stmt 1 view .LVU168
 366:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             status = UX_MEMORY_INSUFFICIENT;
 418              		.loc 1 366 12 is_stmt 0 view .LVU169
 419 0142 0446     		mov	r4, r0
 420 0144 18B3     		cbz	r0, .L35
 372:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 421              		.loc 1 372 13 is_stmt 1 view .LVU170
 372:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 422              		.loc 1 372 54 is_stmt 0 view .LVU171
 423 0146 C6F81C01 		str	r0, [r6, #284]
 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 424              		.loc 1 377 13 is_stmt 1 view .LVU172
 425              	.LVL53:
 426              	.L17:
 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 427              		.loc 1 377 19 view .LVU173
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 17


 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 428              		.loc 1 377 45 is_stmt 0 view .LVU174
 429 014a D6F81C31 		ldr	r3, [r6, #284]
 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 430              		.loc 1 377 79 view .LVU175
 431 014e 08EBC802 		add	r2, r8, r8, lsl #3
 432 0152 03EB0213 		add	r3, r3, r2, lsl #4
 377:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             {
 433              		.loc 1 377 19 view .LVU176
 434 0156 A342     		cmp	r3, r4
 435 0158 12D9     		bls	.L15
 381:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                 _ux_utility_memory_allocate(UX_NO_ALIGN, UX_CACHE_SAFE_MEMORY, UX_S
 436              		.loc 1 381 17 is_stmt 1 view .LVU177
 382:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 437              		.loc 1 382 33 is_stmt 0 view .LVU178
 438 015a 4FF40062 		mov	r2, #2048
 439 015e 0121     		movs	r1, #1
 440 0160 0020     		movs	r0, #0
 441 0162 FFF7FEFF 		bl	_ux_utility_memory_allocate
 442              	.LVL54:
 381:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                 _ux_utility_memory_allocate(UX_NO_ALIGN, UX_CACHE_SAFE_MEMORY, UX_S
 443              		.loc 1 381 109 view .LVU179
 444 0166 E063     		str	r0, [r4, #60]
 385:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 445              		.loc 1 385 17 is_stmt 1 view .LVU180
 385:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 446              		.loc 1 385 20 is_stmt 0 view .LVU181
 447 0168 68B1     		cbz	r0, .L36
 392:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                                     "ux_transfer_request_semaphore", 0);
 448              		.loc 1 392 17 is_stmt 1 view .LVU182
 392:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                                                     "ux_transfer_request_semaphore", 0);
 449              		.loc 1 392 27 is_stmt 0 view .LVU183
 450 016a 0022     		movs	r2, #0
 451 016c 1F49     		ldr	r1, .L46+4
 452 016e 04F16000 		add	r0, r4, #96
 453 0172 FFF7FEFF 		bl	_ux_utility_semaphore_create
 454              	.LVL55:
 396:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 455              		.loc 1 396 17 is_stmt 1 view .LVU184
 396:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 {
 456              		.loc 1 396 20 is_stmt 0 view .LVU185
 457 0176 0546     		mov	r5, r0
 458 0178 38B9     		cbnz	r0, .L37
 403:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             }
 459              		.loc 1 403 17 is_stmt 1 view .LVU186
 403:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             }
 460              		.loc 1 403 31 is_stmt 0 view .LVU187
 461 017a 9034     		adds	r4, r4, #144
 462              	.LVL56:
 403:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             }
 463              		.loc 1 403 31 view .LVU188
 464 017c E5E7     		b	.L17
 465              	.LVL57:
 466              	.L33:
 467              		.loc 1 408 24 view .LVU189
 468 017e 0024     		movs	r4, #0
 469              	.LVL58:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 18


 470              	.L15:
 409:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 410:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Return successful completion.  */
 411:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (status == UX_SUCCESS)
 471              		.loc 1 411 5 is_stmt 1 view .LVU190
 472              		.loc 1 411 8 is_stmt 0 view .LVU191
 473 0180 65B3     		cbz	r5, .L1
 474              	.LVL59:
 475              	.L16:
 412:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         return(UX_SUCCESS);
 413:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     
 414:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Free resources when there is error.  */
 415:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 416:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Free device -> ux_slave_device_endpoints_pool.  */
 417:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (endpoints_pool)
 476              		.loc 1 417 5 is_stmt 1 view .LVU192
 477              		.loc 1 417 8 is_stmt 0 view .LVU193
 478 0182 64B9     		cbnz	r4, .L19
 479 0184 1AE0     		b	.L20
 480              	.LVL60:
 481              	.L36:
 387:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     break;
 482              		.loc 1 387 28 view .LVU194
 483 0186 1225     		movs	r5, #18
 484              	.LVL61:
 387:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     break;
 485              		.loc 1 387 28 view .LVU195
 486 0188 FAE7     		b	.L15
 487              	.LVL62:
 488              	.L37:
 398:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                     break;
 489              		.loc 1 398 28 view .LVU196
 490 018a 1525     		movs	r5, #21
 491 018c F8E7     		b	.L15
 492              	.LVL63:
 493              	.L35:
 367:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 494              		.loc 1 367 20 view .LVU197
 495 018e 1225     		movs	r5, #18
 496              	.LVL64:
 367:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         else
 497              		.loc 1 367 20 view .LVU198
 498 0190 F7E7     		b	.L16
 499              	.LVL65:
 500              	.L45:
 418:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     {
 419:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 420:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         /* In error cases creating endpoint resources, endpoints_pool is endpoint that failed.
 421:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****          * Previously allocated things should be freed.  */
 422:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         while(endpoints_pool >= device -> ux_slave_device_endpoints_pool)
 423:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 424:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 425:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Delete ux_slave_transfer_request_semaphore.  */
 426:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             if (_ux_device_semaphore_created(&endpoints_pool -> ux_slave_endpoint_transfer_request.
 427:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_device_semaphore_delete(&endpoints_pool -> ux_slave_endpoint_transfer_request.u
 501              		.loc 1 427 17 is_stmt 1 view .LVU199
 502 0192 04F16000 		add	r0, r4, #96
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 19


 503 0196 FFF7FEFF 		bl	_ux_utility_semaphore_delete
 504              	.LVL66:
 505 019a 07E0     		b	.L21
 506              	.L22:
 428:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 429:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Free ux_slave_transfer_request_data_pointer buffer.  */
 430:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             if (endpoints_pool -> ux_slave_endpoint_transfer_request.ux_slave_transfer_request_data
 431:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_utility_memory_free(endpoints_pool -> ux_slave_endpoint_transfer_request.ux_sla
 432:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 433:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             /* Move to previous endpoint.  */
 434:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****             endpoints_pool --;
 507              		.loc 1 434 13 view .LVU200
 508              		.loc 1 434 28 is_stmt 0 view .LVU201
 509 019c 903C     		subs	r4, r4, #144
 510              	.LVL67:
 511              	.L19:
 422:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 512              		.loc 1 422 14 is_stmt 1 view .LVU202
 422:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 513              		.loc 1 422 40 is_stmt 0 view .LVU203
 514 019e D6F81C01 		ldr	r0, [r6, #284]
 422:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         {
 515              		.loc 1 422 14 view .LVU204
 516 01a2 A042     		cmp	r0, r4
 517 01a4 08D8     		bhi	.L44
 426:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_device_semaphore_delete(&endpoints_pool -> ux_slave_endpoint_transfer_request.u
 518              		.loc 1 426 13 is_stmt 1 view .LVU205
 426:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_device_semaphore_delete(&endpoints_pool -> ux_slave_endpoint_transfer_request.u
 519              		.loc 1 426 17 is_stmt 0 view .LVU206
 520 01a6 236E     		ldr	r3, [r4, #96]
 426:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_device_semaphore_delete(&endpoints_pool -> ux_slave_endpoint_transfer_request.u
 521              		.loc 1 426 16 view .LVU207
 522 01a8 002B     		cmp	r3, #0
 523 01aa F2D1     		bne	.L45
 524              	.L21:
 430:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_utility_memory_free(endpoints_pool -> ux_slave_endpoint_transfer_request.ux_sla
 525              		.loc 1 430 13 is_stmt 1 view .LVU208
 430:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_utility_memory_free(endpoints_pool -> ux_slave_endpoint_transfer_request.ux_sla
 526              		.loc 1 430 69 is_stmt 0 view .LVU209
 527 01ac E06B     		ldr	r0, [r4, #60]
 430:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****                 _ux_utility_memory_free(endpoints_pool -> ux_slave_endpoint_transfer_request.ux_sla
 528              		.loc 1 430 16 view .LVU210
 529 01ae 0028     		cmp	r0, #0
 530 01b0 F4D0     		beq	.L22
 431:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 531              		.loc 1 431 17 is_stmt 1 view .LVU211
 532 01b2 FFF7FEFF 		bl	_ux_utility_memory_free
 533              	.LVL68:
 534 01b6 F1E7     		b	.L22
 535              	.L44:
 435:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         }
 436:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 437:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         _ux_utility_memory_free(device -> ux_slave_device_endpoints_pool);
 536              		.loc 1 437 9 view .LVU212
 537 01b8 FFF7FEFF 		bl	_ux_utility_memory_free
 538              	.LVL69:
 539              	.L20:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 20


 438:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     }
 439:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 440:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Free device -> ux_slave_device_interfaces_pool.  */
 441:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (device -> ux_slave_device_interfaces_pool)
 540              		.loc 1 441 5 view .LVU213
 541              		.loc 1 441 16 is_stmt 0 view .LVU214
 542 01bc D6F81401 		ldr	r0, [r6, #276]
 543              		.loc 1 441 8 view .LVU215
 544 01c0 08B1     		cbz	r0, .L24
 442:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         _ux_utility_memory_free(device -> ux_slave_device_interfaces_pool);
 545              		.loc 1 442 9 is_stmt 1 view .LVU216
 546 01c2 FFF7FEFF 		bl	_ux_utility_memory_free
 547              	.LVL70:
 548              	.L24:
 443:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 444:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Free device -> ux_slave_device_control_endpoint.ux_slave_endpoint_transfer_request.ux_slave_
 445:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     if (device -> ux_slave_device_control_endpoint.ux_slave_endpoint_transfer_request.ux_slave_tran
 549              		.loc 1 445 5 view .LVU217
 550              		.loc 1 445 86 is_stmt 0 view .LVU218
 551 01c6 D6F89800 		ldr	r0, [r6, #152]
 552              		.loc 1 445 8 view .LVU219
 553 01ca 08B1     		cbz	r0, .L25
 446:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****         _ux_utility_memory_free(device -> ux_slave_device_control_endpoint.ux_slave_endpoint_transf
 554              		.loc 1 446 9 is_stmt 1 view .LVU220
 555 01cc FFF7FEFF 		bl	_ux_utility_memory_free
 556              	.LVL71:
 557              	.L25:
 447:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 448:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Free _ux_system_slave -> ux_system_slave_class_array.  */
 449:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     _ux_utility_memory_free(_ux_system_slave -> ux_system_slave_class_array);
 558              		.loc 1 449 5 view .LVU221
 559              		.loc 1 449 46 is_stmt 0 view .LVU222
 560 01d0 054B     		ldr	r3, .L46
 561 01d2 1B68     		ldr	r3, [r3]
 562              		.loc 1 449 5 view .LVU223
 563 01d4 D3F85801 		ldr	r0, [r3, #344]
 564 01d8 FFF7FEFF 		bl	_ux_utility_memory_free
 565              	.LVL72:
 450:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** 
 451:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     /* Return completion status.  */
 452:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     return(status);
 566              		.loc 1 452 5 is_stmt 1 view .LVU224
 567              	.L1:
 453:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c **** }
 568              		.loc 1 453 1 is_stmt 0 view .LVU225
 569 01dc 2846     		mov	r0, r5
 570 01de BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 571              	.LVL73:
 572              	.L26:
 167:./Middlewares/ST/usbx/common/core/src/ux_device_stack_initialize.c ****     
 573              		.loc 1 167 15 view .LVU226
 574 01e2 1225     		movs	r5, #18
 575 01e4 FAE7     		b	.L1
 576              	.L47:
 577 01e6 00BF     		.align	2
 578              	.L46:
 579 01e8 00000000 		.word	.LANCHOR0
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 21


 580 01ec 00000000 		.word	.LC0
 581              		.cfi_endproc
 582              	.LFE11:
 584              		.global	_ux_system_slave
 585              		.global	_ux_system_device_class_printer_name
 586              		.global	_ux_system_slave_class_audio_name
 587              		.global	_ux_system_slave_class_dfu_name
 588              		.global	_ux_system_slave_class_cdc_ecm_name
 589              		.global	_ux_system_slave_class_rndis_name
 590              		.global	_ux_system_slave_class_hid_name
 591              		.global	_ux_system_slave_class_pima_name
 592              		.global	_ux_system_slave_class_dpump_name
 593              		.global	_ux_system_slave_class_cdc_acm_name
 594              		.global	_ux_system_slave_class_storage_name
 595              		.section	.bss._ux_system_slave,"aw",%nobits
 596              		.align	2
 597              		.set	.LANCHOR0,. + 0
 600              	_ux_system_slave:
 601 0000 00000000 		.space	4
 602              		.section	.data._ux_system_device_class_printer_name,"aw"
 603              		.align	2
 606              	_ux_system_device_class_printer_name:
 607 0000 75785F64 		.ascii	"ux_device_class_printer\000"
 607      65766963 
 607      655F636C 
 607      6173735F 
 607      7072696E 
 608              		.section	.data._ux_system_slave_class_audio_name,"aw"
 609              		.align	2
 612              	_ux_system_slave_class_audio_name:
 613 0000 75785F73 		.ascii	"ux_slave_class_audio\000"
 613      6C617665 
 613      5F636C61 
 613      73735F61 
 613      7564696F 
 614              		.section	.data._ux_system_slave_class_cdc_acm_name,"aw"
 615              		.align	2
 618              	_ux_system_slave_class_cdc_acm_name:
 619 0000 75785F73 		.ascii	"ux_slave_class_cdc_acm\000"
 619      6C617665 
 619      5F636C61 
 619      73735F63 
 619      64635F61 
 620              		.section	.data._ux_system_slave_class_cdc_ecm_name,"aw"
 621              		.align	2
 624              	_ux_system_slave_class_cdc_ecm_name:
 625 0000 75785F73 		.ascii	"ux_slave_class_cdc_ecm\000"
 625      6C617665 
 625      5F636C61 
 625      73735F63 
 625      64635F65 
 626              		.section	.data._ux_system_slave_class_dfu_name,"aw"
 627              		.align	2
 630              	_ux_system_slave_class_dfu_name:
 631 0000 75785F73 		.ascii	"ux_slave_class_dfu\000"
 631      6C617665 
 631      5F636C61 
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 22


 631      73735F64 
 631      667500
 632              		.section	.data._ux_system_slave_class_dpump_name,"aw"
 633              		.align	2
 636              	_ux_system_slave_class_dpump_name:
 637 0000 75785F73 		.ascii	"ux_slave_class_dpump\000"
 637      6C617665 
 637      5F636C61 
 637      73735F64 
 637      70756D70 
 638              		.section	.data._ux_system_slave_class_hid_name,"aw"
 639              		.align	2
 642              	_ux_system_slave_class_hid_name:
 643 0000 75785F73 		.ascii	"ux_slave_class_hid\000"
 643      6C617665 
 643      5F636C61 
 643      73735F68 
 643      696400
 644              		.section	.data._ux_system_slave_class_pima_name,"aw"
 645              		.align	2
 648              	_ux_system_slave_class_pima_name:
 649 0000 75785F73 		.ascii	"ux_slave_class_pima\000"
 649      6C617665 
 649      5F636C61 
 649      73735F70 
 649      696D6100 
 650              		.section	.data._ux_system_slave_class_rndis_name,"aw"
 651              		.align	2
 654              	_ux_system_slave_class_rndis_name:
 655 0000 75785F73 		.ascii	"ux_slave_class_rndis\000"
 655      6C617665 
 655      5F636C61 
 655      73735F72 
 655      6E646973 
 656              		.section	.data._ux_system_slave_class_storage_name,"aw"
 657              		.align	2
 660              	_ux_system_slave_class_storage_name:
 661 0000 75785F73 		.ascii	"ux_slave_class_storage\000"
 661      6C617665 
 661      5F636C61 
 661      73735F73 
 661      746F7261 
 662              		.text
 663              	.Letext0:
 664              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 665              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 666              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
 667              		.file 5 "./Middlewares/ST/usbx/common/core/inc/ux_system.h"
 668              		.file 6 "./Middlewares/ST/usbx/common/core/inc/ux_utility.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 ux_device_stack_initialize.c
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:20     .rodata._ux_device_stack_initialize.str1.4:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:24     .text._ux_device_stack_initialize:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:30     .text._ux_device_stack_initialize:00000000 _ux_device_stack_initialize
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:579    .text._ux_device_stack_initialize:000001e8 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:600    .bss._ux_system_slave:00000000 _ux_system_slave
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:606    .data._ux_system_device_class_printer_name:00000000 _ux_system_device_class_printer_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:612    .data._ux_system_slave_class_audio_name:00000000 _ux_system_slave_class_audio_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:630    .data._ux_system_slave_class_dfu_name:00000000 _ux_system_slave_class_dfu_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:624    .data._ux_system_slave_class_cdc_ecm_name:00000000 _ux_system_slave_class_cdc_ecm_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:654    .data._ux_system_slave_class_rndis_name:00000000 _ux_system_slave_class_rndis_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:642    .data._ux_system_slave_class_hid_name:00000000 _ux_system_slave_class_hid_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:648    .data._ux_system_slave_class_pima_name:00000000 _ux_system_slave_class_pima_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:636    .data._ux_system_slave_class_dpump_name:00000000 _ux_system_slave_class_dpump_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:618    .data._ux_system_slave_class_cdc_acm_name:00000000 _ux_system_slave_class_cdc_acm_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:660    .data._ux_system_slave_class_storage_name:00000000 _ux_system_slave_class_storage_name
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:596    .bss._ux_system_slave:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:603    .data._ux_system_device_class_printer_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:609    .data._ux_system_slave_class_audio_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:615    .data._ux_system_slave_class_cdc_acm_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:621    .data._ux_system_slave_class_cdc_ecm_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:627    .data._ux_system_slave_class_dfu_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:633    .data._ux_system_slave_class_dpump_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:639    .data._ux_system_slave_class_hid_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:645    .data._ux_system_slave_class_pima_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:651    .data._ux_system_slave_class_rndis_name:00000000 $d
C:\Users\Dennis\AppData\Local\Temp\ccXB86MF.s:657    .data._ux_system_slave_class_storage_name:00000000 $d

UNDEFINED SYMBOLS
_ux_utility_memory_allocate
_ux_system_error_handler
_ux_utility_memory_allocate_mulc_safe
_ux_utility_semaphore_create
_ux_utility_semaphore_delete
_ux_utility_memory_free
