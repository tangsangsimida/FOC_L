ARM GAS  /tmp/cc6wfm0a.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_host_stack_bandwidth_claim.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c"
  20              		.section	.text._ux_host_stack_bandwidth_claim,"ax",%progbits
  21              		.align	1
  22              		.global	_ux_host_stack_bandwidth_claim
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_ux_host_stack_bandwidth_claim:
  28              	.LVL0:
  29              	.LFB11:
   1:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  12:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  13:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  15:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**                                                                       */ 
  16:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /** USBX Component                                                        */ 
  17:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**   Host Stack                                                          */
  19:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  22:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  23:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  24:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /* Include necessary system files.  */
  25:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  26:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** #define UX_SOURCE_CODE
  27:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  28:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** #include "ux_api.h"
  29:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** #include "ux_host_stack.h"
ARM GAS  /tmp/cc6wfm0a.s 			page 2


  30:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  31:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  32:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** #if UX_MAX_DEVICES > 1
  33:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/ 
  34:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  35:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  FUNCTION                                               RELEASE        */ 
  36:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  37:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    _ux_host_stack_bandwidth_claim                      PORTABLE C      */ 
  38:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                           6.1          */
  39:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  AUTHOR                                                                */
  40:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
  41:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  42:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
  43:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  DESCRIPTION                                                           */
  44:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  45:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    This function will reserve bandwidth for a periodic endpoint. The   */ 
  46:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    bandwidth requirement is calculated by the MaxPacketSize field of   */
  47:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    endpoint and the speed of the endpoint. If the device is on a 1.1   */ 
  48:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    bus or it is a 1.1 device behind a 2.0 hub on a 2.0 bus, the device */
  49:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    bandwidth must be multiplied by 8 on the 1.1 segment.               */
  50:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
  51:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    This algorithm takes into account both TT bandwidth and HCD         */ 
  52:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    bandwidth. The TTs are attached to the device structure and not     */ 
  53:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    the hub structure in order to make the stack agnostic of the hub    */ 
  54:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    class.                                                              */ 
  55:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  56:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  INPUT                                                                 */ 
  57:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  58:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    HCD                                   Pointer to HCD                */ 
  59:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    endpoint                              Pointer to endpoint           */ 
  60:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  61:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  OUTPUT                                                                */ 
  62:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  63:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    None                                                                */ 
  64:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  65:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  CALLS                                                                 */ 
  66:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  67:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    None                                                                */ 
  68:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  69:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  CALLED BY                                                             */ 
  70:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  71:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    USBX Components                                                     */ 
  72:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  73:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  RELEASE HISTORY                                                       */ 
  74:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  75:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*    DATE              NAME                      DESCRIPTION             */ 
  76:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */ 
  77:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  78:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  79:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                            optimized based on compile  */
  80:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                            definitions,                */
  81:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                            resulting in version 6.1    */
  82:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*                                                                        */
  83:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /**************************************************************************/
  84:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** VOID  _ux_host_stack_bandwidth_claim(UX_HCD *hcd, UX_ENDPOINT *endpoint)
  85:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** {
  30              		.loc 1 85 1 view -0
ARM GAS  /tmp/cc6wfm0a.s 			page 3


  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 16
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 85 1 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 85B0     		sub	sp, sp, #20
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 32
  44 0004 8446     		mov	ip, r0
  45 0006 0D46     		mov	r5, r1
  86:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
  87:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** UX_DEVICE       *device;
  46              		.loc 1 87 1 is_stmt 1 view .LVU2
  88:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** UX_DEVICE       *parent_device;
  47              		.loc 1 88 1 view .LVU3
  89:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** USHORT          hcd_bandwidth_claimed;
  48              		.loc 1 89 1 view .LVU4
  90:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** USHORT          max_packet_size;
  49              		.loc 1 90 1 view .LVU5
  91:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** LONG            packet_size;
  50              		.loc 1 91 1 view .LVU6
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** USHORT          tt_bandwidth_claimed =  0;
  51              		.loc 1 92 1 view .LVU7
  52              	.LVL1:
  93:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           port_index;
  53              		.loc 1 93 1 view .LVU8
  94:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           port_map;
  54              		.loc 1 94 1 view .LVU9
  95:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           tt_index;
  55              		.loc 1 95 1 view .LVU10
  96:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** const UCHAR     overheads[4][3] = {
  56              		.loc 1 96 1 view .LVU11
  57              		.loc 1 96 17 is_stmt 0 view .LVU12
  58 0008 384B     		ldr	r3, .L18
  59 000a 93E80700 		ldm	r3, {r0, r1, r2}
  60              	.LVL2:
  61              		.loc 1 96 17 view .LVU13
  62 000e 04AB     		add	r3, sp, #16
  63 0010 03E90700 		stmdb	r3, {r0, r1, r2}
  97:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** /*   LS  FS   HS   */
  98:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {63, 45, 173}, /* Control */
  99:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     { 0,  9,  38}, /* Isochronous */
 100:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     { 0, 13,  55}, /* Bulk */
 101:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {19, 13,  55}  /* Interrupt */
 102:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** };
 103:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 104:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Get the pointer to the device.  */
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     device =  endpoint -> ux_endpoint_device;
  64              		.loc 1 105 5 is_stmt 1 view .LVU14
  65              		.loc 1 105 12 is_stmt 0 view .LVU15
  66 0014 EA6A     		ldr	r2, [r5, #44]
  67              	.LVL3:
ARM GAS  /tmp/cc6wfm0a.s 			page 4


 106:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 107:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Calculate the bandwidth. From USB spec.
 108:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      *
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * The frame unit consumed per byte is like follow:
 110:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      *              Bytes/FrameUnit     FrameUnit/byte  FrameUnit/byte
 111:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      *              (Overhead included) (HS baseline)   (FS baseline)
 112:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * Low Speed       187.5                40             8
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * Full Speed     1500                   5             1
 114:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * High Speed     7500                   1            1/5
 115:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * 
 116:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * The overhead is like follow:
 117:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      *               Control Isochronous Bulk Interrupt
 118:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * bmAttribute     (0)       (1)     (2)     (3)
 119:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * Low Speed        63       --      --      19
 120:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * Full Speed       45        9      13      13
 121:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * High Speed      173       38      55      55
 122:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * 
 123:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      * Worst case bit stuffing is calculated as 1.1667 (7/6) times the raw time.
 124:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****      */
 125:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 126:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Get maximum packet size.  */
 127:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     max_packet_size  = endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_PACKET_SIZE_MASK;
  68              		.loc 1 127 5 is_stmt 1 view .LVU16
  69              		.loc 1 127 58 is_stmt 0 view .LVU17
  70 0016 E869     		ldr	r0, [r5, #28]
  71              		.loc 1 127 22 view .LVU18
  72 0018 C0F30A03 		ubfx	r3, r0, #0, #11
  73              	.LVL4:
 128:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Rough time for possible Bit Stuffing.  */
 130:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     packet_size = (max_packet_size * 7 + 5) / 6;
  74              		.loc 1 130 5 is_stmt 1 view .LVU19
  75              		.loc 1 130 36 is_stmt 0 view .LVU20
  76 001c C3EBC303 		rsb	r3, r3, r3, lsl #3
  77              	.LVL5:
  78              		.loc 1 130 40 view .LVU21
  79 0020 0533     		adds	r3, r3, #5
  80              		.loc 1 130 17 view .LVU22
  81 0022 3349     		ldr	r1, .L18+4
  82 0024 81FB031E 		smull	r1, lr, r1, r3
  83 0028 AEEBE37E 		sub	lr, lr, r3, asr #31
  84              	.LVL6:
 131:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 132:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Add overhead.  */
 133:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     packet_size += overheads[endpoint -> ux_endpoint_descriptor.bmAttributes & UX_MASK_ENDPOINT_TYP
  85              		.loc 1 133 5 is_stmt 1 view .LVU23
  86              		.loc 1 133 64 is_stmt 0 view .LVU24
  87 002c AB69     		ldr	r3, [r5, #24]
  88              		.loc 1 133 78 view .LVU25
  89 002e 03F00303 		and	r3, r3, #3
  90              		.loc 1 133 110 view .LVU26
  91 0032 1169     		ldr	r1, [r2, #16]
  92              		.loc 1 133 102 view .LVU27
  93 0034 03EB4303 		add	r3, r3, r3, lsl #1
  94 0038 1033     		adds	r3, r3, #16
  95 003a 6B44     		add	r3, sp, r3
  96 003c 0B44     		add	r3, r3, r1
ARM GAS  /tmp/cc6wfm0a.s 			page 5


  97 003e 13F80C3C 		ldrb	r3, [r3, #-12]	@ zero_extendqisi2
  98              		.loc 1 133 17 view .LVU28
  99 0042 7344     		add	r3, r3, lr
 100              	.LVL7:
 134:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     max_packet_size = (USHORT)packet_size;
 101              		.loc 1 134 5 is_stmt 1 view .LVU29
 102              		.loc 1 134 21 is_stmt 0 view .LVU30
 103 0044 9BB2     		uxth	r3, r3
 104              	.LVL8:
 135:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Check for high-speed endpoint.  */
 137:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     if (device -> ux_device_speed == UX_HIGH_SPEED_DEVICE)
 105              		.loc 1 137 5 is_stmt 1 view .LVU31
 106              		.loc 1 137 8 is_stmt 0 view .LVU32
 107 0046 0229     		cmp	r1, #2
 108 0048 1CD0     		beq	.L15
 109              	.L2:
 138:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 139:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 140:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* Get number of transactions.  */
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         max_packet_size = (USHORT)(max_packet_size *
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 143:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                         UX_MAX_NUMBER_OF_TRANSACTIONS_SHIFT) + 1));
 144:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 145:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 146:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Calculate the bandwidth claimed by this endpoint for the main bus.  */
 147:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     if (hcd -> ux_hcd_version != 0x200)
 110              		.loc 1 147 5 is_stmt 1 view .LVU33
 111              		.loc 1 147 13 is_stmt 0 view .LVU34
 112 004a DCF89040 		ldr	r4, [ip, #144]
 113              		.loc 1 147 8 view .LVU35
 114 004e B4F5007F 		cmp	r4, #512
 115 0052 27D0     		beq	.L3
 148:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 149:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 150:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         if (device -> ux_device_speed == UX_LOW_SPEED_DEVICE)
 116              		.loc 1 150 9 is_stmt 1 view .LVU36
 117              		.loc 1 150 12 is_stmt 0 view .LVU37
 118 0054 E9B9     		cbnz	r1, .L4
 151:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Low speed transfer takes 40x more units than high speed. */
 152:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             hcd_bandwidth_claimed =  (USHORT)(max_packet_size * 8 * 5);
 119              		.loc 1 152 13 is_stmt 1 view .LVU38
 120              		.loc 1 152 35 is_stmt 0 view .LVU39
 121 0056 03EB8303 		add	r3, r3, r3, lsl #2
 122              	.LVL9:
 123              		.loc 1 152 35 view .LVU40
 124 005a DB00     		lsls	r3, r3, #3
 125 005c 9BB2     		uxth	r3, r3
 126              	.LVL10:
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           port_index;
 127              		.loc 1 92 17 view .LVU41
 128 005e 0020     		movs	r0, #0
 129              	.LVL11:
 130              	.L5:
 153:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         else
 154:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         {
 155:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
ARM GAS  /tmp/cc6wfm0a.s 			page 6


 156:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             if (device -> ux_device_speed == UX_FULL_SPEED_DEVICE)
 157:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Full speed transfer takes 5x more units than high speed. */
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 hcd_bandwidth_claimed =  (USHORT)(max_packet_size * 5);
 159:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             else
 160:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Use high speed timing as base for bus bandwidth calculation. */
 161:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 hcd_bandwidth_claimed =  (USHORT)max_packet_size;
 162:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         }
 163:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 164:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     else        
 165:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 166:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 167:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         hcd_bandwidth_claimed =  (USHORT)max_packet_size;
 168:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         if (device -> ux_device_speed == UX_LOW_SPEED_DEVICE)
 169:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Low speed transfer takes 8x more units than full speed. */
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             tt_bandwidth_claimed =  (USHORT)(max_packet_size * 8);
 171:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         else
 172:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Use full speed timing as base for TT bandwidth calculation. */
 173:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             tt_bandwidth_claimed =  (USHORT)max_packet_size;
 174:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 175:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 176:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Allocate the HCD bandwidth, since it's already checked by _bandwidth_check.  */
 177:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     hcd -> ux_hcd_available_bandwidth -=  hcd_bandwidth_claimed;
 131              		.loc 1 177 5 is_stmt 1 view .LVU42
 132              		.loc 1 177 9 is_stmt 0 view .LVU43
 133 0060 DCF88C10 		ldr	r1, [ip, #140]
 134              	.LVL12:
 135              		.loc 1 177 39 view .LVU44
 136 0064 C91A     		subs	r1, r1, r3
 137 0066 CCF88C10 		str	r1, [ip, #140]
 138              	.LVL13:
 178:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 179:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* We need to take care of the case where the endpoint belongs to a USB 1.1
 180:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        device that sits behind a 2.0 hub. We ignore cases where the device
 181:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        is either high speed or the bus is 1.1.  */
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     if ((device -> ux_device_speed == UX_HIGH_SPEED_DEVICE) || (hcd -> ux_hcd_version != 0x200))
 139              		.loc 1 182 5 is_stmt 1 view .LVU45
 140              		.loc 1 182 17 is_stmt 0 view .LVU46
 141 006a 1369     		ldr	r3, [r2, #16]
 142              	.LVL14:
 143              		.loc 1 182 8 view .LVU47
 144 006c 022B     		cmp	r3, #2
 145 006e 25D0     		beq	.L1
 146              		.loc 1 182 61 discriminator 1 view .LVU48
 147 0070 B4F5007F 		cmp	r4, #512
 148 0074 22D1     		bne	.L1
 183:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 184:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 185:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* The device is high speed, therefore no need for TT.  */
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         return;
 187:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 188:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 189:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* We have a 1.1 device, check if the parent is a 2.0 hub.  */
 190:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     parent_device =  device -> ux_device_parent;
 149              		.loc 1 190 5 is_stmt 1 view .LVU49
 150              		.loc 1 190 19 is_stmt 0 view .LVU50
 151 0076 D2F81831 		ldr	r3, [r2, #280]
 152              	.LVL15:
ARM GAS  /tmp/cc6wfm0a.s 			page 7


 191:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     if (parent_device == UX_NULL)
 153              		.loc 1 191 5 is_stmt 1 view .LVU51
 154              		.loc 1 191 8 is_stmt 0 view .LVU52
 155 007a FBB1     		cbz	r3, .L1
 192:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 194:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* We are at the root, must be a 1.1 controller then!  */
 195:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         return;
 196:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 197:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 198:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* We get here when the parent is a hub. The problem occurs when the hub is 
 199:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        itself connected to a chain of hubs. We need to find the first 2.0 hub 
 200:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        parent to this chain to check the TT. We need to remember the port on 
 201:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        which the first 1.1 device is hooked to.  */
 202:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     port_index =  device -> ux_device_port_location - 1;
 156              		.loc 1 202 5 is_stmt 1 view .LVU53
 157              		.loc 1 202 26 is_stmt 0 view .LVU54
 158 007c D2F81021 		ldr	r2, [r2, #272]
 159              	.LVL16:
 160              		.loc 1 202 16 view .LVU55
 161 0080 013A     		subs	r2, r2, #1
 162              	.LVL17:
 203:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 204:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* Scan the chain of hubs upward.  */
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     while (parent_device != UX_NULL)
 163              		.loc 1 205 5 is_stmt 1 view .LVU56
 164              		.loc 1 205 11 is_stmt 0 view .LVU57
 165 0082 22E0     		b	.L7
 166              	.LVL18:
 167              	.L15:
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 168              		.loc 1 141 9 is_stmt 1 view .LVU58
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                         UX_MAX_NUMBER_OF_TRANSACTIONS_SHIFT) + 1));
 169              		.loc 1 142 112 is_stmt 0 view .LVU59
 170 0084 C0F3C120 		ubfx	r0, r0, #11, #2
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 171              		.loc 1 141 27 view .LVU60
 172 0088 0130     		adds	r0, r0, #1
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 173              		.loc 1 141 25 view .LVU61
 174 008a 10FB03F3 		smulbb	r3, r0, r3
 175              	.LVL19:
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 176              		.loc 1 141 25 view .LVU62
 177 008e 9BB2     		uxth	r3, r3
 178              	.LVL20:
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     (((endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSAC
 179              		.loc 1 141 25 view .LVU63
 180 0090 DBE7     		b	.L2
 181              	.L4:
 156:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Full speed transfer takes 5x more units than high speed. */
 182              		.loc 1 156 13 is_stmt 1 view .LVU64
 156:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Full speed transfer takes 5x more units than high speed. */
 183              		.loc 1 156 16 is_stmt 0 view .LVU65
 184 0092 0129     		cmp	r1, #1
 185 0094 01D0     		beq	.L16
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           port_index;
ARM GAS  /tmp/cc6wfm0a.s 			page 8


 186              		.loc 1 92 17 view .LVU66
 187 0096 0020     		movs	r0, #0
 188 0098 E2E7     		b	.L5
 189              	.L16:
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             else
 190              		.loc 1 158 17 is_stmt 1 view .LVU67
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             else
 191              		.loc 1 158 39 is_stmt 0 view .LVU68
 192 009a 03EB8303 		add	r3, r3, r3, lsl #2
 193              	.LVL21:
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             else
 194              		.loc 1 158 39 view .LVU69
 195 009e 9BB2     		uxth	r3, r3
 196              	.LVL22:
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** ULONG           port_index;
 197              		.loc 1 92 17 view .LVU70
 198 00a0 0020     		movs	r0, #0
 199 00a2 DDE7     		b	.L5
 200              	.LVL23:
 201              	.L3:
 167:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         if (device -> ux_device_speed == UX_LOW_SPEED_DEVICE)
 202              		.loc 1 167 9 is_stmt 1 view .LVU71
 168:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Low speed transfer takes 8x more units than full speed. */
 203              		.loc 1 168 9 view .LVU72
 168:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Low speed transfer takes 8x more units than full speed. */
 204              		.loc 1 168 12 is_stmt 0 view .LVU73
 205 00a4 11B9     		cbnz	r1, .L13
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         else
 206              		.loc 1 170 13 is_stmt 1 view .LVU74
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         else
 207              		.loc 1 170 34 is_stmt 0 view .LVU75
 208 00a6 D800     		lsls	r0, r3, #3
 209 00a8 80B2     		uxth	r0, r0
 210              	.LVL24:
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         else
 211              		.loc 1 170 34 view .LVU76
 212 00aa D9E7     		b	.L5
 213              	.LVL25:
 214              	.L13:
 173:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 215              		.loc 1 173 34 view .LVU77
 216 00ac 1846     		mov	r0, r3
 217 00ae D7E7     		b	.L5
 218              	.LVL26:
 219              	.L17:
 206:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 207:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 208:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* Is the device high speed?  */
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         if (parent_device -> ux_device_speed == UX_HIGH_SPEED_DEVICE)
 210:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         {
 211:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 212:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* The device is a high speed hub, find the TT that manages the port. 
 213:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                The first 1.1 device is connected to. First we calculate the port 
 214:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                mapping bit.  */
 215:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             port_map =  (ULONG)(1 << port_index);
 216:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 217:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             /* Parse all the TTs attached to the hub.
ARM GAS  /tmp/cc6wfm0a.s 			page 9


 218:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                Since we confirmed exist of TT in previous _check,
 219:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                just do while loop here.
 220:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****              */
 221:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             tt_index = 0;
 222:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             while(1)
 223:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             {
 224:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Check if this TT owns the port where the device is attached.  */
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 if ((parent_device -> ux_device_hub_tt[tt_index].ux_hub_tt_port_mapping & port_map)
 226:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 {
 227:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 228:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     /* We have found the port, check if the tt can give us the bandwidth
 229:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                        we want to claim.  */
 230:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     parent_device -> ux_device_hub_tt[tt_index].ux_hub_tt_max_bandwidth -=  tt_band
 220              		.loc 1 230 21 is_stmt 1 view .LVU78
 221              		.loc 1 230 64 is_stmt 0 view .LVU79
 222 00b0 2432     		adds	r2, r2, #36
 223              	.LVL27:
 224              		.loc 1 230 64 view .LVU80
 225 00b2 03EBC203 		add	r3, r3, r2, lsl #3
 226              	.LVL28:
 227              		.loc 1 230 64 view .LVU81
 228 00b6 5A68     		ldr	r2, [r3, #4]
 229              	.LVL29:
 230              		.loc 1 230 89 view .LVU82
 231 00b8 121A     		subs	r2, r2, r0
 232 00ba 5A60     		str	r2, [r3, #4]
 231:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                     return;
 233              		.loc 1 231 21 is_stmt 1 view .LVU83
 234              	.LVL30:
 235              	.L1:
 232:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 }
 233:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 234:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 /* Try next index.  */
 235:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 tt_index ++;
 236:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             }
 237:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         }
 238:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 239:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* We now remember where this hub is located on the parent.  */
 240:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         port_index =  parent_device -> ux_device_port_location - 1;
 241:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         
 242:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         /* We go up one level in the hub chain.  */
 243:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         parent_device =  parent_device -> ux_device_parent;
 244:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 245:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 246:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     /* We get here when we have not found a 2.0 hub in the list and we got
 247:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****        to the root port.  */
 248:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     return;
 249:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** }
 236              		.loc 1 249 1 is_stmt 0 view .LVU84
 237 00bc 05B0     		add	sp, sp, #20
 238              	.LCFI2:
 239              		.cfi_remember_state
 240              		.cfi_def_cfa_offset 12
 241              		@ sp needed
 242 00be 30BD     		pop	{r4, r5, pc}
 243              	.LVL31:
 244              	.L8:
ARM GAS  /tmp/cc6wfm0a.s 			page 10


 245              	.LCFI3:
 246              		.cfi_restore_state
 240:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         
 247              		.loc 1 240 9 is_stmt 1 view .LVU85
 240:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         
 248              		.loc 1 240 37 is_stmt 0 view .LVU86
 249 00c0 D3F81021 		ldr	r2, [r3, #272]
 250              	.LVL32:
 240:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         
 251              		.loc 1 240 20 view .LVU87
 252 00c4 013A     		subs	r2, r2, #1
 253              	.LVL33:
 243:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 254              		.loc 1 243 9 is_stmt 1 view .LVU88
 243:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     }
 255              		.loc 1 243 23 is_stmt 0 view .LVU89
 256 00c6 D3F81831 		ldr	r3, [r3, #280]
 257              	.LVL34:
 258              	.L7:
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****     {
 259              		.loc 1 205 26 is_stmt 1 view .LVU90
 260 00ca 002B     		cmp	r3, #0
 261 00cc F6D0     		beq	.L1
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         {
 262              		.loc 1 209 9 view .LVU91
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         {
 263              		.loc 1 209 27 is_stmt 0 view .LVU92
 264 00ce 1969     		ldr	r1, [r3, #16]
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****         {
 265              		.loc 1 209 12 view .LVU93
 266 00d0 0229     		cmp	r1, #2
 267 00d2 F5D1     		bne	.L8
 215:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 268              		.loc 1 215 13 is_stmt 1 view .LVU94
 215:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c **** 
 269              		.loc 1 215 35 is_stmt 0 view .LVU95
 270 00d4 0124     		movs	r4, #1
 271 00d6 9440     		lsls	r4, r4, r2
 272              	.LVL35:
 221:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             while(1)
 273              		.loc 1 221 13 is_stmt 1 view .LVU96
 221:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             while(1)
 274              		.loc 1 221 22 is_stmt 0 view .LVU97
 275 00d8 0022     		movs	r2, #0
 276              	.LVL36:
 277              	.L10:
 222:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             {
 278              		.loc 1 222 13 is_stmt 1 view .LVU98
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 {
 279              		.loc 1 225 17 view .LVU99
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 {
 280              		.loc 1 225 65 is_stmt 0 view .LVU100
 281 00da 02F12401 		add	r1, r2, #36
 282 00de 53F83110 		ldr	r1, [r3, r1, lsl #3]
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 {
 283              		.loc 1 225 20 view .LVU101
 284 00e2 2142     		tst	r1, r4
ARM GAS  /tmp/cc6wfm0a.s 			page 11


 285 00e4 E4D1     		bne	.L17
 235:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             }
 286              		.loc 1 235 17 is_stmt 1 view .LVU102
 235:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             }
 287              		.loc 1 235 26 is_stmt 0 view .LVU103
 288 00e6 0132     		adds	r2, r2, #1
 289              	.LVL37:
 222:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****             {
 290              		.loc 1 222 18 is_stmt 1 view .LVU104
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_bandwidth_claim.c ****                 {
 291              		.loc 1 225 20 is_stmt 0 view .LVU105
 292 00e8 F7E7     		b	.L10
 293              	.L19:
 294 00ea 00BF     		.align	2
 295              	.L18:
 296 00ec 00000000 		.word	.LANCHOR0
 297 00f0 ABAAAA2A 		.word	715827883
 298              		.cfi_endproc
 299              	.LFE11:
 301              		.section	.rodata
 302              		.align	2
 303              		.set	.LANCHOR0,. + 0
 304              	.LC0:
 305 0000 3F2DAD   		.ascii	"?-\255"
 306 0003 000926   		.ascii	"\000\011&"
 307 0006 000D37   		.ascii	"\000\0157"
 308 0009 130D37   		.ascii	"\023\0157"
 309              		.text
 310              	.Letext0:
 311              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 312              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 313              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
ARM GAS  /tmp/cc6wfm0a.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 ux_host_stack_bandwidth_claim.c
     /tmp/cc6wfm0a.s:21     .text._ux_host_stack_bandwidth_claim:00000000 $t
     /tmp/cc6wfm0a.s:27     .text._ux_host_stack_bandwidth_claim:00000000 _ux_host_stack_bandwidth_claim
     /tmp/cc6wfm0a.s:296    .text._ux_host_stack_bandwidth_claim:000000ec $d
     /tmp/cc6wfm0a.s:302    .rodata:00000000 $d

NO UNDEFINED SYMBOLS
