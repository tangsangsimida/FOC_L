ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_host_stack_device_remove.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._ux_host_stack_device_remove,"ax",%progbits
  20              		.align	1
  21              		.global	_ux_host_stack_device_remove
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ux_host_stack_device_remove:
  27              	.LVL0:
  28              	.LFB11:
  29              		.file 1 "./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c"
   1:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  12:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  13:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  15:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**                                                                       */
  16:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /** USBX Component                                                        */
  17:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**   Host Stack                                                          */
  19:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  22:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  23:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  24:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /* Include necessary system files.  */
  25:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  26:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #define UX_SOURCE_CODE
  27:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  28:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #include "ux_api.h"
  29:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #include "ux_host_stack.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 2


  30:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  31:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  32:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  33:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  34:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  FUNCTION                                               RELEASE        */
  35:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  36:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    _ux_host_stack_device_remove                        PORTABLE C      */
  37:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                           6.1.10       */
  38:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  AUTHOR                                                                */
  39:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  40:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  41:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  42:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  DESCRIPTION                                                           */
  43:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  44:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    This function will remove a USB device from the bus.                */
  45:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  46:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  INPUT                                                                 */
  47:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  48:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    HCD                                   Pointer to the HCD            */
  49:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    parent                                The parent device address     */
  50:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    port_index                            Index of the port on which the*/
  51:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            change of status occurred   */
  52:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  53:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  OUTPUT                                                                */
  54:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  55:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    Completion Status                                                   */
  56:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  57:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  CALLS                                                                 */
  58:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  59:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    _ux_host_stack_device_resources_free  Free all device resources     */
  60:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  61:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  CALLED BY                                                             */
  62:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  63:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    USBX Components                                                     */
  64:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  65:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  RELEASE HISTORY                                                       */
  66:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  67:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*    DATE              NAME                      DESCRIPTION             */
  68:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  69:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  70:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  71:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            optimized based on compile  */
  72:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            definitions,                */
  73:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            resulting in version 6.1    */
  74:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  02-02-2021     Chaoqiong Xiao           Modified comment(s),          */
  75:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            used pointer for current    */
  76:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            selected configuration,     */
  77:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            added notification for      */
  78:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            device disconnection,       */
  79:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            resulting in version 6.1.4  */
  80:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
  81:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            added standalone support,   */
  82:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                            resulting in version 6.1.10 */
  83:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /*                                                                        */
  84:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** /**************************************************************************/
  85:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** UINT  _ux_host_stack_device_remove(UX_HCD *hcd, UX_DEVICE *parent, UINT port_index)
  86:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** {
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 3


  30              		.loc 1 86 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 56
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 86 1 is_stmt 0 view .LVU1
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 8FB0     		sub	sp, sp, #60
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 80
  46 0004 0746     		mov	r7, r0
  87:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  88:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #if UX_MAX_DEVICES > 1
  89:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** ULONG                       container_index;
  47              		.loc 1 89 1 is_stmt 1 view .LVU2
  90:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #endif
  91:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** UX_DEVICE                   *device;
  48              		.loc 1 91 1 view .LVU3
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** UX_CONFIGURATION            *configuration;
  49              		.loc 1 92 1 view .LVU4
  93:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** UX_INTERFACE                *interface;
  50              		.loc 1 93 1 view .LVU5
  94:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** UX_HOST_CLASS_COMMAND       command;
  51              		.loc 1 94 1 view .LVU6
  95:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  96:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* We need to find the device descriptor for the removed device. We can find it
  97:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****        with the parent device and the port it was attached to. Start with the first device.  */
  98:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     device =  _ux_system_host -> ux_system_host_device_array;
  52              		.loc 1 98 5 view .LVU7
  53              		.loc 1 98 31 is_stmt 0 view .LVU8
  54 0006 294B     		ldr	r3, .L16
  55 0008 1E68     		ldr	r6, [r3]
  56              		.loc 1 98 12 view .LVU9
  57 000a B469     		ldr	r4, [r6, #24]
  58              	.LVL1:
  99:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 100:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #if UX_MAX_DEVICES > 1
 101:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Start at the beginning of the list.  */
 102:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     container_index =  0;
  59              		.loc 1 102 5 is_stmt 1 view .LVU10
 103:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 104:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Search the list until the end.  */
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     while (container_index++ < _ux_system_host -> ux_system_host_max_devices)
  60              		.loc 1 105 5 view .LVU11
 102:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
  61              		.loc 1 102 21 is_stmt 0 view .LVU12
  62 000c 0023     		movs	r3, #0
  63              		.loc 1 105 11 view .LVU13
  64 000e 02E0     		b	.L2
  65              	.LVL2:
  66              	.L3:
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 4


 106:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
 107:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 108:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* Until we have found a used entry.  */
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         if (device -> ux_device_handle != UX_UNUSED)
 110:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
 111:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 112:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             /* Check for the parent device and the port location and the controller.  */
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             if( UX_DEVICE_PARENT_MATCH(device, parent) &&
 114:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_PORT_LOCATION_MATCH(device, port_index) &&
 115:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_HCD_MATCH(device, hcd))
 116:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 break;
 117:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         }
 118:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 119:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* Move to the next device entry.  */
 120:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         device++;
  67              		.loc 1 120 9 is_stmt 1 view .LVU14
  68              		.loc 1 120 15 is_stmt 0 view .LVU15
  69 0010 04F5B074 		add	r4, r4, #352
  70              	.LVL3:
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
  71              		.loc 1 105 27 view .LVU16
  72 0014 6346     		mov	r3, ip
  73              	.LVL4:
  74              	.L2:
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
  75              		.loc 1 105 11 is_stmt 1 view .LVU17
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
  76              		.loc 1 105 27 is_stmt 0 view .LVU18
  77 0016 03F1010C 		add	ip, r3, #1
  78              	.LVL5:
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
  79              		.loc 1 105 48 view .LVU19
  80 001a 7569     		ldr	r5, [r6, #20]
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
  81              		.loc 1 105 11 view .LVU20
  82 001c 9D42     		cmp	r5, r3
  83 001e 0ED9     		bls	.L4
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
  84              		.loc 1 109 9 is_stmt 1 view .LVU21
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
  85              		.loc 1 109 20 is_stmt 0 view .LVU22
  86 0020 2368     		ldr	r3, [r4]
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
  87              		.loc 1 109 12 view .LVU23
  88 0022 002B     		cmp	r3, #0
  89 0024 F4D0     		beq	.L3
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_PORT_LOCATION_MATCH(device, port_index) &&
  90              		.loc 1 113 13 is_stmt 1 view .LVU24
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_PORT_LOCATION_MATCH(device, port_index) &&
  91              		.loc 1 113 17 is_stmt 0 view .LVU25
  92 0026 D4F81831 		ldr	r3, [r4, #280]
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_PORT_LOCATION_MATCH(device, port_index) &&
  93              		.loc 1 113 15 view .LVU26
  94 002a 8B42     		cmp	r3, r1
  95 002c F0D1     		bne	.L3
 114:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_HCD_MATCH(device, hcd))
  96              		.loc 1 114 17 discriminator 1 view .LVU27
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 5


  97 002e D4F81031 		ldr	r3, [r4, #272]
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_PORT_LOCATION_MATCH(device, port_index) &&
  98              		.loc 1 113 56 discriminator 1 view .LVU28
  99 0032 9342     		cmp	r3, r2
 100 0034 ECD1     		bne	.L3
 115:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 break;
 101              		.loc 1 115 17 view .LVU29
 102 0036 D4F81431 		ldr	r3, [r4, #276]
 114:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 UX_DEVICE_HCD_MATCH(device, hcd))
 103              		.loc 1 114 67 view .LVU30
 104 003a BB42     		cmp	r3, r7
 105 003c E8D1     		bne	.L3
 106              	.L4:
 121:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 122:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 123:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Device not found.  */
 124:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     if (container_index > _ux_system_host -> ux_system_host_max_devices)
 107              		.loc 1 124 5 is_stmt 1 view .LVU31
 108              		.loc 1 124 8 is_stmt 0 view .LVU32
 109 003e 6545     		cmp	r5, ip
 110 0040 1CD3     		bcc	.L15
 125:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #else
 126:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     UX_PARAMETER_NOT_USED(parent);
 127:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     UX_PARAMETER_NOT_USED(port_index);
 128:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Device is available and HCD is expected.  */
 130:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     if (device -> ux_device_handle == UX_UNUSED ||
 131:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         !UX_DEVICE_HCD_MATCH(device, hcd))
 132:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** #endif
 133:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
 134:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 135:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* Error trap. */
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_ENUMERATOR, UX_DEVICE_HA
 137:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 138:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 139:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_DEVICE_HANDLE_UNKNOWN, device, 0, 0, UX_TRACE_ER
 140:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* We get here when we could not find the device.  */
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         return(UX_DEVICE_HANDLE_UNKNOWN);
 143:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 144:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 145:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 146:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     UX_TRACE_IN_LINE_INSERT(UX_TRACE_HOST_STACK_DEVICE_REMOVE, hcd, parent, port_index, device, UX_
 147:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 148:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* If trace is enabled, unregister this object.  */
 149:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     UX_TRACE_OBJECT_UNREGISTER(device);
 111              		.loc 1 149 39 is_stmt 1 view .LVU33
 150:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 151:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* We have found the device to be removed. */
 152:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     device -> ux_device_state = UX_DEVICE_REMOVED;
 112              		.loc 1 152 5 view .LVU34
 113              		.loc 1 152 31 is_stmt 0 view .LVU35
 114 0042 0A23     		movs	r3, #10
 115 0044 A360     		str	r3, [r4, #8]
 153:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 154:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* We have found the device to be removed. Initialize the class
 155:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         command with the generic parameters.  */
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 6


 156:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     command.ux_host_class_command_request =  UX_HOST_CLASS_COMMAND_DEACTIVATE;
 116              		.loc 1 156 5 is_stmt 1 view .LVU36
 117              		.loc 1 156 43 is_stmt 0 view .LVU37
 118 0046 0323     		movs	r3, #3
 119 0048 0193     		str	r3, [sp, #4]
 157:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* The device may have a class associated with the device container or its interfaces.  */
 159:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     if (device -> ux_device_class_instance != UX_NULL)
 120              		.loc 1 159 5 is_stmt 1 view .LVU38
 121              		.loc 1 159 16 is_stmt 0 view .LVU39
 122 004a E36B     		ldr	r3, [r4, #60]
 123              		.loc 1 159 8 view .LVU40
 124 004c EBB1     		cbz	r3, .L8
 160:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
 161:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 162:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* We need to stop the class instance for the device.  */
 163:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         command.ux_host_class_command_instance =  device -> ux_device_class_instance;
 125              		.loc 1 163 9 is_stmt 1 view .LVU41
 126              		.loc 1 163 48 is_stmt 0 view .LVU42
 127 004e 0393     		str	r3, [sp, #12]
 164:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 165:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* Call the class.  */
 166:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         device -> ux_device_class -> ux_host_class_entry_function(&command);
 128              		.loc 1 166 9 is_stmt 1 view .LVU43
 129              		.loc 1 166 16 is_stmt 0 view .LVU44
 130 0050 A36B     		ldr	r3, [r4, #56]
 131              		.loc 1 166 35 view .LVU45
 132 0052 5B6C     		ldr	r3, [r3, #68]
 133              		.loc 1 166 9 view .LVU46
 134 0054 01A8     		add	r0, sp, #4
 135              	.LVL6:
 136              		.loc 1 166 9 view .LVU47
 137 0056 9847     		blx	r3
 138              	.LVL7:
 139              	.L9:
 167:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 168:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     else
 169:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 171:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* Search for the active configuration.  */
 172:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         configuration =  device -> ux_device_current_configuration;
 173:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 174:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         /* If configuration is activated.  */
 175:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         if (configuration != UX_NULL)
 176:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
 177:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 178:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             /* We have the correct configuration, search the interface(s).  */
 179:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             interface =  configuration -> ux_configuration_first_interface;
 180:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 181:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             /* Loop to perform the search.  */
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             while (interface != UX_NULL)
 183:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             {
 184:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 185:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 /* Check if an instance of the interface is present.  */
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 if (interface -> ux_interface_class_instance != UX_NULL)
 187:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 {
 188:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 7


 189:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                     /* We need to stop the class instance for the device.  */
 190:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                     command.ux_host_class_command_instance =  interface -> ux_interface_class_insta
 191:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 192:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                     /* Call the class.  */
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                     interface -> ux_interface_class -> ux_host_class_entry_function(&command);
 194:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 }
 195:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 196:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 /* Move to next interface.  */
 197:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 interface =  interface -> ux_interface_next_interface;
 198:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             }
 199:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         }
 200:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 201:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 202:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Notify application for disconnection of existing physical device.  */
 203:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     if (_ux_system_host -> ux_system_host_change_function)
 140              		.loc 1 203 5 is_stmt 1 view .LVU48
 141              		.loc 1 203 25 is_stmt 0 view .LVU49
 142 0058 144B     		ldr	r3, .L16
 143 005a 1B68     		ldr	r3, [r3]
 144 005c D3F8CC31 		ldr	r3, [r3, #460]
 145              		.loc 1 203 8 view .LVU50
 146 0060 1BB1     		cbz	r3, .L13
 204:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     {
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         _ux_system_host -> ux_system_host_change_function(UX_DEVICE_DISCONNECTION, UX_NULL, (VOID*)
 147              		.loc 1 205 9 is_stmt 1 view .LVU51
 148 0062 2246     		mov	r2, r4
 149 0064 0021     		movs	r1, #0
 150 0066 8220     		movs	r0, #130
 151 0068 9847     		blx	r3
 152              	.LVL8:
 153              	.L13:
 206:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 207:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 208:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Now all the resources for this device must be free.  */
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     _ux_host_stack_device_resources_free(device);
 154              		.loc 1 209 5 view .LVU52
 155 006a 2046     		mov	r0, r4
 156 006c FFF7FEFF 		bl	_ux_host_stack_device_resources_free
 157              	.LVL9:
 210:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 211:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* Decrement the number of devices on this bus.  */
 212:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     hcd -> ux_hcd_nb_devices--;
 158              		.loc 1 212 5 view .LVU53
 159              		.loc 1 212 9 is_stmt 0 view .LVU54
 160 0070 3B6E     		ldr	r3, [r7, #96]
 161              		.loc 1 212 29 view .LVU55
 162 0072 013B     		subs	r3, r3, #1
 163 0074 3B66     		str	r3, [r7, #96]
 213:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 214:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     /* We are done with this device removal.  */
 215:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     return(UX_SUCCESS);
 164              		.loc 1 215 5 is_stmt 1 view .LVU56
 165              		.loc 1 215 11 is_stmt 0 view .LVU57
 166 0076 0020     		movs	r0, #0
 167              	.L1:
 216:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** }
 168              		.loc 1 216 1 view .LVU58
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 8


 169 0078 0FB0     		add	sp, sp, #60
 170              	.LCFI2:
 171              		.cfi_remember_state
 172              		.cfi_def_cfa_offset 20
 173              		@ sp needed
 174 007a F0BD     		pop	{r4, r5, r6, r7, pc}
 175              	.LVL10:
 176              	.L15:
 177              	.LCFI3:
 178              		.cfi_restore_state
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 179              		.loc 1 136 9 is_stmt 1 view .LVU59
 180 007c 5022     		movs	r2, #80
 181              	.LVL11:
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 182              		.loc 1 136 9 is_stmt 0 view .LVU60
 183 007e 0421     		movs	r1, #4
 184              	.LVL12:
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 185              		.loc 1 136 9 view .LVU61
 186 0080 0220     		movs	r0, #2
 187              	.LVL13:
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 188              		.loc 1 136 9 view .LVU62
 189 0082 FFF7FEFF 		bl	_ux_system_error_handler
 190              	.LVL14:
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 191              		.loc 1 142 9 is_stmt 1 view .LVU63
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****     }
 192              		.loc 1 142 15 is_stmt 0 view .LVU64
 193 0086 5020     		movs	r0, #80
 194 0088 F6E7     		b	.L1
 195              	.LVL15:
 196              	.L8:
 172:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 197              		.loc 1 172 9 is_stmt 1 view .LVU65
 172:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 198              		.loc 1 172 23 is_stmt 0 view .LVU66
 199 008a A369     		ldr	r3, [r4, #24]
 200              	.LVL16:
 175:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
 201              		.loc 1 175 9 is_stmt 1 view .LVU67
 175:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****         {
 202              		.loc 1 175 12 is_stmt 0 view .LVU68
 203 008c 002B     		cmp	r3, #0
 204 008e E3D0     		beq	.L9
 179:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 205              		.loc 1 179 13 is_stmt 1 view .LVU69
 179:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 206              		.loc 1 179 23 is_stmt 0 view .LVU70
 207 0090 DD6A     		ldr	r5, [r3, #44]
 208              	.LVL17:
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             {
 209              		.loc 1 182 13 is_stmt 1 view .LVU71
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             {
 210              		.loc 1 182 19 is_stmt 0 view .LVU72
 211 0092 00E0     		b	.L10
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 9


 212              	.LVL18:
 213              	.L11:
 197:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             }
 214              		.loc 1 197 17 is_stmt 1 view .LVU73
 197:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             }
 215              		.loc 1 197 27 is_stmt 0 view .LVU74
 216 0094 ED6B     		ldr	r5, [r5, #60]
 217              	.LVL19:
 218              	.L10:
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****             {
 219              		.loc 1 182 19 is_stmt 1 view .LVU75
 220 0096 002D     		cmp	r5, #0
 221 0098 DED0     		beq	.L9
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 {
 222              		.loc 1 186 17 view .LVU76
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 {
 223              		.loc 1 186 31 is_stmt 0 view .LVU77
 224 009a 6B6B     		ldr	r3, [r5, #52]
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 {
 225              		.loc 1 186 20 view .LVU78
 226 009c 002B     		cmp	r3, #0
 227 009e F9D0     		beq	.L11
 190:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 228              		.loc 1 190 21 is_stmt 1 view .LVU79
 190:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c **** 
 229              		.loc 1 190 60 is_stmt 0 view .LVU80
 230 00a0 0393     		str	r3, [sp, #12]
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 }
 231              		.loc 1 193 21 is_stmt 1 view .LVU81
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 }
 232              		.loc 1 193 31 is_stmt 0 view .LVU82
 233 00a2 2B6B     		ldr	r3, [r5, #48]
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 }
 234              		.loc 1 193 53 view .LVU83
 235 00a4 5B6C     		ldr	r3, [r3, #68]
 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_device_remove.c ****                 }
 236              		.loc 1 193 21 view .LVU84
 237 00a6 01A8     		add	r0, sp, #4
 238 00a8 9847     		blx	r3
 239              	.LVL20:
 240 00aa F3E7     		b	.L11
 241              	.L17:
 242              		.align	2
 243              	.L16:
 244 00ac 00000000 		.word	_ux_system_host
 245              		.cfi_endproc
 246              	.LFE11:
 248              		.text
 249              	.Letext0:
 250              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 251              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 252              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
 253              		.file 5 "./Middlewares/ST/usbx/common/core/inc/ux_system.h"
 254              		.file 6 "./Middlewares/ST/usbx/common/core/inc/ux_host_stack.h"
 255              		.file 7 "./Middlewares/ST/usbx/common/core/inc/ux_utility.h"
ARM GAS  C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 ux_host_stack_device_remove.c
C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s:20     .text._ux_host_stack_device_remove:00000000 $t
C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s:26     .text._ux_host_stack_device_remove:00000000 _ux_host_stack_device_remove
C:\Users\Dennis\AppData\Local\Temp\cclzprsh.s:244    .text._ux_host_stack_device_remove:000000ac $d

UNDEFINED SYMBOLS
_ux_host_stack_device_resources_free
_ux_system_error_handler
_ux_system_host
