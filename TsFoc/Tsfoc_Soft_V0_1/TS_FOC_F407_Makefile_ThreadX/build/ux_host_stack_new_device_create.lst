ARM GAS  /tmp/ccIFGwf3.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_host_stack_new_device_create.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c"
  20              		.section	.rodata._ux_host_stack_new_device_create.str1.4,"aMS",%progbits,1
  21              		.align	2
  22              	.LC0:
  23 0000 75785F68 		.ascii	"ux_host_endpoint0_semaphore\000"
  23      6F73745F 
  23      656E6470 
  23      6F696E74 
  23      305F7365 
  24              		.align	2
  25              	.LC1:
  26 001c 75785F68 		.ascii	"ux_host_transfer_request_semaphore\000"
  26      6F73745F 
  26      7472616E 
  26      73666572 
  26      5F726571 
  27              		.section	.text._ux_host_stack_new_device_create,"ax",%progbits
  28              		.align	1
  29              		.global	_ux_host_stack_new_device_create
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	_ux_host_stack_new_device_create:
  35              	.LVL0:
  36              	.LFB11:
   1:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  12:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  13:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
ARM GAS  /tmp/ccIFGwf3.s 			page 2


  15:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**                                                                       */
  16:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /** USBX Component                                                        */
  17:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**   Host Stack                                                          */
  19:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
  22:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  23:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  24:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /* Include necessary system files.  */
  25:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  26:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #define UX_SOURCE_CODE
  27:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  28:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #include "ux_api.h"
  29:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #include "ux_host_stack.h"
  30:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  31:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
  32:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
  33:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  34:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  FUNCTION                                               RELEASE        */
  35:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  36:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_new_device_create                    PORTABLE C      */
  37:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                           6.1.10       */
  38:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  AUTHOR                                                                */
  39:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  40:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  41:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  42:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  DESCRIPTION                                                           */
  43:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  44:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    This function creates a new device on the USB. It may be called     */
  45:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    either by a hub or by the root hub.                                 */
  46:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  47:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  INPUT                                                                 */
  48:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  49:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    HCD                                   HCD that owns that device     */
  50:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    device_owner                          Either a root hub instance    */
  51:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            or a hub instance           */
  52:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    port_index                            Port the new device is mounted*/
  53:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    device_speed                          Speed at which the device is  */
  54:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            running (low, full, high)   */
  55:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    port_power_available                  Power available on the root   */
  56:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            or hub port. This value is  */
  57:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            used to ensure that the     */
  58:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            device can be configured    */
  59:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            without creating an         */
  60:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            OVER_CURRENT condition on   */
  61:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            the bus                     */
  62:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    created_device                        Destination to fill created   */
  63:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            device instance             */
  64:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  65:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  OUTPUT                                                                */
  66:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  67:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    Completion Status                                                   */
  68:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  69:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    An Error code could be an indication that the device could not be   */
  70:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    created in which case the error is fatal to the enumeration and     */
  71:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    will not be retried. The error code can also indicate a failure     */
ARM GAS  /tmp/ccIFGwf3.s 			page 3


  72:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    for the device to respond to the GET_DEVICE_DESCRIPTOR. This error  */
  73:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    is not fatal and the caller should retry the enumeration process    */
  74:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    after the port to which the device is attached has been reset.      */
  75:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  76:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  CALLS                                                                 */
  77:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  78:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_class_device_scan      Scan class devices            */
  79:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_class_interface_scan   Scan class interfaces         */
  80:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_device_address_set     Set device address            */
  81:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_device_descriptor_read Read device descriptor        */
  82:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_configuration_enumerate                              */
  83:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                          Enumerate device config       */
  84:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_host_stack_new_device_get         Get new device                */
  85:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    _ux_utility_semaphore_create          Create a semaphore            */
  86:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    (ux_hcd_entry_function)               HCD entry function            */
  87:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  88:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  CALLED BY                                                             */
  89:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  90:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    USBX Components                                                     */
  91:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  92:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  RELEASE HISTORY                                                       */
  93:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  94:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*    DATE              NAME                      DESCRIPTION             */
  95:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
  96:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  97:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  98:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            optimized based on compile  */
  99:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            definitions,                */
 100:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            resulting in version 6.1    */
 101:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  02-02-2021     Chaoqiong Xiao           Modified comment(s),          */
 102:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            added a new parameter to    */
 103:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            return created device,      */
 104:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            resulting in version 6.1.4  */
 105:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
 106:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            added standalone support,   */
 107:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            reset device power source,  */
 108:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                            resulting in version 6.1.10 */
 109:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /*                                                                        */
 110:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** /**************************************************************************/
 111:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** UINT  _ux_host_stack_new_device_create(UX_HCD *hcd, UX_DEVICE *device_owner,
 112:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                                 UINT port_index, UINT device_speed,
 113:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                                 UINT port_max_power,
 114:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                                 UX_DEVICE **created_device)
 115:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** {
  37              		.loc 1 115 1 view -0
  38              		.cfi_startproc
  39              		@ args = 8, pretend = 0, frame = 0
  40              		@ frame_needed = 0, uses_anonymous_args = 0
  41              		.loc 1 115 1 is_stmt 0 view .LVU1
  42 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 24
  45              		.cfi_offset 4, -24
  46              		.cfi_offset 5, -20
  47              		.cfi_offset 6, -16
  48              		.cfi_offset 7, -12
  49              		.cfi_offset 8, -8
ARM GAS  /tmp/ccIFGwf3.s 			page 4


  50              		.cfi_offset 14, -4
  51 0004 1E46     		mov	r6, r3
 116:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 117:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** UX_DEVICE           *device;
  52              		.loc 1 117 1 is_stmt 1 view .LVU2
 118:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** UINT                status;
  53              		.loc 1 118 1 view .LVU3
 119:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** UX_ENDPOINT         *control_endpoint;
  54              		.loc 1 119 1 view .LVU4
 120:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 121:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 122:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #if UX_MAX_DEVICES > 1
 123:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Verify the number of devices attached to the HCD already. Normally a HCD
 124:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        can have up to 127 devices but that can be tailored.  */
 125:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (hcd -> ux_hcd_nb_devices > UX_MAX_USB_DEVICES)
  55              		.loc 1 125 5 view .LVU5
  56              		.loc 1 125 13 is_stmt 0 view .LVU6
  57 0006 036E     		ldr	r3, [r0, #96]
  58              	.LVL1:
  59              		.loc 1 125 8 view .LVU7
  60 0008 7F2B     		cmp	r3, #127
  61 000a 57D8     		bhi	.L10
  62 000c 0546     		mov	r5, r0
  63 000e 8846     		mov	r8, r1
  64 0010 1746     		mov	r7, r2
 126:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 127:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 128:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Error trap. */
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_ENUMERATOR, UX_TOO_MANY_
 130:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 131:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 132:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_TOO_MANY_DEVICES, 0, 0, 0, UX_TRACE_ERRORS, 0, 0
 133:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 134:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         return(UX_TOO_MANY_DEVICES);
 135:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 136:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #endif
 137:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 138:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Get a new device container to store this new device.  */
 139:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device =  _ux_host_stack_new_device_get();
  65              		.loc 1 139 5 is_stmt 1 view .LVU8
  66              		.loc 1 139 15 is_stmt 0 view .LVU9
  67 0012 FFF7FEFF 		bl	_ux_host_stack_new_device_get
  68              	.LVL2:
 140:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (device == UX_NULL)
  69              		.loc 1 140 5 is_stmt 1 view .LVU10
  70              		.loc 1 140 8 is_stmt 0 view .LVU11
  71 0016 0446     		mov	r4, r0
  72 0018 0028     		cmp	r0, #0
  73 001a 56D0     		beq	.L11
 141:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 142:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 143:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Error trap. */
 144:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_ENUMERATOR, UX_TOO_MANY_
 145:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 146:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 147:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_TOO_MANY_DEVICES, 0, 0, 0, UX_TRACE_ERRORS, 0, 0
 148:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
ARM GAS  /tmp/ccIFGwf3.s 			page 5


 149:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         return(UX_TOO_MANY_DEVICES);
 150:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 151:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 152:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Store the device instance.  */
 153:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     *created_device = device;
  74              		.loc 1 153 5 is_stmt 1 view .LVU12
  75              		.loc 1 153 21 is_stmt 0 view .LVU13
  76 001c 079B     		ldr	r3, [sp, #28]
  77 001e 1860     		str	r0, [r3]
 154:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 155:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Increment the number of devices on this bus.  */
 156:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     hcd -> ux_hcd_nb_devices++;
  78              		.loc 1 156 5 is_stmt 1 view .LVU14
  79              		.loc 1 156 9 is_stmt 0 view .LVU15
  80 0020 2B6E     		ldr	r3, [r5, #96]
  81              		.loc 1 156 29 view .LVU16
  82 0022 0133     		adds	r3, r3, #1
  83 0024 2B66     		str	r3, [r5, #96]
 157:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 158:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 159:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     UX_TRACE_IN_LINE_INSERT(UX_TRACE_HOST_STACK_NEW_DEVICE_CREATE, hcd, device_owner, port_index, d
 160:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 161:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* At this stage the device is attached but not configured.
 162:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        we don't have to worry about power consumption yet.
 163:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        Initialize the device structure.  */
 164:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device -> ux_device_handle =         (ULONG) (ALIGN_TYPE) device;
  84              		.loc 1 164 5 is_stmt 1 view .LVU17
  85              		.loc 1 164 32 is_stmt 0 view .LVU18
  86 0026 2060     		str	r0, [r4]
 165:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device -> ux_device_state =          UX_DEVICE_ATTACHED;
  87              		.loc 1 165 5 is_stmt 1 view .LVU19
  88              		.loc 1 165 31 is_stmt 0 view .LVU20
  89 0028 0122     		movs	r2, #1
  90 002a 8260     		str	r2, [r0, #8]
 166:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device -> ux_device_address =        0;
  91              		.loc 1 166 5 is_stmt 1 view .LVU21
  92              		.loc 1 166 33 is_stmt 0 view .LVU22
  93 002c 0023     		movs	r3, #0
  94 002e C360     		str	r3, [r0, #12]
 167:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device -> ux_device_speed =          device_speed;
  95              		.loc 1 167 5 is_stmt 1 view .LVU23
  96              		.loc 1 167 31 is_stmt 0 view .LVU24
  97 0030 0661     		str	r6, [r0, #16]
 168:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     UX_DEVICE_MAX_POWER_SET(device, port_max_power);
  98              		.loc 1 168 5 is_stmt 1 view .LVU25
  99              		.loc 1 168 5 view .LVU26
 100 0032 069B     		ldr	r3, [sp, #24]
 101 0034 C0F81C31 		str	r3, [r0, #284]
 102              		.loc 1 168 5 view .LVU27
 169:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     UX_DEVICE_PARENT_SET(device, device_owner);
 103              		.loc 1 169 5 view .LVU28
 104              		.loc 1 169 5 view .LVU29
 105 0038 C0F81881 		str	r8, [r0, #280]
 106              		.loc 1 169 5 view .LVU30
 170:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     UX_DEVICE_HCD_SET(device, hcd);
 107              		.loc 1 170 5 view .LVU31
 108              		.loc 1 170 5 view .LVU32
ARM GAS  /tmp/ccIFGwf3.s 			page 6


 109 003c C0F81451 		str	r5, [r0, #276]
 110              		.loc 1 170 5 view .LVU33
 171:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     UX_DEVICE_PORT_LOCATION_SET(device, port_index);
 111              		.loc 1 171 5 view .LVU34
 112              		.loc 1 171 5 view .LVU35
 113 0040 C0F81071 		str	r7, [r0, #272]
 114              		.loc 1 171 5 view .LVU36
 172:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     device -> ux_device_power_source =   UX_DEVICE_BUS_POWERED;
 115              		.loc 1 172 5 view .LVU37
 116              		.loc 1 172 38 is_stmt 0 view .LVU38
 117 0044 4261     		str	r2, [r0, #20]
 173:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 174:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Create a semaphore for the device. This is to protect endpoint 0 mostly for OTG HNP polling.
 175:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        a mutex mechanism.  */
 176:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     status =  _ux_host_semaphore_create(&device -> ux_device_protection_semaphore, "ux_host_endpoin
 118              		.loc 1 176 5 is_stmt 1 view .LVU39
 119              		.loc 1 176 15 is_stmt 0 view .LVU40
 120 0046 2949     		ldr	r1, .L13
 121 0048 1C30     		adds	r0, r0, #28
 122              	.LVL3:
 123              		.loc 1 176 15 view .LVU41
 124 004a FFF7FEFF 		bl	_ux_utility_semaphore_create
 125              	.LVL4:
 177:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 178:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Check semaphore creation.  */
 179:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (status != UX_SUCCESS)
 126              		.loc 1 179 5 is_stmt 1 view .LVU42
 127              		.loc 1 179 8 is_stmt 0 view .LVU43
 128 004e 0028     		cmp	r0, #0
 129 0050 46D1     		bne	.L7
 180:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 181:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 182:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Return error. Device resources that have been allocated until this
 183:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            point should be freed by the caller via _ux_host_stack_device_resources_free.  */
 184:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         return(UX_SEMAPHORE_ERROR);
 185:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 186:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 187:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Initialize the default control endpoint permanently attached
 188:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        to the device.  */
 189:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint =                               &device -> ux_device_control_endpoint;
 130              		.loc 1 189 5 is_stmt 1 view .LVU44
 131              		.loc 1 189 22 is_stmt 0 view .LVU45
 132 0052 04F17C07 		add	r7, r4, #124
 133              	.LVL5:
 190:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint -> ux_endpoint =                (ULONG) (ALIGN_TYPE) control_endpoint;
 134              		.loc 1 190 5 is_stmt 1 view .LVU46
 135              		.loc 1 190 37 is_stmt 0 view .LVU47
 136 0056 E767     		str	r7, [r4, #124]
 191:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint -> ux_endpoint_next_endpoint =  UX_NULL;
 137              		.loc 1 191 5 is_stmt 1 view .LVU48
 138              		.loc 1 191 51 is_stmt 0 view .LVU49
 139 0058 0022     		movs	r2, #0
 140 005a C4F8A020 		str	r2, [r4, #160]
 192:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint -> ux_endpoint_interface =      UX_NULL;
 141              		.loc 1 192 5 is_stmt 1 view .LVU50
 142              		.loc 1 192 47 is_stmt 0 view .LVU51
 143 005e C4F8A420 		str	r2, [r4, #164]
ARM GAS  /tmp/ccIFGwf3.s 			page 7


 193:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint -> ux_endpoint_device =         device;
 144              		.loc 1 193 5 is_stmt 1 view .LVU52
 145              		.loc 1 193 44 is_stmt 0 view .LVU53
 146 0062 C4F8A840 		str	r4, [r4, #168]
 194:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     control_endpoint -> ux_endpoint_transfer_request.ux_transfer_request_endpoint = control_endpoin
 147              		.loc 1 194 5 is_stmt 1 view .LVU54
 148              		.loc 1 194 83 is_stmt 0 view .LVU55
 149 0066 C4F8B070 		str	r7, [r4, #176]
 195:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 196:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Create a semaphore for this endpoint to be attached to its transfer request.  */
 197:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     status =  _ux_host_semaphore_create(&control_endpoint -> ux_endpoint_transfer_request.ux_transf
 150              		.loc 1 197 5 is_stmt 1 view .LVU56
 151              		.loc 1 197 15 is_stmt 0 view .LVU57
 152 006a 2149     		ldr	r1, .L13+4
 153 006c 04F1F000 		add	r0, r4, #240
 154              	.LVL6:
 155              		.loc 1 197 15 view .LVU58
 156 0070 FFF7FEFF 		bl	_ux_utility_semaphore_create
 157              	.LVL7:
 198:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 199:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Check semaphore creation.  */
 200:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (status != UX_SUCCESS)
 158              		.loc 1 200 5 is_stmt 1 view .LVU59
 159              		.loc 1 200 8 is_stmt 0 view .LVU60
 160 0074 B8BB     		cbnz	r0, .L8
 201:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 202:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 203:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Return error. Device resources that have been allocated until this
 204:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            point should be freed by the caller via _ux_host_stack_device_resources_free.  */
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         return(UX_SEMAPHORE_ERROR);
 206:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 207:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 208:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* If the device is running in high speed the default max packet size for the control endpoint 
 209:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        All other speeds the size is 8.  */
 210:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (device_speed == UX_HIGH_SPEED_DEVICE)
 161              		.loc 1 210 5 is_stmt 1 view .LVU61
 162              		.loc 1 210 8 is_stmt 0 view .LVU62
 163 0076 022E     		cmp	r6, #2
 164 0078 2ED0     		beq	.L12
 211:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_descriptor.wMaxPacketSize =  UX_DEFAULT_HS_MPS;
 212:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     else
 213:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_descriptor.wMaxPacketSize =  UX_DEFAULT_MPS;
 165              		.loc 1 213 9 is_stmt 1 view .LVU63
 166              		.loc 1 213 67 is_stmt 0 view .LVU64
 167 007a 0823     		movs	r3, #8
 168 007c C4F89830 		str	r3, [r4, #152]
 169              	.L6:
 214:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 215:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Create the default control endpoint at the HCD level.  */
 216:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     status =  hcd -> ux_hcd_entry_function(hcd, UX_HCD_CREATE_ENDPOINT, (VOID *) control_endpoint);
 170              		.loc 1 216 5 is_stmt 1 view .LVU65
 171              		.loc 1 216 19 is_stmt 0 view .LVU66
 172 0080 2B6F     		ldr	r3, [r5, #112]
 173              		.loc 1 216 15 view .LVU67
 174 0082 3A46     		mov	r2, r7
 175 0084 0E21     		movs	r1, #14
 176 0086 2846     		mov	r0, r5
ARM GAS  /tmp/ccIFGwf3.s 			page 8


 177              	.LVL8:
 178              		.loc 1 216 15 view .LVU68
 179 0088 9847     		blx	r3
 180              	.LVL9:
 217:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 218:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #if defined(UX_HOST_STANDALONE)
 219:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (status == UX_SUCCESS)
 220:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 221:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 222:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Now control endpoint is ready, set state to running. */
 223:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_state =          UX_ENDPOINT_RUNNING;
 224:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 225:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Setup default control request timeout.  */
 226:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_transfer_request.ux_transfer_request_timeout_value =
 227:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                             UX_MS_TO_TICK_NON_ZERO(UX_CONTROL_TRANSFER_TIMEOUT);
 228:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 229:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Set default control request mode to wait.  */
 230:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_transfer_request.ux_transfer_request_flags |=
 231:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                                                     UX_TRANSFER_FLAG_AUTO_WAIT;
 232:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 233:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 234:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Enumeration steps will be done in task state machine.  */
 235:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 236:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #else
 237:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 238:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Going on to do enumeration (requests).  */
 239:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (status == UX_SUCCESS)
 181              		.loc 1 239 5 is_stmt 1 view .LVU69
 182              		.loc 1 239 8 is_stmt 0 view .LVU70
 183 008a 50BB     		cbnz	r0, .L1
 240:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 241:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 242:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Now control endpoint is ready, set state to running. */
 243:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         control_endpoint -> ux_endpoint_state =          UX_ENDPOINT_RUNNING;
 184              		.loc 1 243 9 is_stmt 1 view .LVU71
 185              		.loc 1 243 47 is_stmt 0 view .LVU72
 186 008c 0123     		movs	r3, #1
 187 008e C4F88030 		str	r3, [r4, #128]
 244:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 245:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* Set the address of the device. The first time a USB device is
 246:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            accessed, it responds to the address 0. We need to change the address
 247:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            to a free device address between 1 and 127 ASAP.  */
 248:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         status =  _ux_host_stack_device_address_set(device);
 188              		.loc 1 248 9 is_stmt 1 view .LVU73
 189              		.loc 1 248 19 is_stmt 0 view .LVU74
 190 0092 2046     		mov	r0, r4
 191              	.LVL10:
 192              		.loc 1 248 19 view .LVU75
 193 0094 FFF7FEFF 		bl	_ux_host_stack_device_address_set
 194              	.LVL11:
 249:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         if (status == UX_SUCCESS)
 195              		.loc 1 249 9 is_stmt 1 view .LVU76
 196              		.loc 1 249 12 is_stmt 0 view .LVU77
 197 0098 18BB     		cbnz	r0, .L1
 250:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         {
 251:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 252:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             /* Get the device descriptor.  */
ARM GAS  /tmp/ccIFGwf3.s 			page 9


 253:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             status =  _ux_host_stack_device_descriptor_read(device);
 198              		.loc 1 253 13 is_stmt 1 view .LVU78
 199              		.loc 1 253 23 is_stmt 0 view .LVU79
 200 009a 2046     		mov	r0, r4
 201              	.LVL12:
 202              		.loc 1 253 23 view .LVU80
 203 009c FFF7FEFF 		bl	_ux_host_stack_device_descriptor_read
 204              	.LVL13:
 254:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             if (status == UX_SUCCESS)
 205              		.loc 1 254 13 is_stmt 1 view .LVU81
 206              		.loc 1 254 16 is_stmt 0 view .LVU82
 207 00a0 F8B9     		cbnz	r0, .L1
 255:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             {
 256:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 257:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                 /* Get the configuration descriptor(s) for the device
 258:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                    and parse all the configuration, interface, endpoints...  */
 259:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****                 status =  _ux_host_stack_configuration_enumerate(device);
 208              		.loc 1 259 17 is_stmt 1 view .LVU83
 209              		.loc 1 259 27 is_stmt 0 view .LVU84
 210 00a2 2046     		mov	r0, r4
 211              	.LVL14:
 212              		.loc 1 259 27 view .LVU85
 213 00a4 FFF7FEFF 		bl	_ux_host_stack_configuration_enumerate
 214              	.LVL15:
 260:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             }
 261:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         }
 262:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 263:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 264:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Check the status of the previous operations. If there was an
 265:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        error during any of the phases, the device resources must be
 266:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        freed based on if we want to retry.  */
 267:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     if (status == UX_SUCCESS)
 215              		.loc 1 267 5 is_stmt 1 view .LVU86
 216              		.loc 1 267 8 is_stmt 0 view .LVU87
 217 00a8 D8B9     		cbnz	r0, .L1
 268:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     {
 269:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 270:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* The device, configuration(s), interface(s), endpoint(s) are
 271:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            now in order for this device to work. No configuration is set
 272:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            yet. First we need to find a class driver that wants to own
 273:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****            it. There is no need to have an orphan device in a configured state.   */
 274:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         status =  _ux_host_stack_class_device_scan(device);
 218              		.loc 1 274 9 is_stmt 1 view .LVU88
 219              		.loc 1 274 19 is_stmt 0 view .LVU89
 220 00aa 2046     		mov	r0, r4
 221              	.LVL16:
 222              		.loc 1 274 19 view .LVU90
 223 00ac FFF7FEFF 		bl	_ux_host_stack_class_device_scan
 224              	.LVL17:
 275:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         if (status == UX_NO_CLASS_MATCH)
 225              		.loc 1 275 9 is_stmt 1 view .LVU91
 226              		.loc 1 275 12 is_stmt 0 view .LVU92
 227 00b0 5728     		cmp	r0, #87
 228 00b2 16D1     		bne	.L1
 276:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         {
 277:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 278:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****             status =  _ux_host_stack_class_interface_scan(device);
ARM GAS  /tmp/ccIFGwf3.s 			page 10


 229              		.loc 1 278 13 is_stmt 1 view .LVU93
 230              		.loc 1 278 23 is_stmt 0 view .LVU94
 231 00b4 2046     		mov	r0, r4
 232              	.LVL18:
 233              		.loc 1 278 23 view .LVU95
 234 00b6 FFF7FEFF 		bl	_ux_host_stack_class_interface_scan
 235              	.LVL19:
 236              		.loc 1 278 23 view .LVU96
 237 00ba 12E0     		b	.L1
 238              	.LVL20:
 239              	.L10:
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 240              		.loc 1 129 9 is_stmt 1 view .LVU97
 241 00bc 1122     		movs	r2, #17
 242              	.LVL21:
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 243              		.loc 1 129 9 is_stmt 0 view .LVU98
 244 00be 0421     		movs	r1, #4
 245              	.LVL22:
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 246              		.loc 1 129 9 view .LVU99
 247 00c0 0220     		movs	r0, #2
 248              	.LVL23:
 129:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 249              		.loc 1 129 9 view .LVU100
 250 00c2 FFF7FEFF 		bl	_ux_system_error_handler
 251              	.LVL24:
 134:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 252              		.loc 1 134 9 is_stmt 1 view .LVU101
 134:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 253              		.loc 1 134 15 is_stmt 0 view .LVU102
 254 00c6 1120     		movs	r0, #17
 255 00c8 0BE0     		b	.L1
 256              	.LVL25:
 257              	.L11:
 144:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 258              		.loc 1 144 9 is_stmt 1 view .LVU103
 259 00ca 1122     		movs	r2, #17
 260 00cc 0421     		movs	r1, #4
 261 00ce 0220     		movs	r0, #2
 262              	.LVL26:
 144:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 263              		.loc 1 144 9 is_stmt 0 view .LVU104
 264 00d0 FFF7FEFF 		bl	_ux_system_error_handler
 265              	.LVL27:
 149:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 266              		.loc 1 149 9 is_stmt 1 view .LVU105
 149:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 267              		.loc 1 149 15 is_stmt 0 view .LVU106
 268 00d4 1120     		movs	r0, #17
 269 00d6 04E0     		b	.L1
 270              	.LVL28:
 271              	.L12:
 211:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     else
 272              		.loc 1 211 9 is_stmt 1 view .LVU107
 211:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     else
 273              		.loc 1 211 67 is_stmt 0 view .LVU108
ARM GAS  /tmp/ccIFGwf3.s 			page 11


 274 00d8 4023     		movs	r3, #64
 275 00da C4F89830 		str	r3, [r4, #152]
 276 00de CFE7     		b	.L6
 277              	.LVL29:
 278              	.L7:
 184:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 279              		.loc 1 184 15 view .LVU109
 280 00e0 1520     		movs	r0, #21
 281              	.LVL30:
 282              	.L1:
 279:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         }
 280:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 281:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         /* If trace is enabled, register this object.  */
 282:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****         UX_TRACE_OBJECT_REGISTER(UX_TRACE_HOST_OBJECT_TYPE_DEVICE, hcd, device_owner, port_index, 0
 283:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 284:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** #endif
 285:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** 
 286:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     /* Return status. If there's an error, device resources that have been 
 287:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****        allocated until this point should be freed by the caller via _ux_host_stack_device_resources
 288:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     return(status);
 289:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c **** }
 283              		.loc 1 289 1 view .LVU110
 284 00e2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 285              	.LVL31:
 286              	.L8:
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 287              		.loc 1 205 15 view .LVU111
 288 00e6 1520     		movs	r0, #21
 289              	.LVL32:
 205:./Middlewares/ST/usbx/common/core/src/ux_host_stack_new_device_create.c ****     }
 290              		.loc 1 205 15 view .LVU112
 291 00e8 FBE7     		b	.L1
 292              	.L14:
 293 00ea 00BF     		.align	2
 294              	.L13:
 295 00ec 00000000 		.word	.LC0
 296 00f0 1C000000 		.word	.LC1
 297              		.cfi_endproc
 298              	.LFE11:
 300              		.text
 301              	.Letext0:
 302              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 303              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 304              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
 305              		.file 5 "./Middlewares/ST/usbx/common/core/inc/ux_host_stack.h"
 306              		.file 6 "./Middlewares/ST/usbx/common/core/inc/ux_utility.h"
ARM GAS  /tmp/ccIFGwf3.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 ux_host_stack_new_device_create.c
     /tmp/ccIFGwf3.s:21     .rodata._ux_host_stack_new_device_create.str1.4:00000000 $d
     /tmp/ccIFGwf3.s:28     .text._ux_host_stack_new_device_create:00000000 $t
     /tmp/ccIFGwf3.s:34     .text._ux_host_stack_new_device_create:00000000 _ux_host_stack_new_device_create
     /tmp/ccIFGwf3.s:295    .text._ux_host_stack_new_device_create:000000ec $d

UNDEFINED SYMBOLS
_ux_host_stack_new_device_get
_ux_utility_semaphore_create
_ux_host_stack_device_address_set
_ux_host_stack_device_descriptor_read
_ux_host_stack_configuration_enumerate
_ux_host_stack_class_device_scan
_ux_host_stack_class_interface_scan
_ux_system_error_handler
