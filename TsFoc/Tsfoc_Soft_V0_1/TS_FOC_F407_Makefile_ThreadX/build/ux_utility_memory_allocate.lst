ARM GAS  /tmp/ccItr72p.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_utility_memory_allocate.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c"
  20              		.section	.text._ux_utility_memory_allocate,"ax",%progbits
  21              		.align	1
  22              		.global	_ux_utility_memory_allocate
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_ux_utility_memory_allocate:
  28              	.LVL0:
  29              	.LFB11:
   1:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
   2:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   3:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   5:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       This software is licensed under the Microsoft Software License   */
   6:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       and in the root directory of this software.                      */
   9:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  10:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  11:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  12:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  13:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  14:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  15:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */ 
  16:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /** USBX Component                                                        */ 
  17:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  18:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**   Utility                                                             */
  19:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  20:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  21:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  22:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  23:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  24:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /* Include necessary system files.  */
  25:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  26:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #define UX_SOURCE_CODE
  27:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  28:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #include "ux_api.h"
  29:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
ARM GAS  /tmp/ccItr72p.s 			page 2


  30:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  31:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/ 
  32:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  33:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  FUNCTION                                               RELEASE        */ 
  34:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  35:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_allocate                         PORTABLE C      */ 
  36:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                           6.1.10       */
  37:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  AUTHOR                                                                */
  38:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  39:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  40:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  41:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  DESCRIPTION                                                           */
  42:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  43:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    This function allocates a block of memory for the specified size    */ 
  44:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    and alignment.                                                      */
  45:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  46:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  INPUT                                                                 */ 
  47:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  48:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_alignment                      Memory alignment required     */ 
  49:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_cache_flag                     Memory pool source            */ 
  50:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_size_requested                 Number of bytes required      */ 
  51:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  52:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  OUTPUT                                                                */ 
  53:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  54:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Pointer to block of memory                                          */ 
  55:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  56:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLS                                                                 */ 
  57:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  58:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_free_block_best_get Get best fit block of memory */ 
  59:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_set                 Set block of memory          */ 
  60:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  61:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLED BY                                                             */ 
  62:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  63:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    USBX Components                                                     */ 
  64:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  65:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  RELEASE HISTORY                                                       */ 
  66:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  67:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    DATE              NAME                      DESCRIPTION             */ 
  68:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  69:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  70:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  71:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            verified memset and memcpy  */
  72:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            cases,                      */
  73:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1    */
  74:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
  75:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            added standalone support,   */
  76:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1.10 */
  77:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  78:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  79:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** VOID  *_ux_utility_memory_allocate(ULONG memory_alignment, ULONG memory_cache_flag,
  80:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    ULONG memory_size_requested)
  81:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** {
  30              		.loc 1 81 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 81 1 is_stmt 0 view .LVU1
ARM GAS  /tmp/ccItr72p.s 			page 3


  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 0646     		mov	r6, r0
  45 0006 0F46     		mov	r7, r1
  46 0008 1546     		mov	r5, r2
  82:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  83:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *memory_block;
  47              		.loc 1 83 1 is_stmt 1 view .LVU2
  84:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *new_memory_block;
  48              		.loc 1 84 1 view .LVU3
  85:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *leftover_memory_block;
  49              		.loc 1 85 1 view .LVU4
  86:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_for_alignment;
  50              		.loc 1 86 1 view .LVU5
  87:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_removed_from_pool;
  51              		.loc 1 87 1 view .LVU6
  88:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               leftover;
  52              		.loc 1 88 1 view .LVU7
  89:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UCHAR               *memory_buffer;
  53              		.loc 1 89 1 view .LVU8
  90:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ALIGN_TYPE          int_memory_buffer;
  54              		.loc 1 90 1 view .LVU9
  91:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  92:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  93:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the mutex as this is a critical section.  */
  94:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_on(&_ux_system -> ux_system_mutex);
  55              		.loc 1 94 5 view .LVU10
  56              		.loc 1 94 37 is_stmt 0 view .LVU11
  57 000a 634B     		ldr	r3, .L28
  58 000c 1868     		ldr	r0, [r3]
  59              	.LVL1:
  60              		.loc 1 94 5 view .LVU12
  61 000e 1C30     		adds	r0, r0, #28
  62 0010 FFF7FEFF 		bl	_ux_utility_mutex_on
  63              	.LVL2:
  95:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  96:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENFORCE_SAFE_ALIGNMENT
  97:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  98:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
  99:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
  64              		.loc 1 99 5 is_stmt 1 view .LVU13
  65              		.loc 1 99 8 is_stmt 0 view .LVU14
  66 0014 B6F1FF3F 		cmp	r6, #-1
  67 0018 3CD0     		beq	.L24
 100:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 101:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 102:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* We will use the memory_size_requested for the alignment. 
 103:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            But we check to see if we have a minimum or maximum alignment.  */
 104:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (memory_size_requested < UX_ALIGN_MIN)
 105:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
ARM GAS  /tmp/ccItr72p.s 			page 4


 106:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* No need to bother about alignment for small packets sizes.  */
 107:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             memory_alignment = UX_NO_ALIGN;
 108:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 109:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         else
 110:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 111:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 112:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Check if we are over the maximum.  */
 113:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             if (memory_size_requested > UX_MAX_SCATTER_GATHER_ALIGNMENT)
 114:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 115:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are over the max alignment required. Use the maximum instead.  */
 116:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 memory_alignment = UX_MAX_SCATTER_GATHER_ALIGNMENT - 1;
 117:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 118:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             else
 119:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             {
 120:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are not over the maximum, so approximate the alignment according to the size 
 121:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                    Check range for alignment on 4096 bytes.  */
 122:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 if (memory_size_requested >= UX_ALIGN_2048 + 1)
 123:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     memory_alignment = UX_ALIGN_4096;
 124:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 125:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 else
 126:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 {
 127:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 128:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                        /* Check range for alignment on 2048 bytes.  */
 129:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     if (memory_size_requested >= UX_ALIGN_1024 + 1)
 130:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         memory_alignment = UX_ALIGN_2048;
 131:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 132:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     else
 133:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     {
 134:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 135:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                            /* Check range for alignment on 1024 bytes.  */
 136:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         if (memory_size_requested >= UX_ALIGN_512 + 1)
 137:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             memory_alignment = UX_ALIGN_1024;
 138:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 139:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         else
 140:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         {
 141:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 142:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                /* Check range for alignment on 512 bytes.  */
 143:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             if (memory_size_requested >= UX_ALIGN_256 + 1)
 144:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 memory_alignment = UX_ALIGN_512;
 145:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 
 146:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             else
 147:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             {
 148:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 149:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    /* Check range for alignment on 256 bytes.  */
 150:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 if (memory_size_requested >= UX_ALIGN_128 + 1)
 151:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     memory_alignment = UX_ALIGN_256;
 152:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 153:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 else
 154:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 {
 155:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
 156:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                        /* Check range for alignment on 128 bytes.  */
 157:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     if (memory_size_requested >= UX_ALIGN_64 + 1)
 158:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         memory_alignment = UX_ALIGN_128;
 159:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 160:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     else
 161:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     {
 162:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
ARM GAS  /tmp/ccItr72p.s 			page 5


 163:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                            /* Check range for alignment on 128 bytes.  */
 164:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         if (memory_size_requested >= UX_ALIGN_64 + 1)
 165:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             memory_alignment = UX_ALIGN_128;
 166:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 167:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         else
 168:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         {
 169:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 170:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                /* Check range for alignment on 64 bytes.  */
 171:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             if (memory_size_requested >= UX_ALIGN_32 + 1)
 172:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 memory_alignment = UX_ALIGN_64;
 173:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 174:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             else
 175:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             {
 176:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     
 177:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                    /* Check range for alignment on 32 bytes.  */
 178:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 if (memory_size_requested >= UX_ALIGN_16 + 1)
 179:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_32;
 180:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 181:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 else
 182:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_MIN;
 183:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 184:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 185:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             }                        
 186:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         }                        
 187:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     }                        
 188:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 }                        
 189:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             }                        
 190:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         }                        
 191:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     }                        
 192:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 }
 193:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             }                
 194:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }        
 195:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 196:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 197:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #else
 198:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 199:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
 200:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
 201:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment = UX_NO_ALIGN;
 202:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 203:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 204:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 205:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Ensure the alignment meats the minimum.  */
 206:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment < UX_ALIGN_MIN)
  68              		.loc 1 206 5 is_stmt 1 view .LVU15
  69              		.loc 1 206 8 is_stmt 0 view .LVU16
  70 001a 0E2E     		cmp	r6, #14
  71 001c 6DD9     		bls	.L22
  72              	.LVL3:
  73              	.L3:
 207:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment =  UX_ALIGN_MIN;
 208:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 209:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Adjust the memory alignment since our macros are one minus the desired alignment.
 210:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        Also determine the amount of extra memory we need for the alignment, which is one
 211:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        minus the actual alignment.  */
 212:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_for_alignment =  memory_alignment;
  74              		.loc 1 212 5 is_stmt 1 view .LVU17
ARM GAS  /tmp/ccItr72p.s 			page 6


 213:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_alignment++;
  75              		.loc 1 213 5 view .LVU18
  76              		.loc 1 213 21 is_stmt 0 view .LVU19
  77 001e 06F10108 		add	r8, r6, #1
  78              	.LVL4:
 214:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 215:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* We need to make sure that the next memory block buffer is 16-byte aligned too. We
 216:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        do this by first adjusting the requested memory to be 16-byte aligned. One problem
 217:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        now is that the memory block might not be a size that is a multiple of 16, so we need
 218:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to add the amount of memory required such that the memory buffer after the block has 
 219:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the correct alignment. For example, if the memory block has a size of 24, then we need
 220:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to make sure it is placed on an 8-byte alignment that is after a 16-byte alignment so
 221:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that the memory right after the memory block is 16-byte aligned (8 + 24 = 32).  */
 222:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested =  (memory_size_requested +    UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_MIN);
  79              		.loc 1 222 5 is_stmt 1 view .LVU20
  80              		.loc 1 222 53 is_stmt 0 view .LVU21
  81 0022 0F35     		adds	r5, r5, #15
  82              	.LVL5:
  83              		.loc 1 222 27 view .LVU22
  84 0024 25F00F05 		bic	r5, r5, #15
  85              	.LVL6:
 223:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested += (((ULONG)sizeof(UX_MEMORY_BLOCK) + UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_M
  86              		.loc 1 223 5 is_stmt 1 view .LVU23
 224:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 225:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Try to find the best block for this memory by requesting the maximum amount of
 226:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        memory we'll need which is calculated as follows: the amount memory requested by
 227:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the caller plus the maximum amount of memory wasted due to alignment plus 2 memory
 228:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        blocks structs - one for the new memory block we'll create for the user block and one
 229:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that we might create if there is extra memory after doing the alignment.  */
 230:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_block =  _ux_utility_memory_free_block_best_get(memory_cache_flag, memory_size_requested
  87              		.loc 1 230 5 view .LVU24
  88              		.loc 1 230 101 is_stmt 0 view .LVU25
  89 0028 7119     		adds	r1, r6, r5
  90              		.loc 1 230 21 view .LVU26
  91 002a 1031     		adds	r1, r1, #16
  92 002c 3846     		mov	r0, r7
  93 002e FFF7FEFF 		bl	_ux_utility_memory_free_block_best_get
  94              	.LVL7:
 231:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 232:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* If the block returned is NULL, there is no free memory in the pool
 233:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        for that size. */
 234:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_block == UX_NULL)
  95              		.loc 1 234 5 is_stmt 1 view .LVU27
  96              		.loc 1 234 8 is_stmt 0 view .LVU28
  97 0032 0446     		mov	r4, r0
  98 0034 0028     		cmp	r0, #0
  99 0036 62D0     		beq	.L25
 235:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 236:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 237:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Release the protection.  */
 238:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 239:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 240:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 241:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_MEMORY_INSUFFICIENT, memory_size_requested, 0, 0
 242:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 243:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Error trap. */
 244:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_UTILITY, UX_MEMORY_INSUF
ARM GAS  /tmp/ccItr72p.s 			page 7


 245:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 246:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Return NULL to indicate no block was found.  */
 247:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         return(UX_NULL);
 248:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 249:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 250:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the memory buffer for this block.  */
 251:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     int_memory_buffer = (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
 100              		.loc 1 251 5 is_stmt 1 view .LVU29
 101              		.loc 1 251 62 is_stmt 0 view .LVU30
 102 0038 00F11003 		add	r3, r0, #16
 103              	.LVL8:
 252:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 253:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Are we already aligned?  */
 254:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if ((int_memory_buffer & (memory_alignment - 1)) == 0)
 104              		.loc 1 254 5 is_stmt 1 view .LVU31
 105              		.loc 1 254 8 is_stmt 0 view .LVU32
 106 003c 1E42     		tst	r6, r3
 107 003e 69D1     		bne	.L6
 255:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 256:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 257:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block.  */
 258:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK) +
 108              		.loc 1 258 9 is_stmt 1 view .LVU33
 109              		.loc 1 258 99 is_stmt 0 view .LVU34
 110 0040 05F11006 		add	r6, r5, #16
 111              	.LVL9:
 112              		.loc 1 258 26 view .LVU35
 113 0044 8219     		adds	r2, r0, r6
 114              	.LVL10:
 259:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 115              		.loc 1 259 9 is_stmt 1 view .LVU36
 116              		.loc 1 259 66 is_stmt 0 view .LVU37
 117 0046 8368     		ldr	r3, [r0, #8]
 118              	.LVL11:
 119              		.loc 1 259 50 view .LVU38
 120 0048 9360     		str	r3, [r2, #8]
 260:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 121              		.loc 1 260 9 is_stmt 1 view .LVU39
 122              		.loc 1 260 54 is_stmt 0 view .LVU40
 123 004a D060     		str	r0, [r2, #12]
 261:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size - memory_s
 124              		.loc 1 261 9 is_stmt 1 view .LVU41
 125              		.loc 1 261 66 is_stmt 0 view .LVU42
 126 004c 0368     		ldr	r3, [r0]
 127              		.loc 1 261 90 view .LVU43
 128 004e 5B1B     		subs	r3, r3, r5
 129              		.loc 1 261 114 view .LVU44
 130 0050 103B     		subs	r3, r3, #16
 131              		.loc 1 261 50 view .LVU45
 132 0052 8351     		str	r3, [r0, r6]
 262:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 133              		.loc 1 262 9 is_stmt 1 view .LVU46
 134              		.loc 1 262 52 is_stmt 0 view .LVU47
 135 0054 0023     		movs	r3, #0
 136 0056 5360     		str	r3, [r2, #4]
 263:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 264:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
ARM GAS  /tmp/ccItr72p.s 			page 8


 265:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  memory_size_requested;
 137              		.loc 1 265 9 is_stmt 1 view .LVU48
 138              		.loc 1 265 46 is_stmt 0 view .LVU49
 139 0058 0560     		str	r5, [r0]
 266:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 140              		.loc 1 266 9 is_stmt 1 view .LVU50
 141              		.loc 1 266 46 is_stmt 0 view .LVU51
 142 005a 8260     		str	r2, [r0, #8]
 267:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 143              		.loc 1 267 9 is_stmt 1 view .LVU52
 144              		.loc 1 267 66 is_stmt 0 view .LVU53
 145 005c 47F00043 		orr	r3, r7, #-2147483648
 146              		.loc 1 267 48 view .LVU54
 147 0060 4360     		str	r3, [r0, #4]
 268:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 269:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 270:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEMORY_
 148              		.loc 1 270 9 is_stmt 1 view .LVU55
 149              	.LVL12:
 150              	.L7:
 271:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 272:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 273:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 274:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 275:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Align the buffer. The first thing we do is increment by the size of a
 276:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            memory block because we have to make sure we have enough memory for at
 277:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            least that.  */
 278:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  (ULONG)sizeof(UX_MEMORY_BLOCK);
 279:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 280:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 281:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 282:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block. Note that its size is updated again later.  */
 283:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) (int_memory_buffer - (ULONG)sizeof(UX_MEMORY_BLOCK)
 284:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 285:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 286:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 287:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 288:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 289:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
 290:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer =  (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
 291:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 292:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 293:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 294:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the new memory block's size.  */
 295:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size -=  (memory_block -> ux_memory_block_size + (ULONG
 296:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 297:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Calculate how much memory is leftover in the new memory block after doing
 298:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            the alignment.  */
 299:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         leftover =  new_memory_block -> ux_memory_block_size - memory_size_requested;
 300:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 301:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Can we fit another block after the new block? */
 302:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (leftover > sizeof(UX_MEMORY_BLOCK))
 303:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 304:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 305:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Setup the leftover memory block.  */
 306:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block = (UX_MEMORY_BLOCK *) ((ALIGN_TYPE) new_memory_block + sizeof(UX_
 307:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
ARM GAS  /tmp/ccItr72p.s 			page 9


 308:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 309:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 310:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 311:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 312:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_next =  leftover_memory_block;
 313:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 314:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 315:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 316:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 317:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  new_memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEM
 318:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 319:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* The new memory block is the one we give to the user.  */
 320:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block =  new_memory_block;
 321:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 322:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 323:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory to be returned is after the block header.  */
 324:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_buffer =  ((UCHAR *) memory_block) + sizeof(UX_MEMORY_BLOCK);
 151              		.loc 1 324 5 view .LVU56
 152              		.loc 1 324 19 is_stmt 0 view .LVU57
 153 0062 1034     		adds	r4, r4, #16
 154              	.LVL13:
 325:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 326:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Clear the memory block.  */
 327:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_utility_memory_set(memory_buffer, 0, memory_size_requested); /* Use case of memset is verif
 155              		.loc 1 327 5 is_stmt 1 view .LVU58
 156 0064 2A46     		mov	r2, r5
 157 0066 0021     		movs	r1, #0
 158 0068 2046     		mov	r0, r4
 159 006a FFF7FEFF 		bl	_ux_utility_memory_set
 160              	.LVL14:
 328:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 329:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update the memory free in the pool.  */
 330:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_start == _ux_system -> ux_system_regular_mem
 161              		.loc 1 330 5 view .LVU59
 162              		.loc 1 330 20 is_stmt 0 view .LVU60
 163 006e 4A4B     		ldr	r3, .L28
 164 0070 1868     		ldr	r0, [r3]
 165 0072 C268     		ldr	r2, [r0, #12]
 166              		.loc 1 330 76 view .LVU61
 167 0074 0368     		ldr	r3, [r0]
 168              		.loc 1 330 8 view .LVU62
 169 0076 9A42     		cmp	r2, r3
 170 0078 00F08580 		beq	.L26
 331:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 332:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 333:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* There is only one memory pool.  */
 334:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 335:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 336:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 337:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 338:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 339:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        switch (memory_cache_flag)
 171              		.loc 1 339 8 is_stmt 1 view .LVU63
 172 007c 012F     		cmp	r7, #1
 173 007e 00F08680 		beq	.L27
 340:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        {
 341:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
ARM GAS  /tmp/ccItr72p.s 			page 10


 342:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             case UX_CACHE_SAFE_MEMORY:
 343:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the cache safe memory pool.  */
 344:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_cache_safe_memory_pool_free -= memory_removed_from_pool;
 345:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 346:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 347:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 348:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             default:
 349:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the regular memory pool.  */
 350:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 174              		.loc 1 350 17 view .LVU64
 175              		.loc 1 350 28 is_stmt 0 view .LVU65
 176 0082 8368     		ldr	r3, [r0, #8]
 177              		.loc 1 350 66 view .LVU66
 178 0084 9B1B     		subs	r3, r3, r6
 179 0086 8360     		str	r3, [r0, #8]
 351:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 180              		.loc 1 351 13 is_stmt 1 view .LVU67
 181              	.L10:
 352:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 353:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 354:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 355:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 356:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENABLE_MEMORY_STATISTICS
 357:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 358:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update allocate count, total size.  */
 359:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_cache_flag == UX_REGULAR_MEMORY)
 360:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 361:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_count ++;
 362:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_total += memory_size_requested;
 363:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_count < _ux_system -> ux_system_r
 364:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_count = _ux_system -> ux_system_r
 365:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_total < _ux_system -> ux_system_r
 366:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_total = _ux_system -> ux_system_r
 367:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 368:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 369:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 370:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_count ++;
 371:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_total += memory_size_requested;
 372:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count < _ux_system -> ux_syste
 373:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count = _ux_system -> ux_syste
 374:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total < _ux_system -> ux_syste
 375:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total = _ux_system -> ux_syste
 376:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 377:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 378:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of regular memory pool.  */
 379:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_start -
 380:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_base;
 381:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_regular_memory_pool_max_start_offset)
 382:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_max_start_offset = memory_removed_from_pool;
 383:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_regular_memory_pool_min_free > _ux_system -> ux_system_regular_memo
 384:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_min_free = _ux_system -> ux_system_regular_memo
 385:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 386:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of cache safe memory pool.  */
 387:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_start -
 388:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_base;
 389:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset)
 390:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset = memory_removed_from_pool;
ARM GAS  /tmp/ccItr72p.s 			page 11


 391:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_min_free > _ux_system -> ux_system_cache_saf
 392:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_min_free = _ux_system -> ux_system_cache_saf
 393:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 394:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 395:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 396:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Release the protection.  */
 397:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 182              		.loc 1 397 5 view .LVU68
 183 0088 1C30     		adds	r0, r0, #28
 184 008a FFF7FEFF 		bl	_ux_utility_mutex_off
 185              	.LVL15:
 398:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 399:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory block pointer contains a memory area properly
 400:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        aligned.  */
 401:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     return(memory_buffer);
 186              		.loc 1 401 5 view .LVU69
 187              	.L1:
 402:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** }                                
 188              		.loc 1 402 1 is_stmt 0 view .LVU70
 189 008e 2046     		mov	r0, r4
 190 0090 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 191              	.LVL16:
 192              	.L24:
 104:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 193              		.loc 1 104 9 is_stmt 1 view .LVU71
 104:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 194              		.loc 1 104 12 is_stmt 0 view .LVU72
 195 0094 0E2D     		cmp	r5, #14
 196 0096 17D9     		bls	.L12
 113:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 197              		.loc 1 113 13 is_stmt 1 view .LVU73
 113:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 198              		.loc 1 113 16 is_stmt 0 view .LVU74
 199 0098 B5F5805F 		cmp	r5, #4096
 200 009c 16D8     		bhi	.L13
 122:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     memory_alignment = UX_ALIGN_4096;
 201              		.loc 1 122 17 is_stmt 1 view .LVU75
 122:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     memory_alignment = UX_ALIGN_4096;
 202              		.loc 1 122 20 is_stmt 0 view .LVU76
 203 009e B5F5006F 		cmp	r5, #2048
 204 00a2 16D2     		bcs	.L14
 129:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         memory_alignment = UX_ALIGN_2048;
 205              		.loc 1 129 21 is_stmt 1 view .LVU77
 129:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         memory_alignment = UX_ALIGN_2048;
 206              		.loc 1 129 24 is_stmt 0 view .LVU78
 207 00a4 B5F5806F 		cmp	r5, #1024
 208 00a8 16D2     		bcs	.L15
 136:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             memory_alignment = UX_ALIGN_1024;
 209              		.loc 1 136 25 is_stmt 1 view .LVU79
 136:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             memory_alignment = UX_ALIGN_1024;
 210              		.loc 1 136 28 is_stmt 0 view .LVU80
 211 00aa B5F5007F 		cmp	r5, #512
 212 00ae 16D2     		bcs	.L16
 143:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 memory_alignment = UX_ALIGN_512;
 213              		.loc 1 143 29 is_stmt 1 view .LVU81
 143:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 memory_alignment = UX_ALIGN_512;
 214              		.loc 1 143 32 is_stmt 0 view .LVU82
ARM GAS  /tmp/ccItr72p.s 			page 12


 215 00b0 FF2D     		cmp	r5, #255
 216 00b2 17D8     		bhi	.L17
 150:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     memory_alignment = UX_ALIGN_256;
 217              		.loc 1 150 33 is_stmt 1 view .LVU83
 150:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     memory_alignment = UX_ALIGN_256;
 218              		.loc 1 150 36 is_stmt 0 view .LVU84
 219 00b4 7F2D     		cmp	r5, #127
 220 00b6 18D8     		bhi	.L18
 157:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         memory_alignment = UX_ALIGN_128;
 221              		.loc 1 157 37 is_stmt 1 view .LVU85
 157:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         memory_alignment = UX_ALIGN_128;
 222              		.loc 1 157 40 is_stmt 0 view .LVU86
 223 00b8 3F2D     		cmp	r5, #63
 224 00ba 18D8     		bhi	.L19
 164:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             memory_alignment = UX_ALIGN_128;
 225              		.loc 1 164 41 is_stmt 1 view .LVU87
 171:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 memory_alignment = UX_ALIGN_64;
 226              		.loc 1 171 45 view .LVU88
 171:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 memory_alignment = UX_ALIGN_64;
 227              		.loc 1 171 48 is_stmt 0 view .LVU89
 228 00bc 1F2D     		cmp	r5, #31
 229 00be 18D8     		bhi	.L20
 178:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_32;
 230              		.loc 1 178 49 is_stmt 1 view .LVU90
 178:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_32;
 231              		.loc 1 178 52 is_stmt 0 view .LVU91
 232 00c0 0F2D     		cmp	r5, #15
 233 00c2 18D8     		bhi	.L21
 182:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 234              		.loc 1 182 70 view .LVU92
 235 00c4 0F26     		movs	r6, #15
 236              	.LVL17:
 182:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 237              		.loc 1 182 70 view .LVU93
 238 00c6 AAE7     		b	.L3
 239              	.LVL18:
 240              	.L12:
 207:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 241              		.loc 1 207 26 view .LVU94
 242 00c8 0F26     		movs	r6, #15
 243              	.LVL19:
 207:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 244              		.loc 1 207 26 view .LVU95
 245 00ca A8E7     		b	.L3
 246              	.LVL20:
 247              	.L13:
 116:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 248              		.loc 1 116 34 view .LVU96
 249 00cc 40F6FF76 		movw	r6, #4095
 250              	.LVL21:
 116:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 251              		.loc 1 116 34 view .LVU97
 252 00d0 A5E7     		b	.L3
 253              	.LVL22:
 254              	.L14:
 123:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 255              		.loc 1 123 38 view .LVU98
ARM GAS  /tmp/ccItr72p.s 			page 13


 256 00d2 40F6FF76 		movw	r6, #4095
 257              	.LVL23:
 123:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 258              		.loc 1 123 38 view .LVU99
 259 00d6 A2E7     		b	.L3
 260              	.LVL24:
 261              	.L15:
 130:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 262              		.loc 1 130 42 view .LVU100
 263 00d8 40F2FF76 		movw	r6, #2047
 264              	.LVL25:
 130:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 265              		.loc 1 130 42 view .LVU101
 266 00dc 9FE7     		b	.L3
 267              	.LVL26:
 268              	.L16:
 137:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 269              		.loc 1 137 46 view .LVU102
 270 00de 40F2FF36 		movw	r6, #1023
 271              	.LVL27:
 137:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 272              		.loc 1 137 46 view .LVU103
 273 00e2 9CE7     		b	.L3
 274              	.LVL28:
 275              	.L17:
 144:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 
 276              		.loc 1 144 50 view .LVU104
 277 00e4 40F2FF16 		movw	r6, #511
 278              	.LVL29:
 144:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 
 279              		.loc 1 144 50 view .LVU105
 280 00e8 99E7     		b	.L3
 281              	.LVL30:
 282              	.L18:
 151:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 283              		.loc 1 151 54 view .LVU106
 284 00ea FF26     		movs	r6, #255
 285              	.LVL31:
 151:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 286              		.loc 1 151 54 view .LVU107
 287 00ec 97E7     		b	.L3
 288              	.LVL32:
 289              	.L19:
 158:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 290              		.loc 1 158 58 view .LVU108
 291 00ee 7F26     		movs	r6, #127
 292              	.LVL33:
 158:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 293              		.loc 1 158 58 view .LVU109
 294 00f0 95E7     		b	.L3
 295              	.LVL34:
 296              	.L20:
 172:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 297              		.loc 1 172 66 view .LVU110
 298 00f2 3F26     		movs	r6, #63
 299              	.LVL35:
 172:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
ARM GAS  /tmp/ccItr72p.s 			page 14


 300              		.loc 1 172 66 view .LVU111
 301 00f4 93E7     		b	.L3
 302              	.LVL36:
 303              	.L21:
 179:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 304              		.loc 1 179 70 view .LVU112
 305 00f6 1F26     		movs	r6, #31
 306              	.LVL37:
 179:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 307              		.loc 1 179 70 view .LVU113
 308 00f8 91E7     		b	.L3
 309              	.LVL38:
 310              	.L22:
 207:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 311              		.loc 1 207 26 view .LVU114
 312 00fa 0F26     		movs	r6, #15
 313              	.LVL39:
 207:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 314              		.loc 1 207 26 view .LVU115
 315 00fc 8FE7     		b	.L3
 316              	.LVL40:
 317              	.L25:
 238:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 318              		.loc 1 238 9 is_stmt 1 view .LVU116
 238:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 319              		.loc 1 238 42 is_stmt 0 view .LVU117
 320 00fe 264B     		ldr	r3, .L28
 321 0100 1868     		ldr	r0, [r3]
 322              	.LVL41:
 238:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 323              		.loc 1 238 9 view .LVU118
 324 0102 1C30     		adds	r0, r0, #28
 325 0104 FFF7FEFF 		bl	_ux_utility_mutex_off
 326              	.LVL42:
 244:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 327              		.loc 1 244 9 is_stmt 1 view .LVU119
 328 0108 1222     		movs	r2, #18
 329 010a 0821     		movs	r1, #8
 330 010c 0220     		movs	r0, #2
 331 010e FFF7FEFF 		bl	_ux_system_error_handler
 332              	.LVL43:
 247:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 333              		.loc 1 247 9 view .LVU120
 247:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 334              		.loc 1 247 15 is_stmt 0 view .LVU121
 335 0112 BCE7     		b	.L1
 336              	.LVL44:
 337              	.L6:
 278:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 338              		.loc 1 278 9 is_stmt 1 view .LVU122
 278:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 339              		.loc 1 278 27 is_stmt 0 view .LVU123
 340 0114 03F11002 		add	r2, r3, #16
 341              	.LVL45:
 279:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 342              		.loc 1 279 9 is_stmt 1 view .LVU124
 279:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
ARM GAS  /tmp/ccItr72p.s 			page 15


 343              		.loc 1 279 27 is_stmt 0 view .LVU125
 344 0118 4244     		add	r2, r2, r8
 345              	.LVL46:
 279:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 346              		.loc 1 279 27 view .LVU126
 347 011a 013A     		subs	r2, r2, #1
 348              	.LVL47:
 280:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 349              		.loc 1 280 9 is_stmt 1 view .LVU127
 280:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 350              		.loc 1 280 27 is_stmt 0 view .LVU128
 351 011c 22EA0602 		bic	r2, r2, r6
 352              	.LVL48:
 283:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 353              		.loc 1 283 9 is_stmt 1 view .LVU129
 283:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 354              		.loc 1 283 68 is_stmt 0 view .LVU130
 355 0120 A2F11001 		sub	r1, r2, #16
 356              	.LVL49:
 284:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 357              		.loc 1 284 9 is_stmt 1 view .LVU131
 284:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 358              		.loc 1 284 54 is_stmt 0 view .LVU132
 359 0124 C860     		str	r0, [r1, #12]
 285:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 360              		.loc 1 285 9 is_stmt 1 view .LVU133
 285:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 361              		.loc 1 285 66 is_stmt 0 view .LVU134
 362 0126 8068     		ldr	r0, [r0, #8]
 363              	.LVL50:
 285:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 364              		.loc 1 285 50 view .LVU135
 365 0128 8860     		str	r0, [r1, #8]
 286:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 366              		.loc 1 286 9 is_stmt 1 view .LVU136
 286:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 367              		.loc 1 286 66 is_stmt 0 view .LVU137
 368 012a 2068     		ldr	r0, [r4]
 286:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 369              		.loc 1 286 50 view .LVU138
 370 012c 42F8100C 		str	r0, [r2, #-16]
 287:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 371              		.loc 1 287 9 is_stmt 1 view .LVU139
 287:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 372              		.loc 1 287 70 is_stmt 0 view .LVU140
 373 0130 47F00040 		orr	r0, r7, #-2147483648
 287:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 374              		.loc 1 287 52 view .LVU141
 375 0134 4860     		str	r0, [r1, #4]
 290:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 376              		.loc 1 290 9 is_stmt 1 view .LVU142
 377              	.LVL51:
 291:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 378              		.loc 1 291 9 view .LVU143
 291:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 379              		.loc 1 291 46 is_stmt 0 view .LVU144
 380 0136 A160     		str	r1, [r4, #8]
ARM GAS  /tmp/ccItr72p.s 			page 16


 292:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 381              		.loc 1 292 9 is_stmt 1 view .LVU145
 292:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 382              		.loc 1 292 49 is_stmt 0 view .LVU146
 383 0138 C81A     		subs	r0, r1, r3
 292:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 384              		.loc 1 292 46 view .LVU147
 385 013a 2060     		str	r0, [r4]
 295:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 386              		.loc 1 295 9 is_stmt 1 view .LVU148
 295:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 387              		.loc 1 295 26 is_stmt 0 view .LVU149
 388 013c 52F8100C 		ldr	r0, [r2, #-16]
 295:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 389              		.loc 1 295 50 view .LVU150
 390 0140 5B1A     		subs	r3, r3, r1
 391              	.LVL52:
 295:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 392              		.loc 1 295 50 view .LVU151
 393 0142 0344     		add	r3, r3, r0
 394 0144 103B     		subs	r3, r3, #16
 395 0146 42F8103C 		str	r3, [r2, #-16]
 299:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 396              		.loc 1 299 9 is_stmt 1 view .LVU152
 299:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 397              		.loc 1 299 18 is_stmt 0 view .LVU153
 398 014a 581B     		subs	r0, r3, r5
 399              	.LVL53:
 302:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 400              		.loc 1 302 9 is_stmt 1 view .LVU154
 302:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 401              		.loc 1 302 12 is_stmt 0 view .LVU155
 402 014c 1028     		cmp	r0, #16
 403 014e 15D9     		bls	.L8
 306:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 404              		.loc 1 306 13 is_stmt 1 view .LVU156
 306:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 405              		.loc 1 306 114 is_stmt 0 view .LVU157
 406 0150 01EB050C 		add	ip, r1, r5
 407 0154 0CF11004 		add	r4, ip, #16
 408              	.LVL54:
 307:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 409              		.loc 1 307 13 is_stmt 1 view .LVU158
 307:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 410              		.loc 1 307 79 is_stmt 0 view .LVU159
 411 0158 8E68     		ldr	r6, [r1, #8]
 412              	.LVL55:
 307:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 413              		.loc 1 307 59 view .LVU160
 414 015a CCF81860 		str	r6, [ip, #24]
 308:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 415              		.loc 1 308 13 is_stmt 1 view .LVU161
 308:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 416              		.loc 1 308 63 is_stmt 0 view .LVU162
 417 015e CCF81C10 		str	r1, [ip, #28]
 309:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 418              		.loc 1 309 13 is_stmt 1 view .LVU163
ARM GAS  /tmp/ccItr72p.s 			page 17


 309:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 419              		.loc 1 309 71 is_stmt 0 view .LVU164
 420 0162 1038     		subs	r0, r0, #16
 421              	.LVL56:
 309:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 422              		.loc 1 309 59 view .LVU165
 423 0164 CCF81000 		str	r0, [ip, #16]
 310:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 424              		.loc 1 310 13 is_stmt 1 view .LVU166
 310:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 425              		.loc 1 310 61 is_stmt 0 view .LVU167
 426 0168 0020     		movs	r0, #0
 427              	.LVL57:
 310:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 428              		.loc 1 310 61 view .LVU168
 429 016a CCF81400 		str	r0, [ip, #20]
 312:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 430              		.loc 1 312 13 is_stmt 1 view .LVU169
 312:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 431              		.loc 1 312 54 is_stmt 0 view .LVU170
 432 016e 8C60     		str	r4, [r1, #8]
 433              	.LVL58:
 313:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 434              		.loc 1 313 13 is_stmt 1 view .LVU171
 313:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 435              		.loc 1 313 30 is_stmt 0 view .LVU172
 436 0170 52F8100C 		ldr	r0, [r2, #-16]
 313:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 437              		.loc 1 313 54 view .LVU173
 438 0174 EB1A     		subs	r3, r5, r3
 439              	.LVL59:
 313:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 440              		.loc 1 313 54 view .LVU174
 441 0176 0344     		add	r3, r3, r0
 442 0178 42F8103C 		str	r3, [r2, #-16]
 443              	.LVL60:
 444              	.L8:
 317:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 445              		.loc 1 317 9 is_stmt 1 view .LVU175
 317:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 446              		.loc 1 317 54 is_stmt 0 view .LVU176
 447 017c 52F8106C 		ldr	r6, [r2, #-16]
 317:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 448              		.loc 1 317 34 view .LVU177
 449 0180 1036     		adds	r6, r6, #16
 450              	.LVL61:
 320:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 451              		.loc 1 320 9 is_stmt 1 view .LVU178
 320:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 452              		.loc 1 320 22 is_stmt 0 view .LVU179
 453 0182 0C46     		mov	r4, r1
 454 0184 6DE7     		b	.L7
 455              	.LVL62:
 456              	.L26:
 334:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 457              		.loc 1 334 9 is_stmt 1 view .LVU180
 334:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
ARM GAS  /tmp/ccItr72p.s 			page 18


 458              		.loc 1 334 20 is_stmt 0 view .LVU181
 459 0186 8368     		ldr	r3, [r0, #8]
 334:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 460              		.loc 1 334 58 view .LVU182
 461 0188 9B1B     		subs	r3, r3, r6
 462 018a 8360     		str	r3, [r0, #8]
 463 018c 7CE7     		b	.L10
 464              	.L27:
 344:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 465              		.loc 1 344 17 is_stmt 1 view .LVU183
 344:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 466              		.loc 1 344 28 is_stmt 0 view .LVU184
 467 018e 4369     		ldr	r3, [r0, #20]
 344:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 468              		.loc 1 344 69 view .LVU185
 469 0190 9B1B     		subs	r3, r3, r6
 470 0192 4361     		str	r3, [r0, #20]
 346:./Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 471              		.loc 1 346 13 is_stmt 1 view .LVU186
 472 0194 78E7     		b	.L10
 473              	.L29:
 474 0196 00BF     		.align	2
 475              	.L28:
 476 0198 00000000 		.word	_ux_system
 477              		.cfi_endproc
 478              	.LFE11:
 480              		.text
 481              	.Letext0:
 482              		.file 2 "./Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 483              		.file 3 "./Middlewares/ST/threadx/common/inc/tx_api.h"
 484              		.file 4 "./Middlewares/ST/usbx/common/core/inc/ux_api.h"
 485              		.file 5 "./Middlewares/ST/usbx/common/core/inc/ux_utility.h"
 486              		.file 6 "./Middlewares/ST/usbx/common/core/inc/ux_system.h"
ARM GAS  /tmp/ccItr72p.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 ux_utility_memory_allocate.c
     /tmp/ccItr72p.s:21     .text._ux_utility_memory_allocate:00000000 $t
     /tmp/ccItr72p.s:27     .text._ux_utility_memory_allocate:00000000 _ux_utility_memory_allocate
     /tmp/ccItr72p.s:476    .text._ux_utility_memory_allocate:00000198 $d

UNDEFINED SYMBOLS
_ux_utility_mutex_on
_ux_utility_memory_free_block_best_get
_ux_utility_memory_set
_ux_utility_mutex_off
_ux_system_error_handler
_ux_system
